(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function W_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var J_={exports:{}},$u={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eA=Symbol.for("react.transitional.element"),nA=Symbol.for("react.fragment");function tv(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var s in t)s!=="key"&&(n[s]=t[s])}else n=t;return t=n.ref,{$$typeof:eA,type:e,key:i,ref:t!==void 0?t:null,props:n}}$u.Fragment=nA;$u.jsx=tv;$u.jsxs=tv;J_.exports=$u;var y=J_.exports,ev={exports:{}},W={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dd=Symbol.for("react.transitional.element"),iA=Symbol.for("react.portal"),sA=Symbol.for("react.fragment"),rA=Symbol.for("react.strict_mode"),aA=Symbol.for("react.profiler"),oA=Symbol.for("react.consumer"),lA=Symbol.for("react.context"),uA=Symbol.for("react.forward_ref"),cA=Symbol.for("react.suspense"),hA=Symbol.for("react.memo"),nv=Symbol.for("react.lazy"),ep=Symbol.iterator;function fA(e){return e===null||typeof e!="object"?null:(e=ep&&e[ep]||e["@@iterator"],typeof e=="function"?e:null)}var iv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sv=Object.assign,rv={};function Or(e,t,n){this.props=e,this.context=t,this.refs=rv,this.updater=n||iv}Or.prototype.isReactComponent={};Or.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Or.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function av(){}av.prototype=Or.prototype;function md(e,t,n){this.props=e,this.context=t,this.refs=rv,this.updater=n||iv}var gd=md.prototype=new av;gd.constructor=md;sv(gd,Or.prototype);gd.isPureReactComponent=!0;var np=Array.isArray,bt={H:null,A:null,T:null,S:null,V:null},ov=Object.prototype.hasOwnProperty;function pd(e,t,n,i,s,r){return n=r.ref,{$$typeof:dd,type:e,key:t,ref:n!==void 0?n:null,props:r}}function dA(e,t){return pd(e.type,t,void 0,void 0,void 0,e.props)}function yd(e){return typeof e=="object"&&e!==null&&e.$$typeof===dd}function mA(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ip=/\/+/g;function Jc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?mA(""+e.key):t.toString(36)}function sp(){}function gA(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(sp,sp):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function ks(e,t,n,i,s){var r=typeof e;(r==="undefined"||r==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(r){case"bigint":case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case dd:case iA:a=!0;break;case nv:return a=e._init,ks(a(e._payload),t,n,i,s)}}if(a)return s=s(e),a=i===""?"."+Jc(e,0):i,np(s)?(n="",a!=null&&(n=a.replace(ip,"$&/")+"/"),ks(s,t,n,"",function(h){return h})):s!=null&&(yd(s)&&(s=dA(s,n+(s.key==null||e&&e.key===s.key?"":(""+s.key).replace(ip,"$&/")+"/")+a)),t.push(s)),1;a=0;var l=i===""?".":i+":";if(np(e))for(var u=0;u<e.length;u++)i=e[u],r=l+Jc(i,u),a+=ks(i,t,n,r,s);else if(u=fA(e),typeof u=="function")for(e=u.call(e),u=0;!(i=e.next()).done;)i=i.value,r=l+Jc(i,u++),a+=ks(i,t,n,r,s);else if(r==="object"){if(typeof e.then=="function")return ks(gA(e),t,n,i,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return a}function ul(e,t,n){if(e==null)return e;var i=[],s=0;return ks(e,i,"","",function(r){return t.call(n,r,s++)}),i}function pA(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var rp=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function yA(){}W.Children={map:ul,forEach:function(e,t,n){ul(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ul(e,function(){t++}),t},toArray:function(e){return ul(e,function(t){return t})||[]},only:function(e){if(!yd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};W.Component=Or;W.Fragment=sA;W.Profiler=aA;W.PureComponent=md;W.StrictMode=rA;W.Suspense=cA;W.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=bt;W.__COMPILER_RUNTIME={__proto__:null,c:function(e){return bt.H.useMemoCache(e)}};W.cache=function(e){return function(){return e.apply(null,arguments)}};W.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=sv({},e.props),s=e.key,r=void 0;if(t!=null)for(a in t.ref!==void 0&&(r=void 0),t.key!==void 0&&(s=""+t.key),t)!ov.call(t,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&t.ref===void 0||(i[a]=t[a]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}return pd(e.type,s,void 0,void 0,r,i)};W.createContext=function(e){return e={$$typeof:lA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:oA,_context:e},e};W.createElement=function(e,t,n){var i,s={},r=null;if(t!=null)for(i in t.key!==void 0&&(r=""+t.key),t)ov.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(s[i]=t[i]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)s[i]===void 0&&(s[i]=a[i]);return pd(e,r,void 0,void 0,null,s)};W.createRef=function(){return{current:null}};W.forwardRef=function(e){return{$$typeof:uA,render:e}};W.isValidElement=yd;W.lazy=function(e){return{$$typeof:nv,_payload:{_status:-1,_result:e},_init:pA}};W.memo=function(e,t){return{$$typeof:hA,type:e,compare:t===void 0?null:t}};W.startTransition=function(e){var t=bt.T,n={};bt.T=n;try{var i=e(),s=bt.S;s!==null&&s(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(yA,rp)}catch(r){rp(r)}finally{bt.T=t}};W.unstable_useCacheRefresh=function(){return bt.H.useCacheRefresh()};W.use=function(e){return bt.H.use(e)};W.useActionState=function(e,t,n){return bt.H.useActionState(e,t,n)};W.useCallback=function(e,t){return bt.H.useCallback(e,t)};W.useContext=function(e){return bt.H.useContext(e)};W.useDebugValue=function(){};W.useDeferredValue=function(e,t){return bt.H.useDeferredValue(e,t)};W.useEffect=function(e,t,n){var i=bt.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(e,t)};W.useId=function(){return bt.H.useId()};W.useImperativeHandle=function(e,t,n){return bt.H.useImperativeHandle(e,t,n)};W.useInsertionEffect=function(e,t){return bt.H.useInsertionEffect(e,t)};W.useLayoutEffect=function(e,t){return bt.H.useLayoutEffect(e,t)};W.useMemo=function(e,t){return bt.H.useMemo(e,t)};W.useOptimistic=function(e,t){return bt.H.useOptimistic(e,t)};W.useReducer=function(e,t,n){return bt.H.useReducer(e,t,n)};W.useRef=function(e){return bt.H.useRef(e)};W.useState=function(e){return bt.H.useState(e)};W.useSyncExternalStore=function(e,t,n){return bt.H.useSyncExternalStore(e,t,n)};W.useTransition=function(){return bt.H.useTransition()};W.version="19.1.1";ev.exports=W;var at=ev.exports;const _A=W_(at);var lv={exports:{}},Zu={},uv={exports:{}},cv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,Z){var X=B.length;B.push(Z);t:for(;0<X;){var vt=X-1>>>1,Ot=B[vt];if(0<s(Ot,Z))B[vt]=Z,B[X]=Ot,X=vt;else break t}}function n(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var Z=B[0],X=B.pop();if(X!==Z){B[0]=X;t:for(var vt=0,Ot=B.length,xs=Ot>>>1;vt<xs;){var we=2*(vt+1)-1,Pt=B[we],An=we+1,sn=B[An];if(0>s(Pt,X))An<Ot&&0>s(sn,Pt)?(B[vt]=sn,B[An]=X,vt=An):(B[vt]=Pt,B[we]=X,vt=we);else if(An<Ot&&0>s(sn,X))B[vt]=sn,B[An]=X,vt=An;else break t}}return Z}function s(B,Z){var X=B.sortIndex-Z.sortIndex;return X!==0?X:B.id-Z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],h=[],d=1,p=null,m=3,E=!1,D=!1,M=!1,V=!1,A=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function R(B){for(var Z=n(h);Z!==null;){if(Z.callback===null)i(h);else if(Z.startTime<=B)i(h),Z.sortIndex=Z.expirationTime,t(u,Z);else break;Z=n(h)}}function k(B){if(M=!1,R(B),!D)if(n(u)!==null)D=!0,j||(j=!0,C());else{var Z=n(h);Z!==null&&Sn(k,Z.startTime-B)}}var j=!1,S=-1,v=5,b=-1;function w(){return V?!0:!(e.unstable_now()-b<v)}function x(){if(V=!1,j){var B=e.unstable_now();b=B;var Z=!0;try{t:{D=!1,M&&(M=!1,g(S),S=-1),E=!0;var X=m;try{e:{for(R(B),p=n(u);p!==null&&!(p.expirationTime>B&&w());){var vt=p.callback;if(typeof vt=="function"){p.callback=null,m=p.priorityLevel;var Ot=vt(p.expirationTime<=B);if(B=e.unstable_now(),typeof Ot=="function"){p.callback=Ot,R(B),Z=!0;break e}p===n(u)&&i(u),R(B)}else i(u);p=n(u)}if(p!==null)Z=!0;else{var xs=n(h);xs!==null&&Sn(k,xs.startTime-B),Z=!1}}break t}finally{p=null,m=X,E=!1}Z=void 0}}finally{Z?C():j=!1}}}var C;if(typeof T=="function")C=function(){T(x)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Xe=I.port2;I.port1.onmessage=x,C=function(){Xe.postMessage(null)}}else C=function(){A(x,0)};function Sn(B,Z){S=A(function(){B(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(B){switch(m){case 1:case 2:case 3:var Z=3;break;default:Z=m}var X=m;m=Z;try{return B()}finally{m=X}},e.unstable_requestPaint=function(){V=!0},e.unstable_runWithPriority=function(B,Z){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var X=m;m=B;try{return Z()}finally{m=X}},e.unstable_scheduleCallback=function(B,Z,X){var vt=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?vt+X:vt):X=vt,B){case 1:var Ot=-1;break;case 2:Ot=250;break;case 5:Ot=1073741823;break;case 4:Ot=1e4;break;default:Ot=5e3}return Ot=X+Ot,B={id:d++,callback:Z,priorityLevel:B,startTime:X,expirationTime:Ot,sortIndex:-1},X>vt?(B.sortIndex=X,t(h,B),n(u)===null&&B===n(h)&&(M?(g(S),S=-1):M=!0,Sn(k,X-vt))):(B.sortIndex=Ot,t(u,B),D||E||(D=!0,j||(j=!0,C()))),B},e.unstable_shouldYield=w,e.unstable_wrapCallback=function(B){var Z=m;return function(){var X=m;m=Z;try{return B.apply(this,arguments)}finally{m=X}}}})(cv);uv.exports=cv;var vA=uv.exports,hv={exports:{}},_e={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EA=at;function fv(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ti(){}var ye={d:{f:ti,r:function(){throw Error(fv(522))},D:ti,C:ti,L:ti,m:ti,X:ti,S:ti,M:ti},p:0,findDOMNode:null},TA=Symbol.for("react.portal");function SA(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:TA,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var Aa=EA.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Wu(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}_e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ye;_e.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(fv(299));return SA(e,t,null,n)};_e.flushSync=function(e){var t=Aa.T,n=ye.p;try{if(Aa.T=null,ye.p=2,e)return e()}finally{Aa.T=t,ye.p=n,ye.d.f()}};_e.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,ye.d.C(e,t))};_e.prefetchDNS=function(e){typeof e=="string"&&ye.d.D(e)};_e.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=Wu(n,t.crossOrigin),s=typeof t.integrity=="string"?t.integrity:void 0,r=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?ye.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:s,fetchPriority:r}):n==="script"&&ye.d.X(e,{crossOrigin:i,integrity:s,fetchPriority:r,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};_e.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Wu(t.as,t.crossOrigin);ye.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&ye.d.M(e)};_e.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=Wu(n,t.crossOrigin);ye.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};_e.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Wu(t.as,t.crossOrigin);ye.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else ye.d.m(e)};_e.requestFormReset=function(e){ye.d.r(e)};_e.unstable_batchedUpdates=function(e,t){return e(t)};_e.useFormState=function(e,t,n){return Aa.H.useFormState(e,t,n)};_e.useFormStatus=function(){return Aa.H.useHostTransitionStatus()};_e.version="19.1.1";function dv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dv)}catch(e){console.error(e)}}dv(),hv.exports=_e;var AA=hv.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gt=vA,mv=at,bA=AA;function U(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function gv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function yo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function pv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ap(e){if(yo(e)!==e)throw Error(U(188))}function wA(e){var t=e.alternate;if(!t){if(t=yo(e),t===null)throw Error(U(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return ap(s),e;if(r===i)return ap(s),t;r=r.sibling}throw Error(U(188))}if(n.return!==i.return)n=s,i=r;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a){for(l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a)throw Error(U(189))}}if(n.alternate!==i)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?e:t}function yv(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=yv(e),t!==null)return t;e=e.sibling}return null}var St=Object.assign,RA=Symbol.for("react.element"),cl=Symbol.for("react.transitional.element"),da=Symbol.for("react.portal"),Hs=Symbol.for("react.fragment"),_v=Symbol.for("react.strict_mode"),Yh=Symbol.for("react.profiler"),IA=Symbol.for("react.provider"),vv=Symbol.for("react.consumer"),Nn=Symbol.for("react.context"),_d=Symbol.for("react.forward_ref"),Qh=Symbol.for("react.suspense"),Kh=Symbol.for("react.suspense_list"),vd=Symbol.for("react.memo"),si=Symbol.for("react.lazy"),Xh=Symbol.for("react.activity"),xA=Symbol.for("react.memo_cache_sentinel"),op=Symbol.iterator;function ra(e){return e===null||typeof e!="object"?null:(e=op&&e[op]||e["@@iterator"],typeof e=="function"?e:null)}var CA=Symbol.for("react.client.reference");function $h(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===CA?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Hs:return"Fragment";case Yh:return"Profiler";case _v:return"StrictMode";case Qh:return"Suspense";case Kh:return"SuspenseList";case Xh:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case da:return"Portal";case Nn:return(e.displayName||"Context")+".Provider";case vv:return(e._context.displayName||"Context")+".Consumer";case _d:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case vd:return t=e.displayName||null,t!==null?t:$h(e.type)||"Memo";case si:t=e._payload,e=e._init;try{return $h(e(t))}catch{}}return null}var ma=Array.isArray,Q=mv.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct=bA.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,es={pending:!1,data:null,method:null,action:null},Zh=[],Fs=-1;function En(e){return{current:e}}function Zt(e){0>Fs||(e.current=Zh[Fs],Zh[Fs]=null,Fs--)}function wt(e,t){Fs++,Zh[Fs]=e.current,e.current=t}var un=En(null),Ga=En(null),vi=En(null),Jl=En(null);function tu(e,t){switch(wt(vi,t),wt(Ga,e),wt(un,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?fy(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=fy(t),e=PE(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Zt(un),wt(un,e)}function mr(){Zt(un),Zt(Ga),Zt(vi)}function Wh(e){e.memoizedState!==null&&wt(Jl,e);var t=un.current,n=PE(t,e.type);t!==n&&(wt(Ga,e),wt(un,n))}function eu(e){Ga.current===e&&(Zt(un),Zt(Ga)),Jl.current===e&&(Zt(Jl),eo._currentValue=es)}var Jh=Object.prototype.hasOwnProperty,Ed=Gt.unstable_scheduleCallback,th=Gt.unstable_cancelCallback,NA=Gt.unstable_shouldYield,DA=Gt.unstable_requestPaint,cn=Gt.unstable_now,OA=Gt.unstable_getCurrentPriorityLevel,Ev=Gt.unstable_ImmediatePriority,Tv=Gt.unstable_UserBlockingPriority,nu=Gt.unstable_NormalPriority,MA=Gt.unstable_LowPriority,Sv=Gt.unstable_IdlePriority,VA=Gt.log,kA=Gt.unstable_setDisableYieldValue,_o=null,De=null;function mi(e){if(typeof VA=="function"&&kA(e),De&&typeof De.setStrictMode=="function")try{De.setStrictMode(_o,e)}catch{}}var Oe=Math.clz32?Math.clz32:LA,PA=Math.log,UA=Math.LN2;function LA(e){return e>>>=0,e===0?32:31-(PA(e)/UA|0)|0}var hl=256,fl=4194304;function $i(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ju(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var s=0,r=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var l=i&134217727;return l!==0?(i=l&~r,i!==0?s=$i(i):(a&=l,a!==0?s=$i(a):n||(n=l&~e,n!==0&&(s=$i(n))))):(l=i&~r,l!==0?s=$i(l):a!==0?s=$i(a):n||(n=i&~e,n!==0&&(s=$i(n)))),s===0?0:t!==0&&t!==s&&!(t&r)&&(r=s&-s,n=t&-t,r>=n||r===32&&(n&4194048)!==0)?t:s}function vo(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function jA(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Av(){var e=hl;return hl<<=1,!(hl&4194048)&&(hl=256),e}function bv(){var e=fl;return fl<<=1,!(fl&62914560)&&(fl=4194304),e}function eh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Eo(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function zA(e,t,n,i,s,r){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,u=e.expirationTimes,h=e.hiddenUpdates;for(n=a&~n;0<n;){var d=31-Oe(n),p=1<<d;l[d]=0,u[d]=-1;var m=h[d];if(m!==null)for(h[d]=null,d=0;d<m.length;d++){var E=m[d];E!==null&&(E.lane&=-536870913)}n&=~p}i!==0&&wv(e,i,0),r!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=r&~(a&~t))}function wv(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Oe(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&4194090}function Rv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Oe(n),s=1<<i;s&t|e[i]&t&&(e[i]|=t),n&=~s}}function Td(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Sd(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Iv(){var e=ct.p;return e!==0?e:(e=window.event,e===void 0?32:YE(e.type))}function BA(e,t){var n=ct.p;try{return ct.p=e,t()}finally{ct.p=n}}var Bi=Math.random().toString(36).slice(2),he="__reactFiber$"+Bi,Ae="__reactProps$"+Bi,Mr="__reactContainer$"+Bi,tf="__reactEvents$"+Bi,qA="__reactListeners$"+Bi,HA="__reactHandles$"+Bi,lp="__reactResources$"+Bi,To="__reactMarker$"+Bi;function Ad(e){delete e[he],delete e[Ae],delete e[tf],delete e[qA],delete e[HA]}function Gs(e){var t=e[he];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Mr]||n[he]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=gy(e);e!==null;){if(n=e[he])return n;e=gy(e)}return t}e=n,n=e.parentNode}return null}function Vr(e){if(e=e[he]||e[Mr]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function ga(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(U(33))}function nr(e){var t=e[lp];return t||(t=e[lp]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Kt(e){e[To]=!0}var xv=new Set,Cv={};function vs(e,t){gr(e,t),gr(e+"Capture",t)}function gr(e,t){for(Cv[e]=t,e=0;e<t.length;e++)xv.add(t[e])}var FA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),up={},cp={};function GA(e){return Jh.call(cp,e)?!0:Jh.call(up,e)?!1:FA.test(e)?cp[e]=!0:(up[e]=!0,!1)}function Nl(e,t,n){if(GA(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function dl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Rn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}var nh,hp;function Ps(e){if(nh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);nh=t&&t[1]||"",hp=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nh+e+hp}var ih=!1;function sh(e,t){if(!e||ih)return"";ih=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var p=function(){throw Error()};if(Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(E){var m=E}Reflect.construct(e,[],p)}else{try{p.call()}catch(E){m=E}e.call(p.prototype)}}else{try{throw Error()}catch(E){m=E}(p=e())&&typeof p.catch=="function"&&p.catch(function(){})}}catch(E){if(E&&m&&typeof E.stack=="string")return[E.stack,m.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=i.DetermineComponentFrameRoot(),a=r[0],l=r[1];if(a&&l){var u=a.split(`
`),h=l.split(`
`);for(s=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;s<h.length&&!h[s].includes("DetermineComponentFrameRoot");)s++;if(i===u.length||s===h.length)for(i=u.length-1,s=h.length-1;1<=i&&0<=s&&u[i]!==h[s];)s--;for(;1<=i&&0<=s;i--,s--)if(u[i]!==h[s]){if(i!==1||s!==1)do if(i--,s--,0>s||u[i]!==h[s]){var d=`
`+u[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=s);break}}}finally{ih=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ps(n):""}function YA(e){switch(e.tag){case 26:case 27:case 5:return Ps(e.type);case 16:return Ps("Lazy");case 13:return Ps("Suspense");case 19:return Ps("SuspenseList");case 0:case 15:return sh(e.type,!1);case 11:return sh(e.type.render,!1);case 1:return sh(e.type,!0);case 31:return Ps("Activity");default:return""}}function fp(e){try{var t="";do t+=YA(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Le(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Nv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function QA(e){var t=Nv(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){i=""+a,r.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function iu(e){e._valueTracker||(e._valueTracker=QA(e))}function Dv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Nv(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function su(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var KA=/[\n"\\]/g;function Be(e){return e.replace(KA,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ef(e,t,n,i,s,r,a,l){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Le(t)):e.value!==""+Le(t)&&(e.value=""+Le(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?nf(e,a,Le(t)):n!=null?nf(e,a,Le(n)):i!=null&&e.removeAttribute("value"),s==null&&r!=null&&(e.defaultChecked=!!r),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+Le(l):e.removeAttribute("name")}function Ov(e,t,n,i,s,r,a,l){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||t!=null))return;n=n!=null?""+Le(n):"",t=t!=null?""+Le(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}i=i??s,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=l?e.checked:!!i,e.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a)}function nf(e,t,n){t==="number"&&su(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ir(e,t,n,i){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Le(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Mv(e,t,n){if(t!=null&&(t=""+Le(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Le(n):""}function Vv(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(U(92));if(ma(i)){if(1<i.length)throw Error(U(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=Le(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i)}function pr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var XA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dp(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||XA.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function kv(e,t,n){if(t!=null&&typeof t!="object")throw Error(U(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var s in t)i=t[s],t.hasOwnProperty(s)&&n[s]!==i&&dp(e,s,i)}else for(var r in t)t.hasOwnProperty(r)&&dp(e,r,t[r])}function bd(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $A=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ZA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dl(e){return ZA.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var sf=null;function wd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ys=null,sr=null;function mp(e){var t=Vr(e);if(t&&(e=t.stateNode)){var n=e[Ae]||null;t:switch(e=t.stateNode,t.type){case"input":if(ef(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Be(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var s=i[Ae]||null;if(!s)throw Error(U(90));ef(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&Dv(i)}break t;case"textarea":Mv(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&ir(e,!!n.multiple,t,!1)}}}var rh=!1;function Pv(e,t,n){if(rh)return e(t,n);rh=!0;try{var i=e(t);return i}finally{if(rh=!1,(Ys!==null||sr!==null)&&(uc(),Ys&&(t=Ys,e=sr,sr=Ys=null,mp(t),e)))for(t=0;t<e.length;t++)mp(e[t])}}function Ya(e,t){var n=e.stateNode;if(n===null)return null;var i=n[Ae]||null;if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(U(231,t,typeof n));return n}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rf=!1;if(Bn)try{var aa={};Object.defineProperty(aa,"passive",{get:function(){rf=!0}}),window.addEventListener("test",aa,aa),window.removeEventListener("test",aa,aa)}catch{rf=!1}var gi=null,Rd=null,Ol=null;function Uv(){if(Ol)return Ol;var e,t=Rd,n=t.length,i,s="value"in gi?gi.value:gi.textContent,r=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===s[r-i];i++);return Ol=s.slice(e,1<i?1-i:void 0)}function Ml(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ml(){return!0}function gp(){return!1}function be(e){function t(n,i,s,r,a){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(r):r[l]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?ml:gp,this.isPropagationStopped=gp,this}return St(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ml)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ml)},persist:function(){},isPersistent:ml}),t}var Es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tc=be(Es),So=St({},Es,{view:0,detail:0}),WA=be(So),ah,oh,oa,ec=St({},So,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Id,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oa&&(oa&&e.type==="mousemove"?(ah=e.screenX-oa.screenX,oh=e.screenY-oa.screenY):oh=ah=0,oa=e),ah)},movementY:function(e){return"movementY"in e?e.movementY:oh}}),pp=be(ec),JA=St({},ec,{dataTransfer:0}),tb=be(JA),eb=St({},So,{relatedTarget:0}),lh=be(eb),nb=St({},Es,{animationName:0,elapsedTime:0,pseudoElement:0}),ib=be(nb),sb=St({},Es,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rb=be(sb),ab=St({},Es,{data:0}),yp=be(ab),ob={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ub={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ub[e])?!!t[e]:!1}function Id(){return cb}var hb=St({},So,{key:function(e){if(e.key){var t=ob[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ml(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Id,charCode:function(e){return e.type==="keypress"?Ml(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ml(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fb=be(hb),db=St({},ec,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_p=be(db),mb=St({},So,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Id}),gb=be(mb),pb=St({},Es,{propertyName:0,elapsedTime:0,pseudoElement:0}),yb=be(pb),_b=St({},ec,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vb=be(_b),Eb=St({},Es,{newState:0,oldState:0}),Tb=be(Eb),Sb=[9,13,27,32],xd=Bn&&"CompositionEvent"in window,ba=null;Bn&&"documentMode"in document&&(ba=document.documentMode);var Ab=Bn&&"TextEvent"in window&&!ba,Lv=Bn&&(!xd||ba&&8<ba&&11>=ba),vp=" ",Ep=!1;function jv(e,t){switch(e){case"keyup":return Sb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qs=!1;function bb(e,t){switch(e){case"compositionend":return zv(t);case"keypress":return t.which!==32?null:(Ep=!0,vp);case"textInput":return e=t.data,e===vp&&Ep?null:e;default:return null}}function wb(e,t){if(Qs)return e==="compositionend"||!xd&&jv(e,t)?(e=Uv(),Ol=Rd=gi=null,Qs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Lv&&t.locale!=="ko"?null:t.data;default:return null}}var Rb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Rb[e.type]:t==="textarea"}function Bv(e,t,n,i){Ys?sr?sr.push(i):sr=[i]:Ys=i,t=Su(t,"onChange"),0<t.length&&(n=new tc("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var wa=null,Qa=null;function Ib(e){ME(e,0)}function nc(e){var t=ga(e);if(Dv(t))return e}function Sp(e,t){if(e==="change")return t}var qv=!1;if(Bn){var uh;if(Bn){var ch="oninput"in document;if(!ch){var Ap=document.createElement("div");Ap.setAttribute("oninput","return;"),ch=typeof Ap.oninput=="function"}uh=ch}else uh=!1;qv=uh&&(!document.documentMode||9<document.documentMode)}function bp(){wa&&(wa.detachEvent("onpropertychange",Hv),Qa=wa=null)}function Hv(e){if(e.propertyName==="value"&&nc(Qa)){var t=[];Bv(t,Qa,e,wd(e)),Pv(Ib,t)}}function xb(e,t,n){e==="focusin"?(bp(),wa=t,Qa=n,wa.attachEvent("onpropertychange",Hv)):e==="focusout"&&bp()}function Cb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nc(Qa)}function Nb(e,t){if(e==="click")return nc(t)}function Db(e,t){if(e==="input"||e==="change")return nc(t)}function Ob(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ke=typeof Object.is=="function"?Object.is:Ob;function Ka(e,t){if(ke(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!Jh.call(t,s)||!ke(e[s],t[s]))return!1}return!0}function wp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rp(e,t){var n=wp(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=wp(n)}}function Fv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Fv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Gv(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=su(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=su(e.document)}return t}function Cd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Mb=Bn&&"documentMode"in document&&11>=document.documentMode,Ks=null,af=null,Ra=null,of=!1;function Ip(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;of||Ks==null||Ks!==su(i)||(i=Ks,"selectionStart"in i&&Cd(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ra&&Ka(Ra,i)||(Ra=i,i=Su(af,"onSelect"),0<i.length&&(t=new tc("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Ks)))}function Xi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Xs={animationend:Xi("Animation","AnimationEnd"),animationiteration:Xi("Animation","AnimationIteration"),animationstart:Xi("Animation","AnimationStart"),transitionrun:Xi("Transition","TransitionRun"),transitionstart:Xi("Transition","TransitionStart"),transitioncancel:Xi("Transition","TransitionCancel"),transitionend:Xi("Transition","TransitionEnd")},hh={},Yv={};Bn&&(Yv=document.createElement("div").style,"AnimationEvent"in window||(delete Xs.animationend.animation,delete Xs.animationiteration.animation,delete Xs.animationstart.animation),"TransitionEvent"in window||delete Xs.transitionend.transition);function Ts(e){if(hh[e])return hh[e];if(!Xs[e])return e;var t=Xs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Yv)return hh[e]=t[n];return e}var Qv=Ts("animationend"),Kv=Ts("animationiteration"),Xv=Ts("animationstart"),Vb=Ts("transitionrun"),kb=Ts("transitionstart"),Pb=Ts("transitioncancel"),$v=Ts("transitionend"),Zv=new Map,lf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lf.push("scrollEnd");function nn(e,t){Zv.set(e,t),vs(t,[e])}var xp=new WeakMap;function qe(e,t){if(typeof e=="object"&&e!==null){var n=xp.get(e);return n!==void 0?n:(t={value:e,source:t,stack:fp(t)},xp.set(e,t),t)}return{value:e,source:t,stack:fp(t)}}var Ue=[],$s=0,Nd=0;function ic(){for(var e=$s,t=Nd=$s=0;t<e;){var n=Ue[t];Ue[t++]=null;var i=Ue[t];Ue[t++]=null;var s=Ue[t];Ue[t++]=null;var r=Ue[t];if(Ue[t++]=null,i!==null&&s!==null){var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}r!==0&&Wv(n,s,r)}}function sc(e,t,n,i){Ue[$s++]=e,Ue[$s++]=t,Ue[$s++]=n,Ue[$s++]=i,Nd|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Dd(e,t,n,i){return sc(e,t,n,i),ru(e)}function kr(e,t){return sc(e,null,null,t),ru(e)}function Wv(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var s=!1,r=e.return;r!==null;)r.childLanes|=n,i=r.alternate,i!==null&&(i.childLanes|=n),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(s=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,s&&t!==null&&(s=31-Oe(n),e=r.hiddenUpdates,i=e[s],i===null?e[s]=[t]:i.push(t),t.lane=n|536870912),r):null}function ru(e){if(50<Pa)throw Pa=0,Cf=null,Error(U(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Zs={};function Ub(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ne(e,t,n,i){return new Ub(e,t,n,i)}function Od(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Un(e,t){var n=e.alternate;return n===null?(n=Ne(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Jv(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vl(e,t,n,i,s,r){var a=0;if(i=e,typeof e=="function")Od(e)&&(a=1);else if(typeof e=="string")a=jw(e,n,un.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case Xh:return e=Ne(31,n,t,s),e.elementType=Xh,e.lanes=r,e;case Hs:return ns(n.children,s,r,t);case _v:a=8,s|=24;break;case Yh:return e=Ne(12,n,t,s|2),e.elementType=Yh,e.lanes=r,e;case Qh:return e=Ne(13,n,t,s),e.elementType=Qh,e.lanes=r,e;case Kh:return e=Ne(19,n,t,s),e.elementType=Kh,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case IA:case Nn:a=10;break t;case vv:a=9;break t;case _d:a=11;break t;case vd:a=14;break t;case si:a=16,i=null;break t}a=29,n=Error(U(130,e===null?"null":typeof e,"")),i=null}return t=Ne(a,n,t,s),t.elementType=e,t.type=i,t.lanes=r,t}function ns(e,t,n,i){return e=Ne(7,e,i,t),e.lanes=n,e}function fh(e,t,n){return e=Ne(6,e,null,t),e.lanes=n,e}function dh(e,t,n){return t=Ne(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ws=[],Js=0,au=null,ou=0,je=[],ze=0,is=null,Dn=1,On="";function Zi(e,t){Ws[Js++]=ou,Ws[Js++]=au,au=e,ou=t}function t0(e,t,n){je[ze++]=Dn,je[ze++]=On,je[ze++]=is,is=e;var i=Dn;e=On;var s=32-Oe(i)-1;i&=~(1<<s),n+=1;var r=32-Oe(t)+s;if(30<r){var a=s-s%5;r=(i&(1<<a)-1).toString(32),i>>=a,s-=a,Dn=1<<32-Oe(t)+s|n<<s|i,On=r+e}else Dn=1<<r|n<<s|i,On=e}function Md(e){e.return!==null&&(Zi(e,1),t0(e,1,0))}function Vd(e){for(;e===au;)au=Ws[--Js],Ws[Js]=null,ou=Ws[--Js],Ws[Js]=null;for(;e===is;)is=je[--ze],je[ze]=null,On=je[--ze],je[ze]=null,Dn=je[--ze],je[ze]=null}var pe=null,Nt=null,ut=!1,ss=null,on=!1,uf=Error(U(519));function us(e){var t=Error(U(418,""));throw Xa(qe(t,e)),uf}function Cp(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[he]=e,t[Ae]=i,n){case"dialog":tt("cancel",t),tt("close",t);break;case"iframe":case"object":case"embed":tt("load",t);break;case"video":case"audio":for(n=0;n<Wa.length;n++)tt(Wa[n],t);break;case"source":tt("error",t);break;case"img":case"image":case"link":tt("error",t),tt("load",t);break;case"details":tt("toggle",t);break;case"input":tt("invalid",t),Ov(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),iu(t);break;case"select":tt("invalid",t);break;case"textarea":tt("invalid",t),Vv(t,i.value,i.defaultValue,i.children),iu(t)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||kE(t.textContent,n)?(i.popover!=null&&(tt("beforetoggle",t),tt("toggle",t)),i.onScroll!=null&&tt("scroll",t),i.onScrollEnd!=null&&tt("scrollend",t),i.onClick!=null&&(t.onclick=fc),t=!0):t=!1,t||us(e)}function Np(e){for(pe=e.return;pe;)switch(pe.tag){case 5:case 13:on=!1;return;case 27:case 3:on=!0;return;default:pe=pe.return}}function la(e){if(e!==pe)return!1;if(!ut)return Np(e),ut=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||kf(e.type,e.memoizedProps)),n=!n),n&&Nt&&us(e),Np(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){Nt=tn(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}Nt=null}}else t===27?(t=Nt,qi(e.type)?(e=Lf,Lf=null,Nt=e):Nt=t):Nt=pe?tn(e.stateNode.nextSibling):null;return!0}function Ao(){Nt=pe=null,ut=!1}function Dp(){var e=ss;return e!==null&&(Te===null?Te=e:Te.push.apply(Te,e),ss=null),e}function Xa(e){ss===null?ss=[e]:ss.push(e)}var cf=En(null),Ss=null,Mn=null;function ai(e,t,n){wt(cf,t._currentValue),t._currentValue=n}function Ln(e){e._currentValue=cf.current,Zt(cf)}function hf(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function ff(e,t,n,i){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var r=s.dependencies;if(r!==null){var a=s.child;r=r.firstContext;t:for(;r!==null;){var l=r;r=s;for(var u=0;u<t.length;u++)if(l.context===t[u]){r.lanes|=n,l=r.alternate,l!==null&&(l.lanes|=n),hf(r.return,n,e),i||(a=null);break t}r=l.next}}else if(s.tag===18){if(a=s.return,a===null)throw Error(U(341));a.lanes|=n,r=a.alternate,r!==null&&(r.lanes|=n),hf(a,n,e),a=null}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}}function bo(e,t,n,i){e=null;for(var s=t,r=!1;s!==null;){if(!r){if(s.flags&524288)r=!0;else if(s.flags&262144)break}if(s.tag===10){var a=s.alternate;if(a===null)throw Error(U(387));if(a=a.memoizedProps,a!==null){var l=s.type;ke(s.pendingProps.value,a.value)||(e!==null?e.push(l):e=[l])}}else if(s===Jl.current){if(a=s.alternate,a===null)throw Error(U(387));a.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(eo):e=[eo])}s=s.return}e!==null&&ff(t,e,n,i),t.flags|=262144}function lu(e){for(e=e.firstContext;e!==null;){if(!ke(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function cs(e){Ss=e,Mn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function fe(e){return e0(Ss,e)}function gl(e,t){return Ss===null&&cs(e),e0(e,t)}function e0(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Mn===null){if(e===null)throw Error(U(308));Mn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Mn=Mn.next=t;return n}var Lb=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},jb=Gt.unstable_scheduleCallback,zb=Gt.unstable_NormalPriority,Bt={$$typeof:Nn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kd(){return{controller:new Lb,data:new Map,refCount:0}}function wo(e){e.refCount--,e.refCount===0&&jb(zb,function(){e.controller.abort()})}var Ia=null,df=0,yr=0,rr=null;function Bb(e,t){if(Ia===null){var n=Ia=[];df=0,yr=sm(),rr={status:"pending",value:void 0,then:function(i){n.push(i)}}}return df++,t.then(Op,Op),t}function Op(){if(--df===0&&Ia!==null){rr!==null&&(rr.status="fulfilled");var e=Ia;Ia=null,yr=0,rr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function qb(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var s=0;s<n.length;s++)(0,n[s])(t)},function(s){for(i.status="rejected",i.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),i}var Mp=Q.S;Q.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Bb(e,t),Mp!==null&&Mp(e,t)};var rs=En(null);function Pd(){var e=rs.current;return e!==null?e:_t.pooledCache}function kl(e,t){t===null?wt(rs,rs.current):wt(rs,t.pool)}function n0(){var e=Pd();return e===null?null:{parent:Bt._currentValue,pool:e}}var Ro=Error(U(460)),i0=Error(U(474)),rc=Error(U(542)),mf={then:function(){}};function Vp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function pl(){}function s0(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(pl,pl),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Pp(e),e;default:if(typeof t.status=="string")t.then(pl,pl);else{if(e=_t,e!==null&&100<e.shellSuspendCounter)throw Error(U(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=i}},function(i){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Pp(e),e}throw xa=t,Ro}}var xa=null;function kp(){if(xa===null)throw Error(U(459));var e=xa;return xa=null,e}function Pp(e){if(e===Ro||e===rc)throw Error(U(483))}var ri=!1;function Ud(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ei(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ti(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,dt&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,t=ru(e),Wv(e,null,n),t}return sc(e,i,t,n),ru(e)}function Ca(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Rv(e,n)}}function mh(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?s=r=a:r=r.next=a,n=n.next}while(n!==null);r===null?s=r=t:r=r.next=t}else s=r=t;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var pf=!1;function Na(){if(pf){var e=rr;if(e!==null)throw e}}function Da(e,t,n,i){pf=!1;var s=e.updateQueue;ri=!1;var r=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,h=u.next;u.next=null,a===null?r=h:a.next=h,a=u;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=h:l.next=h,d.lastBaseUpdate=u))}if(r!==null){var p=s.baseState;a=0,d=h=u=null,l=r;do{var m=l.lane&-536870913,E=m!==l.lane;if(E?(ot&m)===m:(i&m)===m){m!==0&&m===yr&&(pf=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});t:{var D=e,M=l;m=t;var V=n;switch(M.tag){case 1:if(D=M.payload,typeof D=="function"){p=D.call(V,p,m);break t}p=D;break t;case 3:D.flags=D.flags&-65537|128;case 0:if(D=M.payload,m=typeof D=="function"?D.call(V,p,m):D,m==null)break t;p=St({},p,m);break t;case 2:ri=!0}}m=l.callback,m!==null&&(e.flags|=64,E&&(e.flags|=8192),E=s.callbacks,E===null?s.callbacks=[m]:E.push(m))}else E={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(h=d=E,u=p):d=d.next=E,a|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;E=l,l=E.next,E.next=null,s.lastBaseUpdate=E,s.shared.pending=null}}while(!0);d===null&&(u=p),s.baseState=u,s.firstBaseUpdate=h,s.lastBaseUpdate=d,r===null&&(s.shared.lanes=0),Vi|=a,e.lanes=a,e.memoizedState=p}}function r0(e,t){if(typeof e!="function")throw Error(U(191,e));e.call(t)}function a0(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)r0(n[e],t)}var _r=En(null),uu=En(0);function Up(e,t){e=Fn,wt(uu,e),wt(_r,t),Fn=e|t.baseLanes}function yf(){wt(uu,Fn),wt(_r,_r.current)}function Ld(){Fn=uu.current,Zt(_r),Zt(uu)}var Oi=0,J=null,gt=null,Lt=null,cu=!1,ar=!1,hs=!1,hu=0,$a=0,or=null,Hb=0;function Mt(){throw Error(U(321))}function jd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ke(e[n],t[n]))return!1;return!0}function zd(e,t,n,i,s,r){return Oi=r,J=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Q.H=e===null||e.memoizedState===null?U0:L0,hs=!1,r=n(i,s),hs=!1,ar&&(r=l0(t,n,i,s)),o0(e),r}function o0(e){Q.H=fu;var t=gt!==null&&gt.next!==null;if(Oi=0,Lt=gt=J=null,cu=!1,$a=0,or=null,t)throw Error(U(300));e===null||Xt||(e=e.dependencies,e!==null&&lu(e)&&(Xt=!0))}function l0(e,t,n,i){J=e;var s=0;do{if(ar&&(or=null),$a=0,ar=!1,25<=s)throw Error(U(301));if(s+=1,Lt=gt=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}Q.H=$b,r=t(n,i)}while(ar);return r}function Fb(){var e=Q.H,t=e.useState()[0];return t=typeof t.then=="function"?Io(t):t,e=e.useState()[0],(gt!==null?gt.memoizedState:null)!==e&&(J.flags|=1024),t}function Bd(){var e=hu!==0;return hu=0,e}function qd(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Hd(e){if(cu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}cu=!1}Oi=0,Lt=gt=J=null,ar=!1,$a=hu=0,or=null}function ve(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?J.memoizedState=Lt=e:Lt=Lt.next=e,Lt}function zt(){if(gt===null){var e=J.alternate;e=e!==null?e.memoizedState:null}else e=gt.next;var t=Lt===null?J.memoizedState:Lt.next;if(t!==null)Lt=t,gt=e;else{if(e===null)throw J.alternate===null?Error(U(467)):Error(U(310));gt=e,e={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Lt===null?J.memoizedState=Lt=e:Lt=Lt.next=e}return Lt}function Fd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Io(e){var t=$a;return $a+=1,or===null&&(or=[]),e=s0(or,e,t),t=J,(Lt===null?t.memoizedState:Lt.next)===null&&(t=t.alternate,Q.H=t===null||t.memoizedState===null?U0:L0),e}function ac(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Io(e);if(e.$$typeof===Nn)return fe(e)}throw Error(U(438,String(e)))}function Gd(e){var t=null,n=J.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=J.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Fd(),J.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=xA;return t.index++,n}function qn(e,t){return typeof t=="function"?t(e):t}function Pl(e){var t=zt();return Yd(t,gt,e)}function Yd(e,t,n){var i=e.queue;if(i===null)throw Error(U(311));i.lastRenderedReducer=n;var s=e.baseQueue,r=i.pending;if(r!==null){if(s!==null){var a=s.next;s.next=r.next,r.next=a}t.baseQueue=s=r,i.pending=null}if(r=e.baseState,s===null)e.memoizedState=r;else{t=s.next;var l=a=null,u=null,h=t,d=!1;do{var p=h.lane&-536870913;if(p!==h.lane?(ot&p)===p:(Oi&p)===p){var m=h.revertLane;if(m===0)u!==null&&(u=u.next={lane:0,revertLane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),p===yr&&(d=!0);else if((Oi&m)===m){h=h.next,m===yr&&(d=!0);continue}else p={lane:0,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(l=u=p,a=r):u=u.next=p,J.lanes|=m,Vi|=m;p=h.action,hs&&n(r,p),r=h.hasEagerState?h.eagerState:n(r,p)}else m={lane:p,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(l=u=m,a=r):u=u.next=m,J.lanes|=p,Vi|=p;h=h.next}while(h!==null&&h!==t);if(u===null?a=r:u.next=l,!ke(r,e.memoizedState)&&(Xt=!0,d&&(n=rr,n!==null)))throw n;e.memoizedState=r,e.baseState=a,e.baseQueue=u,i.lastRenderedState=r}return s===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function gh(e){var t=zt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var i=n.dispatch,s=n.pending,r=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do r=e(r,a.action),a=a.next;while(a!==s);ke(r,t.memoizedState)||(Xt=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,i]}function u0(e,t,n){var i=J,s=zt(),r=ut;if(r){if(n===void 0)throw Error(U(407));n=n()}else n=t();var a=!ke((gt||s).memoizedState,n);a&&(s.memoizedState=n,Xt=!0),s=s.queue;var l=f0.bind(null,i,s,e);if(xo(2048,8,l,[e]),s.getSnapshot!==t||a||Lt!==null&&Lt.memoizedState.tag&1){if(i.flags|=2048,vr(9,oc(),h0.bind(null,i,s,n,t),null),_t===null)throw Error(U(349));r||Oi&124||c0(i,t,n)}return n}function c0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=J.updateQueue,t===null?(t=Fd(),J.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function h0(e,t,n,i){t.value=n,t.getSnapshot=i,d0(t)&&m0(e)}function f0(e,t,n){return n(function(){d0(t)&&m0(e)})}function d0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ke(e,n)}catch{return!0}}function m0(e){var t=kr(e,2);t!==null&&Ve(t,e,2)}function _f(e){var t=ve();if(typeof e=="function"){var n=e;if(e=n(),hs){mi(!0);try{n()}finally{mi(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:e},t}function g0(e,t,n,i){return e.baseState=n,Yd(e,gt,typeof i=="function"?i:qn)}function Gb(e,t,n,i,s){if(lc(e))throw Error(U(485));if(e=t.action,e!==null){var r={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){r.listeners.push(a)}};Q.T!==null?n(!0):r.isTransition=!1,i(r),n=t.pending,n===null?(r.next=t.pending=r,p0(t,r)):(r.next=n.next,t.pending=n.next=r)}}function p0(e,t){var n=t.action,i=t.payload,s=e.state;if(t.isTransition){var r=Q.T,a={};Q.T=a;try{var l=n(s,i),u=Q.S;u!==null&&u(a,l),Lp(e,t,l)}catch(h){vf(e,t,h)}finally{Q.T=r}}else try{r=n(s,i),Lp(e,t,r)}catch(h){vf(e,t,h)}}function Lp(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){jp(e,t,i)},function(i){return vf(e,t,i)}):jp(e,t,n)}function jp(e,t,n){t.status="fulfilled",t.value=n,y0(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,p0(e,n)))}function vf(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,y0(t),t=t.next;while(t!==i)}e.action=null}function y0(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function _0(e,t){return t}function zp(e,t){if(ut){var n=_t.formState;if(n!==null){t:{var i=J;if(ut){if(Nt){e:{for(var s=Nt,r=on;s.nodeType!==8;){if(!r){s=null;break e}if(s=tn(s.nextSibling),s===null){s=null;break e}}r=s.data,s=r==="F!"||r==="F"?s:null}if(s){Nt=tn(s.nextSibling),i=s.data==="F!";break t}}us(i)}i=!1}i&&(t=n[0])}}return n=ve(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_0,lastRenderedState:t},n.queue=i,n=V0.bind(null,J,i),i.dispatch=n,i=_f(!1),r=$d.bind(null,J,!1,i.queue),i=ve(),s={state:t,dispatch:null,action:e,pending:null},i.queue=s,n=Gb.bind(null,J,s,r,n),s.dispatch=n,i.memoizedState=e,[t,n,!1]}function Bp(e){var t=zt();return v0(t,gt,e)}function v0(e,t,n){if(t=Yd(e,t,_0)[0],e=Pl(qn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Io(t)}catch(a){throw a===Ro?rc:a}else i=t;t=zt();var s=t.queue,r=s.dispatch;return n!==t.memoizedState&&(J.flags|=2048,vr(9,oc(),Yb.bind(null,s,n),null)),[i,r,e]}function Yb(e,t){e.action=t}function qp(e){var t=zt(),n=gt;if(n!==null)return v0(t,n,e);zt(),t=t.memoizedState,n=zt();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function vr(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=J.updateQueue,t===null&&(t=Fd(),J.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function oc(){return{destroy:void 0,resource:void 0}}function E0(){return zt().memoizedState}function Ul(e,t,n,i){var s=ve();i=i===void 0?null:i,J.flags|=e,s.memoizedState=vr(1|t,oc(),n,i)}function xo(e,t,n,i){var s=zt();i=i===void 0?null:i;var r=s.memoizedState.inst;gt!==null&&i!==null&&jd(i,gt.memoizedState.deps)?s.memoizedState=vr(t,r,n,i):(J.flags|=e,s.memoizedState=vr(1|t,r,n,i))}function Hp(e,t){Ul(8390656,8,e,t)}function T0(e,t){xo(2048,8,e,t)}function S0(e,t){return xo(4,2,e,t)}function A0(e,t){return xo(4,4,e,t)}function b0(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function w0(e,t,n){n=n!=null?n.concat([e]):null,xo(4,4,b0.bind(null,t,e),n)}function Qd(){}function R0(e,t){var n=zt();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&jd(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function I0(e,t){var n=zt();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&jd(t,i[1]))return i[0];if(i=e(),hs){mi(!0);try{e()}finally{mi(!1)}}return n.memoizedState=[i,t],i}function Kd(e,t,n){return n===void 0||Oi&1073741824?e.memoizedState=t:(e.memoizedState=n,e=yE(),J.lanes|=e,Vi|=e,n)}function x0(e,t,n,i){return ke(n,t)?n:_r.current!==null?(e=Kd(e,n,i),ke(e,t)||(Xt=!0),e):Oi&42?(e=yE(),J.lanes|=e,Vi|=e,t):(Xt=!0,e.memoizedState=n)}function C0(e,t,n,i,s){var r=ct.p;ct.p=r!==0&&8>r?r:8;var a=Q.T,l={};Q.T=l,$d(e,!1,t,n);try{var u=s(),h=Q.S;if(h!==null&&h(l,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=qb(u,i);Oa(e,t,d,Me(e))}else Oa(e,t,i,Me(e))}catch(p){Oa(e,t,{then:function(){},status:"rejected",reason:p},Me())}finally{ct.p=r,Q.T=a}}function Qb(){}function Ef(e,t,n,i){if(e.tag!==5)throw Error(U(476));var s=N0(e).queue;C0(e,s,t,es,n===null?Qb:function(){return D0(e),n(i)})}function N0(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:es,baseState:es,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:es},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function D0(e){var t=N0(e).next.queue;Oa(e,t,{},Me())}function Xd(){return fe(eo)}function O0(){return zt().memoizedState}function M0(){return zt().memoizedState}function Kb(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Me();e=Ei(n);var i=Ti(t,e,n);i!==null&&(Ve(i,t,n),Ca(i,t,n)),t={cache:kd()},e.payload=t;return}t=t.return}}function Xb(e,t,n){var i=Me();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},lc(e)?k0(t,n):(n=Dd(e,t,n,i),n!==null&&(Ve(n,e,i),P0(n,t,i)))}function V0(e,t,n){var i=Me();Oa(e,t,n,i)}function Oa(e,t,n,i){var s={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(lc(e))k0(t,s);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var a=t.lastRenderedState,l=r(a,n);if(s.hasEagerState=!0,s.eagerState=l,ke(l,a))return sc(e,t,s,0),_t===null&&ic(),!1}catch{}finally{}if(n=Dd(e,t,s,i),n!==null)return Ve(n,e,i),P0(n,t,i),!0}return!1}function $d(e,t,n,i){if(i={lane:2,revertLane:sm(),action:i,hasEagerState:!1,eagerState:null,next:null},lc(e)){if(t)throw Error(U(479))}else t=Dd(e,n,i,2),t!==null&&Ve(t,e,2)}function lc(e){var t=e.alternate;return e===J||t!==null&&t===J}function k0(e,t){ar=cu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function P0(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Rv(e,n)}}var fu={readContext:fe,use:ac,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useLayoutEffect:Mt,useInsertionEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useSyncExternalStore:Mt,useId:Mt,useHostTransitionStatus:Mt,useFormState:Mt,useActionState:Mt,useOptimistic:Mt,useMemoCache:Mt,useCacheRefresh:Mt},U0={readContext:fe,use:ac,useCallback:function(e,t){return ve().memoizedState=[e,t===void 0?null:t],e},useContext:fe,useEffect:Hp,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Ul(4194308,4,b0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ul(4194308,4,e,t)},useInsertionEffect:function(e,t){Ul(4,2,e,t)},useMemo:function(e,t){var n=ve();t=t===void 0?null:t;var i=e();if(hs){mi(!0);try{e()}finally{mi(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=ve();if(n!==void 0){var s=n(t);if(hs){mi(!0);try{n(t)}finally{mi(!1)}}}else s=t;return i.memoizedState=i.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},i.queue=e,e=e.dispatch=Xb.bind(null,J,e),[i.memoizedState,e]},useRef:function(e){var t=ve();return e={current:e},t.memoizedState=e},useState:function(e){e=_f(e);var t=e.queue,n=V0.bind(null,J,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Qd,useDeferredValue:function(e,t){var n=ve();return Kd(n,e,t)},useTransition:function(){var e=_f(!1);return e=C0.bind(null,J,e.queue,!0,!1),ve().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=J,s=ve();if(ut){if(n===void 0)throw Error(U(407));n=n()}else{if(n=t(),_t===null)throw Error(U(349));ot&124||c0(i,t,n)}s.memoizedState=n;var r={value:n,getSnapshot:t};return s.queue=r,Hp(f0.bind(null,i,r,e),[e]),i.flags|=2048,vr(9,oc(),h0.bind(null,i,r,n,t),null),n},useId:function(){var e=ve(),t=_t.identifierPrefix;if(ut){var n=On,i=Dn;n=(i&~(1<<32-Oe(i)-1)).toString(32)+n,t=""+t+"R"+n,n=hu++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=Hb++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Xd,useFormState:zp,useActionState:zp,useOptimistic:function(e){var t=ve();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=$d.bind(null,J,!0,n),n.dispatch=t,[e,t]},useMemoCache:Gd,useCacheRefresh:function(){return ve().memoizedState=Kb.bind(null,J)}},L0={readContext:fe,use:ac,useCallback:R0,useContext:fe,useEffect:T0,useImperativeHandle:w0,useInsertionEffect:S0,useLayoutEffect:A0,useMemo:I0,useReducer:Pl,useRef:E0,useState:function(){return Pl(qn)},useDebugValue:Qd,useDeferredValue:function(e,t){var n=zt();return x0(n,gt.memoizedState,e,t)},useTransition:function(){var e=Pl(qn)[0],t=zt().memoizedState;return[typeof e=="boolean"?e:Io(e),t]},useSyncExternalStore:u0,useId:O0,useHostTransitionStatus:Xd,useFormState:Bp,useActionState:Bp,useOptimistic:function(e,t){var n=zt();return g0(n,gt,e,t)},useMemoCache:Gd,useCacheRefresh:M0},$b={readContext:fe,use:ac,useCallback:R0,useContext:fe,useEffect:T0,useImperativeHandle:w0,useInsertionEffect:S0,useLayoutEffect:A0,useMemo:I0,useReducer:gh,useRef:E0,useState:function(){return gh(qn)},useDebugValue:Qd,useDeferredValue:function(e,t){var n=zt();return gt===null?Kd(n,e,t):x0(n,gt.memoizedState,e,t)},useTransition:function(){var e=gh(qn)[0],t=zt().memoizedState;return[typeof e=="boolean"?e:Io(e),t]},useSyncExternalStore:u0,useId:O0,useHostTransitionStatus:Xd,useFormState:qp,useActionState:qp,useOptimistic:function(e,t){var n=zt();return gt!==null?g0(n,gt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Gd,useCacheRefresh:M0},lr=null,Za=0;function yl(e){var t=Za;return Za+=1,lr===null&&(lr=[]),s0(lr,e,t)}function ua(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function _l(e,t){throw t.$$typeof===RA?Error(U(525)):(e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Fp(e){var t=e._init;return t(e._payload)}function j0(e){function t(A,g){if(e){var T=A.deletions;T===null?(A.deletions=[g],A.flags|=16):T.push(g)}}function n(A,g){if(!e)return null;for(;g!==null;)t(A,g),g=g.sibling;return null}function i(A){for(var g=new Map;A!==null;)A.key!==null?g.set(A.key,A):g.set(A.index,A),A=A.sibling;return g}function s(A,g){return A=Un(A,g),A.index=0,A.sibling=null,A}function r(A,g,T){return A.index=T,e?(T=A.alternate,T!==null?(T=T.index,T<g?(A.flags|=67108866,g):T):(A.flags|=67108866,g)):(A.flags|=1048576,g)}function a(A){return e&&A.alternate===null&&(A.flags|=67108866),A}function l(A,g,T,R){return g===null||g.tag!==6?(g=fh(T,A.mode,R),g.return=A,g):(g=s(g,T),g.return=A,g)}function u(A,g,T,R){var k=T.type;return k===Hs?d(A,g,T.props.children,R,T.key):g!==null&&(g.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===si&&Fp(k)===g.type)?(g=s(g,T.props),ua(g,T),g.return=A,g):(g=Vl(T.type,T.key,T.props,null,A.mode,R),ua(g,T),g.return=A,g)}function h(A,g,T,R){return g===null||g.tag!==4||g.stateNode.containerInfo!==T.containerInfo||g.stateNode.implementation!==T.implementation?(g=dh(T,A.mode,R),g.return=A,g):(g=s(g,T.children||[]),g.return=A,g)}function d(A,g,T,R,k){return g===null||g.tag!==7?(g=ns(T,A.mode,R,k),g.return=A,g):(g=s(g,T),g.return=A,g)}function p(A,g,T){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=fh(""+g,A.mode,T),g.return=A,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case cl:return T=Vl(g.type,g.key,g.props,null,A.mode,T),ua(T,g),T.return=A,T;case da:return g=dh(g,A.mode,T),g.return=A,g;case si:var R=g._init;return g=R(g._payload),p(A,g,T)}if(ma(g)||ra(g))return g=ns(g,A.mode,T,null),g.return=A,g;if(typeof g.then=="function")return p(A,yl(g),T);if(g.$$typeof===Nn)return p(A,gl(A,g),T);_l(A,g)}return null}function m(A,g,T,R){var k=g!==null?g.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return k!==null?null:l(A,g,""+T,R);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case cl:return T.key===k?u(A,g,T,R):null;case da:return T.key===k?h(A,g,T,R):null;case si:return k=T._init,T=k(T._payload),m(A,g,T,R)}if(ma(T)||ra(T))return k!==null?null:d(A,g,T,R,null);if(typeof T.then=="function")return m(A,g,yl(T),R);if(T.$$typeof===Nn)return m(A,g,gl(A,T),R);_l(A,T)}return null}function E(A,g,T,R,k){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return A=A.get(T)||null,l(g,A,""+R,k);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case cl:return A=A.get(R.key===null?T:R.key)||null,u(g,A,R,k);case da:return A=A.get(R.key===null?T:R.key)||null,h(g,A,R,k);case si:var j=R._init;return R=j(R._payload),E(A,g,T,R,k)}if(ma(R)||ra(R))return A=A.get(T)||null,d(g,A,R,k,null);if(typeof R.then=="function")return E(A,g,T,yl(R),k);if(R.$$typeof===Nn)return E(A,g,T,gl(g,R),k);_l(g,R)}return null}function D(A,g,T,R){for(var k=null,j=null,S=g,v=g=0,b=null;S!==null&&v<T.length;v++){S.index>v?(b=S,S=null):b=S.sibling;var w=m(A,S,T[v],R);if(w===null){S===null&&(S=b);break}e&&S&&w.alternate===null&&t(A,S),g=r(w,g,v),j===null?k=w:j.sibling=w,j=w,S=b}if(v===T.length)return n(A,S),ut&&Zi(A,v),k;if(S===null){for(;v<T.length;v++)S=p(A,T[v],R),S!==null&&(g=r(S,g,v),j===null?k=S:j.sibling=S,j=S);return ut&&Zi(A,v),k}for(S=i(S);v<T.length;v++)b=E(S,A,v,T[v],R),b!==null&&(e&&b.alternate!==null&&S.delete(b.key===null?v:b.key),g=r(b,g,v),j===null?k=b:j.sibling=b,j=b);return e&&S.forEach(function(x){return t(A,x)}),ut&&Zi(A,v),k}function M(A,g,T,R){if(T==null)throw Error(U(151));for(var k=null,j=null,S=g,v=g=0,b=null,w=T.next();S!==null&&!w.done;v++,w=T.next()){S.index>v?(b=S,S=null):b=S.sibling;var x=m(A,S,w.value,R);if(x===null){S===null&&(S=b);break}e&&S&&x.alternate===null&&t(A,S),g=r(x,g,v),j===null?k=x:j.sibling=x,j=x,S=b}if(w.done)return n(A,S),ut&&Zi(A,v),k;if(S===null){for(;!w.done;v++,w=T.next())w=p(A,w.value,R),w!==null&&(g=r(w,g,v),j===null?k=w:j.sibling=w,j=w);return ut&&Zi(A,v),k}for(S=i(S);!w.done;v++,w=T.next())w=E(S,A,v,w.value,R),w!==null&&(e&&w.alternate!==null&&S.delete(w.key===null?v:w.key),g=r(w,g,v),j===null?k=w:j.sibling=w,j=w);return e&&S.forEach(function(C){return t(A,C)}),ut&&Zi(A,v),k}function V(A,g,T,R){if(typeof T=="object"&&T!==null&&T.type===Hs&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case cl:t:{for(var k=T.key;g!==null;){if(g.key===k){if(k=T.type,k===Hs){if(g.tag===7){n(A,g.sibling),R=s(g,T.props.children),R.return=A,A=R;break t}}else if(g.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===si&&Fp(k)===g.type){n(A,g.sibling),R=s(g,T.props),ua(R,T),R.return=A,A=R;break t}n(A,g);break}else t(A,g);g=g.sibling}T.type===Hs?(R=ns(T.props.children,A.mode,R,T.key),R.return=A,A=R):(R=Vl(T.type,T.key,T.props,null,A.mode,R),ua(R,T),R.return=A,A=R)}return a(A);case da:t:{for(k=T.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===T.containerInfo&&g.stateNode.implementation===T.implementation){n(A,g.sibling),R=s(g,T.children||[]),R.return=A,A=R;break t}else{n(A,g);break}else t(A,g);g=g.sibling}R=dh(T,A.mode,R),R.return=A,A=R}return a(A);case si:return k=T._init,T=k(T._payload),V(A,g,T,R)}if(ma(T))return D(A,g,T,R);if(ra(T)){if(k=ra(T),typeof k!="function")throw Error(U(150));return T=k.call(T),M(A,g,T,R)}if(typeof T.then=="function")return V(A,g,yl(T),R);if(T.$$typeof===Nn)return V(A,g,gl(A,T),R);_l(A,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,g!==null&&g.tag===6?(n(A,g.sibling),R=s(g,T),R.return=A,A=R):(n(A,g),R=fh(T,A.mode,R),R.return=A,A=R),a(A)):n(A,g)}return function(A,g,T,R){try{Za=0;var k=V(A,g,T,R);return lr=null,k}catch(S){if(S===Ro||S===rc)throw S;var j=Ne(29,S,null,A.mode);return j.lanes=R,j.return=A,j}finally{}}}var Er=j0(!0),z0=j0(!1),Qe=En(null),hn=null;function oi(e){var t=e.alternate;wt(qt,qt.current&1),wt(Qe,e),hn===null&&(t===null||_r.current!==null||t.memoizedState!==null)&&(hn=e)}function B0(e){if(e.tag===22){if(wt(qt,qt.current),wt(Qe,e),hn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(hn=e)}}else li()}function li(){wt(qt,qt.current),wt(Qe,Qe.current)}function Vn(e){Zt(Qe),hn===e&&(hn=null),Zt(qt)}var qt=En(0);function du(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Uf(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ph(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:St({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Tf={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Me(),s=Ei(i);s.payload=t,n!=null&&(s.callback=n),t=Ti(e,s,i),t!==null&&(Ve(t,e,i),Ca(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Me(),s=Ei(i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Ti(e,s,i),t!==null&&(Ve(t,e,i),Ca(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Me(),i=Ei(n);i.tag=2,t!=null&&(i.callback=t),t=Ti(e,i,n),t!==null&&(Ve(t,e,n),Ca(t,e,n))}};function Gp(e,t,n,i,s,r,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,r,a):t.prototype&&t.prototype.isPureReactComponent?!Ka(n,i)||!Ka(s,r):!0}function Yp(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Tf.enqueueReplaceState(t,t.state,null)}function fs(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=St({},n));for(var s in e)n[s]===void 0&&(n[s]=e[s])}return n}var mu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function q0(e){mu(e)}function H0(e){console.error(e)}function F0(e){mu(e)}function gu(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Qp(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Sf(e,t,n){return n=Ei(n),n.tag=3,n.payload={element:null},n.callback=function(){gu(e,t)},n}function G0(e){return e=Ei(e),e.tag=3,e}function Y0(e,t,n,i){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var r=i.value;e.payload=function(){return s(r)},e.callback=function(){Qp(t,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){Qp(t,n,i),typeof s!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function Zb(e,t,n,i,s){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&bo(t,n,s,!0),n=Qe.current,n!==null){switch(n.tag){case 13:return hn===null?Nf():n.alternate===null&&Dt===0&&(Dt=3),n.flags&=-257,n.flags|=65536,n.lanes=s,i===mf?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),Ih(e,i,s)),!1;case 22:return n.flags|=65536,i===mf?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),Ih(e,i,s)),!1}throw Error(U(435,n.tag))}return Ih(e,i,s),Nf(),!1}if(ut)return t=Qe.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=s,i!==uf&&(e=Error(U(422),{cause:i}),Xa(qe(e,n)))):(i!==uf&&(t=Error(U(423),{cause:i}),Xa(qe(t,n))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,i=qe(i,n),s=Sf(e.stateNode,i,s),mh(e,s),Dt!==4&&(Dt=2)),!1;var r=Error(U(520),{cause:i});if(r=qe(r,n),ka===null?ka=[r]:ka.push(r),Dt!==4&&(Dt=2),t===null)return!0;i=qe(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,e=Sf(n.stateNode,i,e),mh(n,e),!1;case 1:if(t=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(Si===null||!Si.has(r))))return n.flags|=65536,s&=-s,n.lanes|=s,s=G0(s),Y0(s,e,n,i),mh(n,s),!1}n=n.return}while(n!==null);return!1}var Q0=Error(U(461)),Xt=!1;function Jt(e,t,n,i){t.child=e===null?z0(t,null,n,i):Er(t,e.child,n,i)}function Kp(e,t,n,i,s){n=n.render;var r=t.ref;if("ref"in i){var a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}else a=i;return cs(t),i=zd(e,t,n,a,r,s),l=Bd(),e!==null&&!Xt?(qd(e,t,s),Hn(e,t,s)):(ut&&l&&Md(t),t.flags|=1,Jt(e,t,i,s),t.child)}function Xp(e,t,n,i,s){if(e===null){var r=n.type;return typeof r=="function"&&!Od(r)&&r.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=r,K0(e,t,r,i,s)):(e=Vl(n.type,null,i,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!Zd(e,s)){var a=r.memoizedProps;if(n=n.compare,n=n!==null?n:Ka,n(a,i)&&e.ref===t.ref)return Hn(e,t,s)}return t.flags|=1,e=Un(r,i),e.ref=t.ref,e.return=t,t.child=e}function K0(e,t,n,i,s){if(e!==null){var r=e.memoizedProps;if(Ka(r,i)&&e.ref===t.ref)if(Xt=!1,t.pendingProps=i=r,Zd(e,s))e.flags&131072&&(Xt=!0);else return t.lanes=e.lanes,Hn(e,t,s)}return Af(e,t,n,i,s)}function X0(e,t,n){var i=t.pendingProps,s=i.children,r=e!==null?e.memoizedState:null;if(i.mode==="hidden"){if(t.flags&128){if(i=r!==null?r.baseLanes|n:n,e!==null){for(s=t.child=e.child,r=0;s!==null;)r=r|s.lanes|s.childLanes,s=s.sibling;t.childLanes=r&~i}else t.childLanes=0,t.child=null;return $p(e,t,i,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&kl(t,r!==null?r.cachePool:null),r!==null?Up(t,r):yf(),B0(t);else return t.lanes=t.childLanes=536870912,$p(e,t,r!==null?r.baseLanes|n:n,n)}else r!==null?(kl(t,r.cachePool),Up(t,r),li(),t.memoizedState=null):(e!==null&&kl(t,null),yf(),li());return Jt(e,t,s,n),t.child}function $p(e,t,n,i){var s=Pd();return s=s===null?null:{parent:Bt._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&kl(t,null),yf(),B0(t),e!==null&&bo(e,t,i,!0),null}function Ll(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(U(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Af(e,t,n,i,s){return cs(t),n=zd(e,t,n,i,void 0,s),i=Bd(),e!==null&&!Xt?(qd(e,t,s),Hn(e,t,s)):(ut&&i&&Md(t),t.flags|=1,Jt(e,t,n,s),t.child)}function Zp(e,t,n,i,s,r){return cs(t),t.updateQueue=null,n=l0(t,i,n,s),o0(e),i=Bd(),e!==null&&!Xt?(qd(e,t,r),Hn(e,t,r)):(ut&&i&&Md(t),t.flags|=1,Jt(e,t,n,r),t.child)}function Wp(e,t,n,i,s){if(cs(t),t.stateNode===null){var r=Zs,a=n.contextType;typeof a=="object"&&a!==null&&(r=fe(a)),r=new n(i,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Tf,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=i,r.state=t.memoizedState,r.refs={},Ud(t),a=n.contextType,r.context=typeof a=="object"&&a!==null?fe(a):Zs,r.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(ph(t,n,a,i),r.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(a=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),a!==r.state&&Tf.enqueueReplaceState(r,r.state,null),Da(t,i,r,s),Na(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){r=t.stateNode;var l=t.memoizedProps,u=fs(n,l);r.props=u;var h=r.context,d=n.contextType;a=Zs,typeof d=="object"&&d!==null&&(a=fe(d));var p=n.getDerivedStateFromProps;d=typeof p=="function"||typeof r.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,d||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(l||h!==a)&&Yp(t,r,i,a),ri=!1;var m=t.memoizedState;r.state=m,Da(t,i,r,s),Na(),h=t.memoizedState,l||m!==h||ri?(typeof p=="function"&&(ph(t,n,p,i),h=t.memoizedState),(u=ri||Gp(t,n,u,i,m,h,a))?(d||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=h),r.props=i,r.state=h,r.context=a,i=u):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{r=t.stateNode,gf(e,t),a=t.memoizedProps,d=fs(n,a),r.props=d,p=t.pendingProps,m=r.context,h=n.contextType,u=Zs,typeof h=="object"&&h!==null&&(u=fe(h)),l=n.getDerivedStateFromProps,(h=typeof l=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(a!==p||m!==u)&&Yp(t,r,i,u),ri=!1,m=t.memoizedState,r.state=m,Da(t,i,r,s),Na();var E=t.memoizedState;a!==p||m!==E||ri||e!==null&&e.dependencies!==null&&lu(e.dependencies)?(typeof l=="function"&&(ph(t,n,l,i),E=t.memoizedState),(d=ri||Gp(t,n,d,i,m,E,u)||e!==null&&e.dependencies!==null&&lu(e.dependencies))?(h||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(i,E,u),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(i,E,u)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=E),r.props=i,r.state=E,r.context=u,i=d):(typeof r.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),i=!1)}return r=i,Ll(e,t),i=(t.flags&128)!==0,r||i?(r=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&i?(t.child=Er(t,e.child,null,s),t.child=Er(t,null,n,s)):Jt(e,t,n,s),t.memoizedState=r.state,e=t.child):e=Hn(e,t,s),e}function Jp(e,t,n,i){return Ao(),t.flags|=256,Jt(e,t,n,i),t.child}var yh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _h(e){return{baseLanes:e,cachePool:n0()}}function vh(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Ye),e}function $0(e,t,n){var i=t.pendingProps,s=!1,r=(t.flags&128)!==0,a;if((a=r)||(a=e!==null&&e.memoizedState===null?!1:(qt.current&2)!==0),a&&(s=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(ut){if(s?oi(t):li(),ut){var l=Nt,u;if(u=l){t:{for(u=l,l=on;u.nodeType!==8;){if(!l){l=null;break t}if(u=tn(u.nextSibling),u===null){l=null;break t}}l=u}l!==null?(t.memoizedState={dehydrated:l,treeContext:is!==null?{id:Dn,overflow:On}:null,retryLane:536870912,hydrationErrors:null},u=Ne(18,null,null,0),u.stateNode=l,u.return=t,t.child=u,pe=t,Nt=null,u=!0):u=!1}u||us(t)}if(l=t.memoizedState,l!==null&&(l=l.dehydrated,l!==null))return Uf(l)?t.lanes=32:t.lanes=536870912,null;Vn(t)}return l=i.children,i=i.fallback,s?(li(),s=t.mode,l=pu({mode:"hidden",children:l},s),i=ns(i,s,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,s=t.child,s.memoizedState=_h(n),s.childLanes=vh(e,a,n),t.memoizedState=yh,i):(oi(t),bf(t,l))}if(u=e.memoizedState,u!==null&&(l=u.dehydrated,l!==null)){if(r)t.flags&256?(oi(t),t.flags&=-257,t=Eh(e,t,n)):t.memoizedState!==null?(li(),t.child=e.child,t.flags|=128,t=null):(li(),s=i.fallback,l=t.mode,i=pu({mode:"visible",children:i.children},l),s=ns(s,l,n,null),s.flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,Er(t,e.child,null,n),i=t.child,i.memoizedState=_h(n),i.childLanes=vh(e,a,n),t.memoizedState=yh,t=s);else if(oi(t),Uf(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var h=a.dgst;a=h,i=Error(U(419)),i.stack="",i.digest=a,Xa({value:i,source:null,stack:null}),t=Eh(e,t,n)}else if(Xt||bo(e,t,n,!1),a=(n&e.childLanes)!==0,Xt||a){if(a=_t,a!==null&&(i=n&-n,i=i&42?1:Td(i),i=i&(a.suspendedLanes|n)?0:i,i!==0&&i!==u.retryLane))throw u.retryLane=i,kr(e,i),Ve(a,e,i),Q0;l.data==="$?"||Nf(),t=Eh(e,t,n)}else l.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,Nt=tn(l.nextSibling),pe=t,ut=!0,ss=null,on=!1,e!==null&&(je[ze++]=Dn,je[ze++]=On,je[ze++]=is,Dn=e.id,On=e.overflow,is=t),t=bf(t,i.children),t.flags|=4096);return t}return s?(li(),s=i.fallback,l=t.mode,u=e.child,h=u.sibling,i=Un(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,h!==null?s=Un(h,s):(s=ns(s,l,n,null),s.flags|=2),s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=e.child.memoizedState,l===null?l=_h(n):(u=l.cachePool,u!==null?(h=Bt._currentValue,u=u.parent!==h?{parent:h,pool:h}:u):u=n0(),l={baseLanes:l.baseLanes|n,cachePool:u}),s.memoizedState=l,s.childLanes=vh(e,a,n),t.memoizedState=yh,i):(oi(t),n=e.child,e=n.sibling,n=Un(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function bf(e,t){return t=pu({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function pu(e,t){return e=Ne(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Eh(e,t,n){return Er(t,e.child,null,n),e=bf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ty(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),hf(e.return,t,n)}function Th(e,t,n,i,s){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s)}function Z0(e,t,n){var i=t.pendingProps,s=i.revealOrder,r=i.tail;if(Jt(e,t,i.children,n),i=qt.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ty(e,n,t);else if(e.tag===19)ty(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(wt(qt,i),s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&du(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Th(t,!1,s,n,r);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&du(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Th(t,!0,n,null,r);break;case"together":Th(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Vi|=t.lanes,!(n&t.childLanes))if(e!==null){if(bo(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,n=Un(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Un(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Zd(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&lu(e)))}function Wb(e,t,n){switch(t.tag){case 3:tu(t,t.stateNode.containerInfo),ai(t,Bt,e.memoizedState.cache),Ao();break;case 27:case 5:Wh(t);break;case 4:tu(t,t.stateNode.containerInfo);break;case 10:ai(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(oi(t),t.flags|=128,null):n&t.child.childLanes?$0(e,t,n):(oi(t),e=Hn(e,t,n),e!==null?e.sibling:null);oi(t);break;case 19:var s=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(bo(e,t,n,!1),i=(n&t.childLanes)!==0),s){if(i)return Z0(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),wt(qt,qt.current),i)break;return null;case 22:case 23:return t.lanes=0,X0(e,t,n);case 24:ai(t,Bt,e.memoizedState.cache)}return Hn(e,t,n)}function W0(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Xt=!0;else{if(!Zd(e,n)&&!(t.flags&128))return Xt=!1,Wb(e,t,n);Xt=!!(e.flags&131072)}else Xt=!1,ut&&t.flags&1048576&&t0(t,ou,t.index);switch(t.lanes=0,t.tag){case 16:t:{e=t.pendingProps;var i=t.elementType,s=i._init;if(i=s(i._payload),t.type=i,typeof i=="function")Od(i)?(e=fs(i,e),t.tag=1,t=Wp(null,t,i,e,n)):(t.tag=0,t=Af(null,t,i,e,n));else{if(i!=null){if(s=i.$$typeof,s===_d){t.tag=11,t=Kp(null,t,i,e,n);break t}else if(s===vd){t.tag=14,t=Xp(null,t,i,e,n);break t}}throw t=$h(i)||i,Error(U(306,t,""))}}return t;case 0:return Af(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,s=fs(i,t.pendingProps),Wp(e,t,i,s,n);case 3:t:{if(tu(t,t.stateNode.containerInfo),e===null)throw Error(U(387));i=t.pendingProps;var r=t.memoizedState;s=r.element,gf(e,t),Da(t,i,null,n);var a=t.memoizedState;if(i=a.cache,ai(t,Bt,i),i!==r.cache&&ff(t,[Bt],n,!0),Na(),i=a.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=Jp(e,t,i,n);break t}else if(i!==s){s=qe(Error(U(424)),t),Xa(s),t=Jp(e,t,i,n);break t}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Nt=tn(e.firstChild),pe=t,ut=!0,ss=null,on=!0,n=z0(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ao(),i===s){t=Hn(e,t,n);break t}Jt(e,t,i,n)}t=t.child}return t;case 26:return Ll(e,t),e===null?(n=yy(t.type,null,t.pendingProps,null))?t.memoizedState=n:ut||(n=t.type,e=t.pendingProps,i=Au(vi.current).createElement(n),i[he]=t,i[Ae]=e,ie(i,n,e),Kt(i),t.stateNode=i):t.memoizedState=yy(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Wh(t),e===null&&ut&&(i=t.stateNode=LE(t.type,t.pendingProps,vi.current),pe=t,on=!0,s=Nt,qi(t.type)?(Lf=s,Nt=tn(i.firstChild)):Nt=s),Jt(e,t,t.pendingProps.children,n),Ll(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ut&&((s=i=Nt)&&(i=Rw(i,t.type,t.pendingProps,on),i!==null?(t.stateNode=i,pe=t,Nt=tn(i.firstChild),on=!1,s=!0):s=!1),s||us(t)),Wh(t),s=t.type,r=t.pendingProps,a=e!==null?e.memoizedProps:null,i=r.children,kf(s,r)?i=null:a!==null&&kf(s,a)&&(t.flags|=32),t.memoizedState!==null&&(s=zd(e,t,Fb,null,null,n),eo._currentValue=s),Ll(e,t),Jt(e,t,i,n),t.child;case 6:return e===null&&ut&&((e=n=Nt)&&(n=Iw(n,t.pendingProps,on),n!==null?(t.stateNode=n,pe=t,Nt=null,e=!0):e=!1),e||us(t)),null;case 13:return $0(e,t,n);case 4:return tu(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Er(t,null,i,n):Jt(e,t,i,n),t.child;case 11:return Kp(e,t,t.type,t.pendingProps,n);case 7:return Jt(e,t,t.pendingProps,n),t.child;case 8:return Jt(e,t,t.pendingProps.children,n),t.child;case 12:return Jt(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,ai(t,t.type,i.value),Jt(e,t,i.children,n),t.child;case 9:return s=t.type._context,i=t.pendingProps.children,cs(t),s=fe(s),i=i(s),t.flags|=1,Jt(e,t,i,n),t.child;case 14:return Xp(e,t,t.type,t.pendingProps,n);case 15:return K0(e,t,t.type,t.pendingProps,n);case 19:return Z0(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},e===null?(n=pu(i,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=Un(e.child,i),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return X0(e,t,n);case 24:return cs(t),i=fe(Bt),e===null?(s=Pd(),s===null&&(s=_t,r=kd(),s.pooledCache=r,r.refCount++,r!==null&&(s.pooledCacheLanes|=n),s=r),t.memoizedState={parent:i,cache:s},Ud(t),ai(t,Bt,s)):(e.lanes&n&&(gf(e,t),Da(t,null,null,n),Na()),s=e.memoizedState,r=t.memoizedState,s.parent!==i?(s={parent:i,cache:i},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),ai(t,Bt,i)):(i=r.cache,ai(t,Bt,i),i!==s.cache&&ff(t,[Bt],n,!0))),Jt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(U(156,t.tag))}function In(e){e.flags|=4}function ey(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!BE(t)){if(t=Qe.current,t!==null&&((ot&4194048)===ot?hn!==null:(ot&62914560)!==ot&&!(ot&536870912)||t!==hn))throw xa=mf,i0;e.flags|=8192}}function vl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?bv():536870912,e.lanes|=t,Tr|=t)}function ca(e,t){if(!ut)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&65011712,i|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Jb(e,t,n){var i=t.pendingProps;switch(Vd(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(t),null;case 1:return Rt(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Ln(Bt),mr(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(la(t)?In(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Dp())),Rt(t),null;case 26:return n=t.memoizedState,e===null?(In(t),n!==null?(Rt(t),ey(t,n)):(Rt(t),t.flags&=-16777217)):n?n!==e.memoizedState?(In(t),Rt(t),ey(t,n)):(Rt(t),t.flags&=-16777217):(e.memoizedProps!==i&&In(t),Rt(t),t.flags&=-16777217),null;case 27:eu(t),n=vi.current;var s=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==i&&In(t);else{if(!i){if(t.stateNode===null)throw Error(U(166));return Rt(t),null}e=un.current,la(t)?Cp(t):(e=LE(s,i,n),t.stateNode=e,In(t))}return Rt(t),null;case 5:if(eu(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&In(t);else{if(!i){if(t.stateNode===null)throw Error(U(166));return Rt(t),null}if(e=un.current,la(t))Cp(t);else{switch(s=Au(vi.current),e){case 1:e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof i.is=="string"?s.createElement("select",{is:i.is}):s.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e=typeof i.is=="string"?s.createElement(n,{is:i.is}):s.createElement(n)}}e[he]=t,e[Ae]=i;t:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break t;for(;s.sibling===null;){if(s.return===null||s.return===t)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=e;t:switch(ie(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&In(t)}}return Rt(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&In(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(U(166));if(e=vi.current,la(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,s=pe,s!==null)switch(s.tag){case 27:case 5:i=s.memoizedProps}e[he]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||kE(e.nodeValue,n)),e||us(t)}else e=Au(e).createTextNode(i),e[he]=t,t.stateNode=e}return Rt(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=la(t),i!==null&&i.dehydrated!==null){if(e===null){if(!s)throw Error(U(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[he]=t}else Ao(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Rt(t),s=!1}else s=Dp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(Vn(t),t):(Vn(t),null)}if(Vn(t),t.flags&128)return t.lanes=n,t;if(n=i!==null,e=e!==null&&e.memoizedState!==null,n){i=t.child,s=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(s=i.alternate.memoizedState.cachePool.pool);var r=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==s&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),vl(t,t.updateQueue),Rt(t),null;case 4:return mr(),e===null&&rm(t.stateNode.containerInfo),Rt(t),null;case 10:return Ln(t.type),Rt(t),null;case 19:if(Zt(qt),s=t.memoizedState,s===null)return Rt(t),null;if(i=(t.flags&128)!==0,r=s.rendering,r===null)if(i)ca(s,!1);else{if(Dt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(r=du(e),r!==null){for(t.flags|=128,ca(s,!1),e=r.updateQueue,t.updateQueue=e,vl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Jv(n,e),n=n.sibling;return wt(qt,qt.current&1|2),t.child}e=e.sibling}s.tail!==null&&cn()>_u&&(t.flags|=128,i=!0,ca(s,!1),t.lanes=4194304)}else{if(!i)if(e=du(r),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,vl(t,e),ca(s,!0),s.tail===null&&s.tailMode==="hidden"&&!r.alternate&&!ut)return Rt(t),null}else 2*cn()-s.renderingStartTime>_u&&n!==536870912&&(t.flags|=128,i=!0,ca(s,!1),t.lanes=4194304);s.isBackwards?(r.sibling=t.child,t.child=r):(e=s.last,e!==null?e.sibling=r:t.child=r,s.last=r)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=cn(),t.sibling=null,e=qt.current,wt(qt,i?e&1|2:e&1),t):(Rt(t),null);case 22:case 23:return Vn(t),Ld(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(Rt(t),t.subtreeFlags&6&&(t.flags|=8192)):Rt(t),n=t.updateQueue,n!==null&&vl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&Zt(rs),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ln(Bt),Rt(t),null;case 25:return null;case 30:return null}throw Error(U(156,t.tag))}function tw(e,t){switch(Vd(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ln(Bt),mr(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return eu(t),null;case 13:if(Vn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));Ao()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Zt(qt),null;case 4:return mr(),null;case 10:return Ln(t.type),null;case 22:case 23:return Vn(t),Ld(),e!==null&&Zt(rs),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ln(Bt),null;case 25:return null;default:return null}}function J0(e,t){switch(Vd(t),t.tag){case 3:Ln(Bt),mr();break;case 26:case 27:case 5:eu(t);break;case 4:mr();break;case 13:Vn(t);break;case 19:Zt(qt);break;case 10:Ln(t.type);break;case 22:case 23:Vn(t),Ld(),e!==null&&Zt(rs);break;case 24:Ln(Bt)}}function Co(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var s=i.next;n=s;do{if((n.tag&e)===e){i=void 0;var r=n.create,a=n.inst;i=r(),a.destroy=i}n=n.next}while(n!==s)}}catch(l){yt(t,t.return,l)}}function Mi(e,t,n){try{var i=t.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var r=s.next;i=r;do{if((i.tag&e)===e){var a=i.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,s=t;var u=n,h=l;try{h()}catch(d){yt(s,u,d)}}}i=i.next}while(i!==r)}}catch(d){yt(t,t.return,d)}}function tE(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{a0(t,n)}catch(i){yt(e,e.return,i)}}}function eE(e,t,n){n.props=fs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){yt(e,t,i)}}function Ma(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(s){yt(e,t,s)}}function ln(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(s){yt(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){yt(e,t,s)}else n.current=null}function nE(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(s){yt(e,e.return,s)}}function Sh(e,t,n){try{var i=e.stateNode;Tw(i,e.type,n,t),i[Ae]=t}catch(s){yt(e,e.return,s)}}function iE(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&qi(e.type)||e.tag===4}function Ah(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||iE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&qi(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wf(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=fc));else if(i!==4&&(i===27&&qi(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(wf(e,t,n),e=e.sibling;e!==null;)wf(e,t,n),e=e.sibling}function yu(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&qi(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(yu(e,t,n),e=e.sibling;e!==null;)yu(e,t,n),e=e.sibling}function sE(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);ie(t,i,n),t[he]=e,t[Ae]=n}catch(r){yt(e,e.return,r)}}var Cn=!1,Vt=!1,bh=!1,ny=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function ew(e,t){if(e=e.containerInfo,Mf=Iu,e=Gv(e),Cd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break t}var a=0,l=-1,u=-1,h=0,d=0,p=e,m=null;e:for(;;){for(var E;p!==n||s!==0&&p.nodeType!==3||(l=a+s),p!==r||i!==0&&p.nodeType!==3||(u=a+i),p.nodeType===3&&(a+=p.nodeValue.length),(E=p.firstChild)!==null;)m=p,p=E;for(;;){if(p===e)break e;if(m===n&&++h===s&&(l=a),m===r&&++d===i&&(u=a),(E=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=E}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vf={focusedElem:e,selectionRange:n},Iu=!1,Qt=t;Qt!==null;)if(t=Qt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Qt=e;else for(;Qt!==null;){switch(t=Qt,r=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&r!==null){e=void 0,n=t,s=r.memoizedProps,r=r.memoizedState,i=n.stateNode;try{var D=fs(n.type,s,n.elementType===n.type);e=i.getSnapshotBeforeUpdate(D,r),i.__reactInternalSnapshotBeforeUpdate=e}catch(M){yt(n,n.return,M)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Pf(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Pf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(U(163))}if(e=t.sibling,e!==null){e.return=t.return,Qt=e;break}Qt=t.return}}function rE(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:ei(e,n),i&4&&Co(5,n);break;case 1:if(ei(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){yt(n,n.return,a)}else{var s=fs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){yt(n,n.return,a)}}i&64&&tE(n),i&512&&Ma(n,n.return);break;case 3:if(ei(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{a0(e,t)}catch(a){yt(n,n.return,a)}}break;case 27:t===null&&i&4&&sE(n);case 26:case 5:ei(e,n),t===null&&i&4&&nE(n),i&512&&Ma(n,n.return);break;case 12:ei(e,n);break;case 13:ei(e,n),i&4&&lE(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=cw.bind(null,n),xw(e,n))));break;case 22:if(i=n.memoizedState!==null||Cn,!i){t=t!==null&&t.memoizedState!==null||Vt,s=Cn;var r=Vt;Cn=i,(Vt=t)&&!r?ii(e,n,(n.subtreeFlags&8772)!==0):ei(e,n),Cn=s,Vt=r}break;case 30:break;default:ei(e,n)}}function aE(e){var t=e.alternate;t!==null&&(e.alternate=null,aE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ad(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var At=null,Ee=!1;function xn(e,t,n){for(n=n.child;n!==null;)oE(e,t,n),n=n.sibling}function oE(e,t,n){if(De&&typeof De.onCommitFiberUnmount=="function")try{De.onCommitFiberUnmount(_o,n)}catch{}switch(n.tag){case 26:Vt||ln(n,t),xn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Vt||ln(n,t);var i=At,s=Ee;qi(n.type)&&(At=n.stateNode,Ee=!1),xn(e,t,n),Ua(n.stateNode),At=i,Ee=s;break;case 5:Vt||ln(n,t);case 6:if(i=At,s=Ee,At=null,xn(e,t,n),At=i,Ee=s,At!==null)if(Ee)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(n.stateNode)}catch(r){yt(n,t,r)}else try{At.removeChild(n.stateNode)}catch(r){yt(n,t,r)}break;case 18:At!==null&&(Ee?(e=At,my(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),so(e)):my(At,n.stateNode));break;case 4:i=At,s=Ee,At=n.stateNode.containerInfo,Ee=!0,xn(e,t,n),At=i,Ee=s;break;case 0:case 11:case 14:case 15:Vt||Mi(2,n,t),Vt||Mi(4,n,t),xn(e,t,n);break;case 1:Vt||(ln(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&eE(n,t,i)),xn(e,t,n);break;case 21:xn(e,t,n);break;case 22:Vt=(i=Vt)||n.memoizedState!==null,xn(e,t,n),Vt=i;break;default:xn(e,t,n)}}function lE(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{so(e)}catch(n){yt(t,t.return,n)}}function nw(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ny),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ny),t;default:throw Error(U(435,e.tag))}}function wh(e,t){var n=nw(e);t.forEach(function(i){var s=hw.bind(null,e,i);n.has(i)||(n.add(i),i.then(s,s))})}function Ie(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i],r=e,a=t,l=a;t:for(;l!==null;){switch(l.tag){case 27:if(qi(l.type)){At=l.stateNode,Ee=!1;break t}break;case 5:At=l.stateNode,Ee=!1;break t;case 3:case 4:At=l.stateNode.containerInfo,Ee=!0;break t}l=l.return}if(At===null)throw Error(U(160));oE(r,a,s),At=null,Ee=!1,r=s.alternate,r!==null&&(r.return=null),s.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)uE(t,e),t=t.sibling}var Ze=null;function uE(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ie(t,e),xe(e),i&4&&(Mi(3,e,e.return),Co(3,e),Mi(5,e,e.return));break;case 1:Ie(t,e),xe(e),i&512&&(Vt||n===null||ln(n,n.return)),i&64&&Cn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var s=Ze;if(Ie(t,e),xe(e),i&512&&(Vt||n===null||ln(n,n.return)),i&4){var r=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){t:{i=e.type,n=e.memoizedProps,s=s.ownerDocument||s;e:switch(i){case"title":r=s.getElementsByTagName("title")[0],(!r||r[To]||r[he]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=s.createElement(i),s.head.insertBefore(r,s.querySelector("head > title"))),ie(r,i,n),r[he]=e,Kt(r),i=r;break t;case"link":var a=vy("link","href",s).get(i+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(r=a[l],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break e}}r=s.createElement(i),ie(r,i,n),s.head.appendChild(r);break;case"meta":if(a=vy("meta","content",s).get(i+(n.content||""))){for(l=0;l<a.length;l++)if(r=a[l],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break e}}r=s.createElement(i),ie(r,i,n),s.head.appendChild(r);break;default:throw Error(U(468,i))}r[he]=e,Kt(r),i=r}e.stateNode=i}else Ey(s,e.type,e.stateNode);else e.stateNode=_y(s,i,e.memoizedProps);else r!==i?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,i===null?Ey(s,e.type,e.stateNode):_y(s,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Sh(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ie(t,e),xe(e),i&512&&(Vt||n===null||ln(n,n.return)),n!==null&&i&4&&Sh(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ie(t,e),xe(e),i&512&&(Vt||n===null||ln(n,n.return)),e.flags&32){s=e.stateNode;try{pr(s,"")}catch(E){yt(e,e.return,E)}}i&4&&e.stateNode!=null&&(s=e.memoizedProps,Sh(e,s,n!==null?n.memoizedProps:s)),i&1024&&(bh=!0);break;case 6:if(Ie(t,e),xe(e),i&4){if(e.stateNode===null)throw Error(U(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(E){yt(e,e.return,E)}}break;case 3:if(Bl=null,s=Ze,Ze=bu(t.containerInfo),Ie(t,e),Ze=s,xe(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{so(t.containerInfo)}catch(E){yt(e,e.return,E)}bh&&(bh=!1,cE(e));break;case 4:i=Ze,Ze=bu(e.stateNode.containerInfo),Ie(t,e),xe(e),Ze=i;break;case 12:Ie(t,e),xe(e);break;case 13:Ie(t,e),xe(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(nm=cn()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,wh(e,i)));break;case 22:s=e.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,h=Cn,d=Vt;if(Cn=h||s,Vt=d||u,Ie(t,e),Vt=d,Cn=h,xe(e),i&8192)t:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(n===null||u||Cn||Vt||Wi(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){u=n=t;try{if(r=u.stateNode,s)a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var p=u.memoizedProps.style,m=p!=null&&p.hasOwnProperty("display")?p.display:null;l.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(E){yt(u,u.return,E)}}}else if(t.tag===6){if(n===null){u=t;try{u.stateNode.nodeValue=s?"":u.memoizedProps}catch(E){yt(u,u.return,E)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,wh(e,n))));break;case 19:Ie(t,e),xe(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,wh(e,i)));break;case 30:break;case 21:break;default:Ie(t,e),xe(e)}}function xe(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(iE(i)){n=i;break}i=i.return}if(n==null)throw Error(U(160));switch(n.tag){case 27:var s=n.stateNode,r=Ah(e);yu(e,r,s);break;case 5:var a=n.stateNode;n.flags&32&&(pr(a,""),n.flags&=-33);var l=Ah(e);yu(e,l,a);break;case 3:case 4:var u=n.stateNode.containerInfo,h=Ah(e);wf(e,h,u);break;default:throw Error(U(161))}}catch(d){yt(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function cE(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;cE(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ei(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)rE(e,t.alternate,t),t=t.sibling}function Wi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Mi(4,t,t.return),Wi(t);break;case 1:ln(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&eE(t,t.return,n),Wi(t);break;case 27:Ua(t.stateNode);case 26:case 5:ln(t,t.return),Wi(t);break;case 22:t.memoizedState===null&&Wi(t);break;case 30:Wi(t);break;default:Wi(t)}e=e.sibling}}function ii(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,s=e,r=t,a=r.flags;switch(r.tag){case 0:case 11:case 15:ii(s,r,n),Co(4,r);break;case 1:if(ii(s,r,n),i=r,s=i.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(h){yt(i,i.return,h)}if(i=r,s=i.updateQueue,s!==null){var l=i.stateNode;try{var u=s.shared.hiddenCallbacks;if(u!==null)for(s.shared.hiddenCallbacks=null,s=0;s<u.length;s++)r0(u[s],l)}catch(h){yt(i,i.return,h)}}n&&a&64&&tE(r),Ma(r,r.return);break;case 27:sE(r);case 26:case 5:ii(s,r,n),n&&i===null&&a&4&&nE(r),Ma(r,r.return);break;case 12:ii(s,r,n);break;case 13:ii(s,r,n),n&&a&4&&lE(s,r);break;case 22:r.memoizedState===null&&ii(s,r,n),Ma(r,r.return);break;case 30:break;default:ii(s,r,n)}t=t.sibling}}function Wd(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&wo(n))}function Jd(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&wo(e))}function rn(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)hE(e,t,n,i),t=t.sibling}function hE(e,t,n,i){var s=t.flags;switch(t.tag){case 0:case 11:case 15:rn(e,t,n,i),s&2048&&Co(9,t);break;case 1:rn(e,t,n,i);break;case 3:rn(e,t,n,i),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&wo(e)));break;case 12:if(s&2048){rn(e,t,n,i),e=t.stateNode;try{var r=t.memoizedProps,a=r.id,l=r.onPostCommit;typeof l=="function"&&l(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){yt(t,t.return,u)}}else rn(e,t,n,i);break;case 13:rn(e,t,n,i);break;case 23:break;case 22:r=t.stateNode,a=t.alternate,t.memoizedState!==null?r._visibility&2?rn(e,t,n,i):Va(e,t):r._visibility&2?rn(e,t,n,i):(r._visibility|=2,Us(e,t,n,i,(t.subtreeFlags&10256)!==0)),s&2048&&Wd(a,t);break;case 24:rn(e,t,n,i),s&2048&&Jd(t.alternate,t);break;default:rn(e,t,n,i)}}function Us(e,t,n,i,s){for(s=s&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var r=e,a=t,l=n,u=i,h=a.flags;switch(a.tag){case 0:case 11:case 15:Us(r,a,l,u,s),Co(8,a);break;case 23:break;case 22:var d=a.stateNode;a.memoizedState!==null?d._visibility&2?Us(r,a,l,u,s):Va(r,a):(d._visibility|=2,Us(r,a,l,u,s)),s&&h&2048&&Wd(a.alternate,a);break;case 24:Us(r,a,l,u,s),s&&h&2048&&Jd(a.alternate,a);break;default:Us(r,a,l,u,s)}t=t.sibling}}function Va(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,s=i.flags;switch(i.tag){case 22:Va(n,i),s&2048&&Wd(i.alternate,i);break;case 24:Va(n,i),s&2048&&Jd(i.alternate,i);break;default:Va(n,i)}t=t.sibling}}var pa=8192;function Ms(e){if(e.subtreeFlags&pa)for(e=e.child;e!==null;)fE(e),e=e.sibling}function fE(e){switch(e.tag){case 26:Ms(e),e.flags&pa&&e.memoizedState!==null&&Bw(Ze,e.memoizedState,e.memoizedProps);break;case 5:Ms(e);break;case 3:case 4:var t=Ze;Ze=bu(e.stateNode.containerInfo),Ms(e),Ze=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=pa,pa=16777216,Ms(e),pa=t):Ms(e));break;default:Ms(e)}}function dE(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ha(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Qt=i,gE(i,e)}dE(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)mE(e),e=e.sibling}function mE(e){switch(e.tag){case 0:case 11:case 15:ha(e),e.flags&2048&&Mi(9,e,e.return);break;case 3:ha(e);break;case 12:ha(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,jl(e)):ha(e);break;default:ha(e)}}function jl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Qt=i,gE(i,e)}dE(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Mi(8,t,t.return),jl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,jl(t));break;default:jl(t)}e=e.sibling}}function gE(e,t){for(;Qt!==null;){var n=Qt;switch(n.tag){case 0:case 11:case 15:Mi(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:wo(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Qt=i;else t:for(n=e;Qt!==null;){i=Qt;var s=i.sibling,r=i.return;if(aE(i),i===n){Qt=null;break t}if(s!==null){s.return=r,Qt=s;break t}Qt=r}}}var iw={getCacheForType:function(e){var t=fe(Bt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},sw=typeof WeakMap=="function"?WeakMap:Map,dt=0,_t=null,et=null,ot=0,ft=0,Ce=null,pi=!1,Pr=!1,tm=!1,Fn=0,Dt=0,Vi=0,as=0,em=0,Ye=0,Tr=0,ka=null,Te=null,Rf=!1,nm=0,_u=1/0,vu=null,Si=null,ee=0,Ai=null,Sr=null,ur=0,If=0,xf=null,pE=null,Pa=0,Cf=null;function Me(){if(dt&2&&ot!==0)return ot&-ot;if(Q.T!==null){var e=yr;return e!==0?e:sm()}return Iv()}function yE(){Ye===0&&(Ye=!(ot&536870912)||ut?Av():536870912);var e=Qe.current;return e!==null&&(e.flags|=32),Ye}function Ve(e,t,n){(e===_t&&(ft===2||ft===9)||e.cancelPendingCommit!==null)&&(Ar(e,0),yi(e,ot,Ye,!1)),Eo(e,n),(!(dt&2)||e!==_t)&&(e===_t&&(!(dt&2)&&(as|=n),Dt===4&&yi(e,ot,Ye,!1)),Tn(e))}function _E(e,t,n){if(dt&6)throw Error(U(327));var i=!n&&(t&124)===0&&(t&e.expiredLanes)===0||vo(e,t),s=i?ow(e,t):Rh(e,t,!0),r=i;do{if(s===0){Pr&&!i&&yi(e,t,0,!1);break}else{if(n=e.current.alternate,r&&!rw(n)){s=Rh(e,t,!1),r=!1;continue}if(s===2){if(r=t,e.errorRecoveryDisabledLanes&r)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;t:{var l=e;s=ka;var u=l.current.memoizedState.isDehydrated;if(u&&(Ar(l,a).flags|=256),a=Rh(l,a,!1),a!==2){if(tm&&!u){l.errorRecoveryDisabledLanes|=r,as|=r,s=4;break t}r=Te,Te=s,r!==null&&(Te===null?Te=r:Te.push.apply(Te,r))}s=a}if(r=!1,s!==2)continue}}if(s===1){Ar(e,0),yi(e,t,0,!0);break}t:{switch(i=e,r=s,r){case 0:case 1:throw Error(U(345));case 4:if((t&4194048)!==t)break;case 6:yi(i,t,Ye,!pi);break t;case 2:Te=null;break;case 3:case 5:break;default:throw Error(U(329))}if((t&62914560)===t&&(s=nm+300-cn(),10<s)){if(yi(i,t,Ye,!pi),Ju(i,0,!0)!==0)break t;i.timeoutHandle=UE(iy.bind(null,i,n,Te,vu,Rf,t,Ye,as,Tr,pi,r,2,-0,0),s);break t}iy(i,n,Te,vu,Rf,t,Ye,as,Tr,pi,r,0,-0,0)}}break}while(!0);Tn(e)}function iy(e,t,n,i,s,r,a,l,u,h,d,p,m,E){if(e.timeoutHandle=-1,p=t.subtreeFlags,(p&8192||(p&16785408)===16785408)&&(to={stylesheets:null,count:0,unsuspend:zw},fE(t),p=qw(),p!==null)){e.cancelPendingCommit=p(ry.bind(null,e,t,r,n,i,s,a,l,u,d,1,m,E)),yi(e,r,a,!h);return}ry(e,t,r,n,i,s,a,l,u)}function rw(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!ke(r(),s))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function yi(e,t,n,i){t&=~em,t&=~as,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var s=t;0<s;){var r=31-Oe(s),a=1<<r;i[r]=-1,s&=~a}n!==0&&wv(e,n,t)}function uc(){return dt&6?!0:(No(0),!1)}function im(){if(et!==null){if(ft===0)var e=et.return;else e=et,Mn=Ss=null,Hd(e),lr=null,Za=0,e=et;for(;e!==null;)J0(e.alternate,e),e=e.return;et=null}}function Ar(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Aw(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),im(),_t=e,et=n=Un(e.current,null),ot=t,ft=0,Ce=null,pi=!1,Pr=vo(e,t),tm=!1,Tr=Ye=em=as=Vi=Dt=0,Te=ka=null,Rf=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var s=31-Oe(i),r=1<<s;t|=e[s],i&=~r}return Fn=t,ic(),n}function vE(e,t){J=null,Q.H=fu,t===Ro||t===rc?(t=kp(),ft=3):t===i0?(t=kp(),ft=4):ft=t===Q0?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ce=t,et===null&&(Dt=1,gu(e,qe(t,e.current)))}function EE(){var e=Q.H;return Q.H=fu,e===null?fu:e}function TE(){var e=Q.A;return Q.A=iw,e}function Nf(){Dt=4,pi||(ot&4194048)!==ot&&Qe.current!==null||(Pr=!0),!(Vi&134217727)&&!(as&134217727)||_t===null||yi(_t,ot,Ye,!1)}function Rh(e,t,n){var i=dt;dt|=2;var s=EE(),r=TE();(_t!==e||ot!==t)&&(vu=null,Ar(e,t)),t=!1;var a=Dt;t:do try{if(ft!==0&&et!==null){var l=et,u=Ce;switch(ft){case 8:im(),a=6;break t;case 3:case 2:case 9:case 6:Qe.current===null&&(t=!0);var h=ft;if(ft=0,Ce=null,tr(e,l,u,h),n&&Pr){a=0;break t}break;default:h=ft,ft=0,Ce=null,tr(e,l,u,h)}}aw(),a=Dt;break}catch(d){vE(e,d)}while(!0);return t&&e.shellSuspendCounter++,Mn=Ss=null,dt=i,Q.H=s,Q.A=r,et===null&&(_t=null,ot=0,ic()),a}function aw(){for(;et!==null;)SE(et)}function ow(e,t){var n=dt;dt|=2;var i=EE(),s=TE();_t!==e||ot!==t?(vu=null,_u=cn()+500,Ar(e,t)):Pr=vo(e,t);t:do try{if(ft!==0&&et!==null){t=et;var r=Ce;e:switch(ft){case 1:ft=0,Ce=null,tr(e,t,r,1);break;case 2:case 9:if(Vp(r)){ft=0,Ce=null,sy(t);break}t=function(){ft!==2&&ft!==9||_t!==e||(ft=7),Tn(e)},r.then(t,t);break t;case 3:ft=7;break t;case 4:ft=5;break t;case 7:Vp(r)?(ft=0,Ce=null,sy(t)):(ft=0,Ce=null,tr(e,t,r,7));break;case 5:var a=null;switch(et.tag){case 26:a=et.memoizedState;case 5:case 27:var l=et;if(!a||BE(a)){ft=0,Ce=null;var u=l.sibling;if(u!==null)et=u;else{var h=l.return;h!==null?(et=h,cc(h)):et=null}break e}}ft=0,Ce=null,tr(e,t,r,5);break;case 6:ft=0,Ce=null,tr(e,t,r,6);break;case 8:im(),Dt=6;break t;default:throw Error(U(462))}}lw();break}catch(d){vE(e,d)}while(!0);return Mn=Ss=null,Q.H=i,Q.A=s,dt=n,et!==null?0:(_t=null,ot=0,ic(),Dt)}function lw(){for(;et!==null&&!NA();)SE(et)}function SE(e){var t=W0(e.alternate,e,Fn);e.memoizedProps=e.pendingProps,t===null?cc(e):et=t}function sy(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Zp(n,t,t.pendingProps,t.type,void 0,ot);break;case 11:t=Zp(n,t,t.pendingProps,t.type.render,t.ref,ot);break;case 5:Hd(t);default:J0(n,t),t=et=Jv(t,Fn),t=W0(n,t,Fn)}e.memoizedProps=e.pendingProps,t===null?cc(e):et=t}function tr(e,t,n,i){Mn=Ss=null,Hd(t),lr=null,Za=0;var s=t.return;try{if(Zb(e,s,t,n,ot)){Dt=1,gu(e,qe(n,e.current)),et=null;return}}catch(r){if(s!==null)throw et=s,r;Dt=1,gu(e,qe(n,e.current)),et=null;return}t.flags&32768?(ut||i===1?e=!0:Pr||ot&536870912?e=!1:(pi=e=!0,(i===2||i===9||i===3||i===6)&&(i=Qe.current,i!==null&&i.tag===13&&(i.flags|=16384))),AE(t,e)):cc(t)}function cc(e){var t=e;do{if(t.flags&32768){AE(t,pi);return}e=t.return;var n=Jb(t.alternate,t,Fn);if(n!==null){et=n;return}if(t=t.sibling,t!==null){et=t;return}et=t=e}while(t!==null);Dt===0&&(Dt=5)}function AE(e,t){do{var n=tw(e.alternate,e);if(n!==null){n.flags&=32767,et=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){et=e;return}et=e=n}while(e!==null);Dt=6,et=null}function ry(e,t,n,i,s,r,a,l,u){e.cancelPendingCommit=null;do hc();while(ee!==0);if(dt&6)throw Error(U(327));if(t!==null){if(t===e.current)throw Error(U(177));if(r=t.lanes|t.childLanes,r|=Nd,zA(e,n,r,a,l,u),e===_t&&(et=_t=null,ot=0),Sr=t,Ai=e,ur=n,If=r,xf=s,pE=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,fw(nu,function(){return xE(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=Q.T,Q.T=null,s=ct.p,ct.p=2,a=dt,dt|=4;try{ew(e,t,n)}finally{dt=a,ct.p=s,Q.T=i}}ee=1,bE(),wE(),RE()}}function bE(){if(ee===1){ee=0;var e=Ai,t=Sr,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=Q.T,Q.T=null;var i=ct.p;ct.p=2;var s=dt;dt|=4;try{uE(t,e);var r=Vf,a=Gv(e.containerInfo),l=r.focusedElem,u=r.selectionRange;if(a!==l&&l&&l.ownerDocument&&Fv(l.ownerDocument.documentElement,l)){if(u!==null&&Cd(l)){var h=u.start,d=u.end;if(d===void 0&&(d=h),"selectionStart"in l)l.selectionStart=h,l.selectionEnd=Math.min(d,l.value.length);else{var p=l.ownerDocument||document,m=p&&p.defaultView||window;if(m.getSelection){var E=m.getSelection(),D=l.textContent.length,M=Math.min(u.start,D),V=u.end===void 0?M:Math.min(u.end,D);!E.extend&&M>V&&(a=V,V=M,M=a);var A=Rp(l,M),g=Rp(l,V);if(A&&g&&(E.rangeCount!==1||E.anchorNode!==A.node||E.anchorOffset!==A.offset||E.focusNode!==g.node||E.focusOffset!==g.offset)){var T=p.createRange();T.setStart(A.node,A.offset),E.removeAllRanges(),M>V?(E.addRange(T),E.extend(g.node,g.offset)):(T.setEnd(g.node,g.offset),E.addRange(T))}}}}for(p=[],E=l;E=E.parentNode;)E.nodeType===1&&p.push({element:E,left:E.scrollLeft,top:E.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<p.length;l++){var R=p[l];R.element.scrollLeft=R.left,R.element.scrollTop=R.top}}Iu=!!Mf,Vf=Mf=null}finally{dt=s,ct.p=i,Q.T=n}}e.current=t,ee=2}}function wE(){if(ee===2){ee=0;var e=Ai,t=Sr,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=Q.T,Q.T=null;var i=ct.p;ct.p=2;var s=dt;dt|=4;try{rE(e,t.alternate,t)}finally{dt=s,ct.p=i,Q.T=n}}ee=3}}function RE(){if(ee===4||ee===3){ee=0,DA();var e=Ai,t=Sr,n=ur,i=pE;t.subtreeFlags&10256||t.flags&10256?ee=5:(ee=0,Sr=Ai=null,IE(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(Si=null),Sd(n),t=t.stateNode,De&&typeof De.onCommitFiberRoot=="function")try{De.onCommitFiberRoot(_o,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=Q.T,s=ct.p,ct.p=2,Q.T=null;try{for(var r=e.onRecoverableError,a=0;a<i.length;a++){var l=i[a];r(l.value,{componentStack:l.stack})}}finally{Q.T=t,ct.p=s}}ur&3&&hc(),Tn(e),s=e.pendingLanes,n&4194090&&s&42?e===Cf?Pa++:(Pa=0,Cf=e):Pa=0,No(0)}}function IE(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,wo(t)))}function hc(e){return bE(),wE(),RE(),xE()}function xE(){if(ee!==5)return!1;var e=Ai,t=If;If=0;var n=Sd(ur),i=Q.T,s=ct.p;try{ct.p=32>n?32:n,Q.T=null,n=xf,xf=null;var r=Ai,a=ur;if(ee=0,Sr=Ai=null,ur=0,dt&6)throw Error(U(331));var l=dt;if(dt|=4,mE(r.current),hE(r,r.current,a,n),dt=l,No(0,!1),De&&typeof De.onPostCommitFiberRoot=="function")try{De.onPostCommitFiberRoot(_o,r)}catch{}return!0}finally{ct.p=s,Q.T=i,IE(e,t)}}function ay(e,t,n){t=qe(n,t),t=Sf(e.stateNode,t,2),e=Ti(e,t,2),e!==null&&(Eo(e,2),Tn(e))}function yt(e,t,n){if(e.tag===3)ay(e,e,n);else for(;t!==null;){if(t.tag===3){ay(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Si===null||!Si.has(i))){e=qe(n,e),n=G0(2),i=Ti(t,n,2),i!==null&&(Y0(n,i,t,e),Eo(i,2),Tn(i));break}}t=t.return}}function Ih(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new sw;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(n)||(tm=!0,s.add(n),e=uw.bind(null,e,t,n),t.then(e,e))}function uw(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,_t===e&&(ot&n)===n&&(Dt===4||Dt===3&&(ot&62914560)===ot&&300>cn()-nm?!(dt&2)&&Ar(e,0):em|=n,Tr===ot&&(Tr=0)),Tn(e)}function CE(e,t){t===0&&(t=bv()),e=kr(e,t),e!==null&&(Eo(e,t),Tn(e))}function cw(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),CE(e,n)}function hw(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(U(314))}i!==null&&i.delete(t),CE(e,n)}function fw(e,t){return Ed(e,t)}var Eu=null,Ls=null,Df=!1,Tu=!1,xh=!1,os=0;function Tn(e){e!==Ls&&e.next===null&&(Ls===null?Eu=Ls=e:Ls=Ls.next=e),Tu=!0,Df||(Df=!0,mw())}function No(e,t){if(!xh&&Tu){xh=!0;do for(var n=!1,i=Eu;i!==null;){if(e!==0){var s=i.pendingLanes;if(s===0)var r=0;else{var a=i.suspendedLanes,l=i.pingedLanes;r=(1<<31-Oe(42|e)+1)-1,r&=s&~(a&~l),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,oy(i,r))}else r=ot,r=Ju(i,i===_t?r:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(r&3)||vo(i,r)||(n=!0,oy(i,r));i=i.next}while(n);xh=!1}}function dw(){NE()}function NE(){Tu=Df=!1;var e=0;os!==0&&(Sw()&&(e=os),os=0);for(var t=cn(),n=null,i=Eu;i!==null;){var s=i.next,r=DE(i,t);r===0?(i.next=null,n===null?Eu=s:n.next=s,s===null&&(Ls=n)):(n=i,(e!==0||r&3)&&(Tu=!0)),i=s}No(e)}function DE(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var a=31-Oe(r),l=1<<a,u=s[a];u===-1?(!(l&n)||l&i)&&(s[a]=jA(l,t)):u<=t&&(e.expiredLanes|=l),r&=~l}if(t=_t,n=ot,n=Ju(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(ft===2||ft===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&th(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||vo(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&th(i),Sd(n)){case 2:case 8:n=Tv;break;case 32:n=nu;break;case 268435456:n=Sv;break;default:n=nu}return i=OE.bind(null,e),n=Ed(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&th(i),e.callbackPriority=2,e.callbackNode=null,2}function OE(e,t){if(ee!==0&&ee!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(hc()&&e.callbackNode!==n)return null;var i=ot;return i=Ju(e,e===_t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(_E(e,i,t),DE(e,cn()),e.callbackNode!=null&&e.callbackNode===n?OE.bind(null,e):null)}function oy(e,t){if(hc())return null;_E(e,t,!0)}function mw(){bw(function(){dt&6?Ed(Ev,dw):NE()})}function sm(){return os===0&&(os=Av()),os}function ly(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Dl(""+e)}function uy(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function gw(e,t,n,i,s){if(t==="submit"&&n&&n.stateNode===s){var r=ly((s[Ae]||null).action),a=i.submitter;a&&(t=(t=a[Ae]||null)?ly(t.formAction):a.getAttribute("formAction"),t!==null&&(r=t,a=null));var l=new tc("action","action",null,i,s);e.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(os!==0){var u=a?uy(s,a):new FormData(s);Ef(n,{pending:!0,data:u,method:s.method,action:r},null,u)}}else typeof r=="function"&&(l.preventDefault(),u=a?uy(s,a):new FormData(s),Ef(n,{pending:!0,data:u,method:s.method,action:r},r,u))},currentTarget:s}]})}}for(var Ch=0;Ch<lf.length;Ch++){var Nh=lf[Ch],pw=Nh.toLowerCase(),yw=Nh[0].toUpperCase()+Nh.slice(1);nn(pw,"on"+yw)}nn(Qv,"onAnimationEnd");nn(Kv,"onAnimationIteration");nn(Xv,"onAnimationStart");nn("dblclick","onDoubleClick");nn("focusin","onFocus");nn("focusout","onBlur");nn(Vb,"onTransitionRun");nn(kb,"onTransitionStart");nn(Pb,"onTransitionCancel");nn($v,"onTransitionEnd");gr("onMouseEnter",["mouseout","mouseover"]);gr("onMouseLeave",["mouseout","mouseover"]);gr("onPointerEnter",["pointerout","pointerover"]);gr("onPointerLeave",["pointerout","pointerover"]);vs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vs("onBeforeInput",["compositionend","keypress","textInput","paste"]);vs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_w=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wa));function ME(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],s=i.event;i=i.listeners;t:{var r=void 0;if(t)for(var a=i.length-1;0<=a;a--){var l=i[a],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==r&&s.isPropagationStopped())break t;r=l,s.currentTarget=h;try{r(s)}catch(d){mu(d)}s.currentTarget=null,r=u}else for(a=0;a<i.length;a++){if(l=i[a],u=l.instance,h=l.currentTarget,l=l.listener,u!==r&&s.isPropagationStopped())break t;r=l,s.currentTarget=h;try{r(s)}catch(d){mu(d)}s.currentTarget=null,r=u}}}}function tt(e,t){var n=t[tf];n===void 0&&(n=t[tf]=new Set);var i=e+"__bubble";n.has(i)||(VE(t,e,2,!1),n.add(i))}function Dh(e,t,n){var i=0;t&&(i|=4),VE(n,e,i,t)}var El="_reactListening"+Math.random().toString(36).slice(2);function rm(e){if(!e[El]){e[El]=!0,xv.forEach(function(n){n!=="selectionchange"&&(_w.has(n)||Dh(n,!1,e),Dh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[El]||(t[El]=!0,Dh("selectionchange",!1,t))}}function VE(e,t,n,i){switch(YE(t)){case 2:var s=Gw;break;case 8:s=Yw;break;default:s=um}n=s.bind(null,t,n,e),s=void 0,!rf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Oh(e,t,n,i,s){var r=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===s)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===s)return;a=a.return}for(;l!==null;){if(a=Gs(l),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){i=r=a;continue t}l=l.parentNode}}i=i.return}Pv(function(){var h=r,d=wd(n),p=[];t:{var m=Zv.get(e);if(m!==void 0){var E=tc,D=e;switch(e){case"keypress":if(Ml(n)===0)break t;case"keydown":case"keyup":E=fb;break;case"focusin":D="focus",E=lh;break;case"focusout":D="blur",E=lh;break;case"beforeblur":case"afterblur":E=lh;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=pp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=tb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=gb;break;case Qv:case Kv:case Xv:E=ib;break;case $v:E=yb;break;case"scroll":case"scrollend":E=WA;break;case"wheel":E=vb;break;case"copy":case"cut":case"paste":E=rb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=_p;break;case"toggle":case"beforetoggle":E=Tb}var M=(t&4)!==0,V=!M&&(e==="scroll"||e==="scrollend"),A=M?m!==null?m+"Capture":null:m;M=[];for(var g=h,T;g!==null;){var R=g;if(T=R.stateNode,R=R.tag,R!==5&&R!==26&&R!==27||T===null||A===null||(R=Ya(g,A),R!=null&&M.push(Ja(g,R,T))),V)break;g=g.return}0<M.length&&(m=new E(m,D,null,n,d),p.push({event:m,listeners:M}))}}if(!(t&7)){t:{if(m=e==="mouseover"||e==="pointerover",E=e==="mouseout"||e==="pointerout",m&&n!==sf&&(D=n.relatedTarget||n.fromElement)&&(Gs(D)||D[Mr]))break t;if((E||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,E?(D=n.relatedTarget||n.toElement,E=h,D=D?Gs(D):null,D!==null&&(V=yo(D),M=D.tag,D!==V||M!==5&&M!==27&&M!==6)&&(D=null)):(E=null,D=h),E!==D)){if(M=pp,R="onMouseLeave",A="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(M=_p,R="onPointerLeave",A="onPointerEnter",g="pointer"),V=E==null?m:ga(E),T=D==null?m:ga(D),m=new M(R,g+"leave",E,n,d),m.target=V,m.relatedTarget=T,R=null,Gs(d)===h&&(M=new M(A,g+"enter",D,n,d),M.target=T,M.relatedTarget=V,R=M),V=R,E&&D)e:{for(M=E,A=D,g=0,T=M;T;T=Vs(T))g++;for(T=0,R=A;R;R=Vs(R))T++;for(;0<g-T;)M=Vs(M),g--;for(;0<T-g;)A=Vs(A),T--;for(;g--;){if(M===A||A!==null&&M===A.alternate)break e;M=Vs(M),A=Vs(A)}M=null}else M=null;E!==null&&cy(p,m,E,M,!1),D!==null&&V!==null&&cy(p,V,D,M,!0)}}t:{if(m=h?ga(h):window,E=m.nodeName&&m.nodeName.toLowerCase(),E==="select"||E==="input"&&m.type==="file")var k=Sp;else if(Tp(m))if(qv)k=Db;else{k=Cb;var j=xb}else E=m.nodeName,!E||E.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?h&&bd(h.elementType)&&(k=Sp):k=Nb;if(k&&(k=k(e,h))){Bv(p,k,n,d);break t}j&&j(e,m,h),e==="focusout"&&h&&m.type==="number"&&h.memoizedProps.value!=null&&nf(m,"number",m.value)}switch(j=h?ga(h):window,e){case"focusin":(Tp(j)||j.contentEditable==="true")&&(Ks=j,af=h,Ra=null);break;case"focusout":Ra=af=Ks=null;break;case"mousedown":of=!0;break;case"contextmenu":case"mouseup":case"dragend":of=!1,Ip(p,n,d);break;case"selectionchange":if(Mb)break;case"keydown":case"keyup":Ip(p,n,d)}var S;if(xd)t:{switch(e){case"compositionstart":var v="onCompositionStart";break t;case"compositionend":v="onCompositionEnd";break t;case"compositionupdate":v="onCompositionUpdate";break t}v=void 0}else Qs?jv(e,n)&&(v="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(Lv&&n.locale!=="ko"&&(Qs||v!=="onCompositionStart"?v==="onCompositionEnd"&&Qs&&(S=Uv()):(gi=d,Rd="value"in gi?gi.value:gi.textContent,Qs=!0)),j=Su(h,v),0<j.length&&(v=new yp(v,e,null,n,d),p.push({event:v,listeners:j}),S?v.data=S:(S=zv(n),S!==null&&(v.data=S)))),(S=Ab?bb(e,n):wb(e,n))&&(v=Su(h,"onBeforeInput"),0<v.length&&(j=new yp("onBeforeInput","beforeinput",null,n,d),p.push({event:j,listeners:v}),j.data=S)),gw(p,e,h,n,d)}ME(p,t)})}function Ja(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Su(e,t){for(var n=t+"Capture",i=[];e!==null;){var s=e,r=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||r===null||(s=Ya(e,n),s!=null&&i.unshift(Ja(e,s,r)),s=Ya(e,t),s!=null&&i.push(Ja(e,s,r))),e.tag===3)return i;e=e.return}return[]}function Vs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function cy(e,t,n,i,s){for(var r=t._reactName,a=[];n!==null&&n!==i;){var l=n,u=l.alternate,h=l.stateNode;if(l=l.tag,u!==null&&u===i)break;l!==5&&l!==26&&l!==27||h===null||(u=h,s?(h=Ya(n,r),h!=null&&a.unshift(Ja(n,h,u))):s||(h=Ya(n,r),h!=null&&a.push(Ja(n,h,u)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var vw=/\r\n?/g,Ew=/\u0000|\uFFFD/g;function hy(e){return(typeof e=="string"?e:""+e).replace(vw,`
`).replace(Ew,"")}function kE(e,t){return t=hy(t),hy(e)===t}function fc(){}function mt(e,t,n,i,s,r){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||pr(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&pr(e,""+i);break;case"className":dl(e,"class",i);break;case"tabIndex":dl(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":dl(e,n,i);break;case"style":kv(e,i,r);break;case"data":if(t!=="object"){dl(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Dl(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(t!=="input"&&mt(e,t,"name",s.name,s,null),mt(e,t,"formEncType",s.formEncType,s,null),mt(e,t,"formMethod",s.formMethod,s,null),mt(e,t,"formTarget",s.formTarget,s,null)):(mt(e,t,"encType",s.encType,s,null),mt(e,t,"method",s.method,s,null),mt(e,t,"target",s.target,s,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Dl(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=fc);break;case"onScroll":i!=null&&tt("scroll",e);break;case"onScrollEnd":i!=null&&tt("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(U(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(U(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=Dl(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":tt("beforetoggle",e),tt("toggle",e),Nl(e,"popover",i);break;case"xlinkActuate":Rn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Rn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Rn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Rn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Rn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Rn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Rn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Rn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Rn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Nl(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=$A.get(n)||n,Nl(e,n,i))}}function Of(e,t,n,i,s,r){switch(n){case"style":kv(e,i,r);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(U(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(U(60));e.innerHTML=n}}break;case"children":typeof i=="string"?pr(e,i):(typeof i=="number"||typeof i=="bigint")&&pr(e,""+i);break;case"onScroll":i!=null&&tt("scroll",e);break;case"onScrollEnd":i!=null&&tt("scrollend",e);break;case"onClick":i!=null&&(e.onclick=fc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cv.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),r=e[Ae]||null,r=r!=null?r[n]:null,typeof r=="function"&&e.removeEventListener(t,r,s),typeof i=="function")){typeof r!="function"&&r!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,s);break t}n in e?e[n]=i:i===!0?e.setAttribute(n,""):Nl(e,n,i)}}}function ie(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tt("error",e),tt("load",e);var i=!1,s=!1,r;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(a!=null)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(U(137,t));default:mt(e,t,r,a,n,null)}}s&&mt(e,t,"srcSet",n.srcSet,n,null),i&&mt(e,t,"src",n.src,n,null);return;case"input":tt("invalid",e);var l=r=a=s=null,u=null,h=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":s=d;break;case"type":a=d;break;case"checked":u=d;break;case"defaultChecked":h=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(U(137,t));break;default:mt(e,t,i,d,n,null)}}Ov(e,r,l,u,h,a,s,!1),iu(e);return;case"select":tt("invalid",e),i=a=r=null;for(s in n)if(n.hasOwnProperty(s)&&(l=n[s],l!=null))switch(s){case"value":r=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:mt(e,t,s,l,n,null)}t=r,n=a,e.multiple=!!i,t!=null?ir(e,!!i,t,!1):n!=null&&ir(e,!!i,n,!0);return;case"textarea":tt("invalid",e),r=s=i=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":s=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(U(91));break;default:mt(e,t,a,l,n,null)}Vv(e,i,s,r),iu(e);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:mt(e,t,u,i,n,null)}return;case"dialog":tt("beforetoggle",e),tt("toggle",e),tt("cancel",e),tt("close",e);break;case"iframe":case"object":tt("load",e);break;case"video":case"audio":for(i=0;i<Wa.length;i++)tt(Wa[i],e);break;case"image":tt("error",e),tt("load",e);break;case"details":tt("toggle",e);break;case"embed":case"source":case"link":tt("error",e),tt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(i=n[h],i!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(U(137,t));default:mt(e,t,h,i,n,null)}return;default:if(bd(t)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&Of(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&mt(e,t,l,i,n,null))}function Tw(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,r=null,a=null,l=null,u=null,h=null,d=null;for(E in n){var p=n[E];if(n.hasOwnProperty(E)&&p!=null)switch(E){case"checked":break;case"value":break;case"defaultValue":u=p;default:i.hasOwnProperty(E)||mt(e,t,E,null,i,p)}}for(var m in i){var E=i[m];if(p=n[m],i.hasOwnProperty(m)&&(E!=null||p!=null))switch(m){case"type":r=E;break;case"name":s=E;break;case"checked":h=E;break;case"defaultChecked":d=E;break;case"value":a=E;break;case"defaultValue":l=E;break;case"children":case"dangerouslySetInnerHTML":if(E!=null)throw Error(U(137,t));break;default:E!==p&&mt(e,t,m,E,i,p)}}ef(e,a,l,u,h,d,r,s);return;case"select":E=a=l=m=null;for(r in n)if(u=n[r],n.hasOwnProperty(r)&&u!=null)switch(r){case"value":break;case"multiple":E=u;default:i.hasOwnProperty(r)||mt(e,t,r,null,i,u)}for(s in i)if(r=i[s],u=n[s],i.hasOwnProperty(s)&&(r!=null||u!=null))switch(s){case"value":m=r;break;case"defaultValue":l=r;break;case"multiple":a=r;default:r!==u&&mt(e,t,s,r,i,u)}t=l,n=a,i=E,m!=null?ir(e,!!n,m,!1):!!i!=!!n&&(t!=null?ir(e,!!n,t,!0):ir(e,!!n,n?[]:"",!1));return;case"textarea":E=m=null;for(l in n)if(s=n[l],n.hasOwnProperty(l)&&s!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:mt(e,t,l,null,i,s)}for(a in i)if(s=i[a],r=n[a],i.hasOwnProperty(a)&&(s!=null||r!=null))switch(a){case"value":m=s;break;case"defaultValue":E=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(U(91));break;default:s!==r&&mt(e,t,a,s,i,r)}Mv(e,m,E);return;case"option":for(var D in n)if(m=n[D],n.hasOwnProperty(D)&&m!=null&&!i.hasOwnProperty(D))switch(D){case"selected":e.selected=!1;break;default:mt(e,t,D,null,i,m)}for(u in i)if(m=i[u],E=n[u],i.hasOwnProperty(u)&&m!==E&&(m!=null||E!=null))switch(u){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:mt(e,t,u,m,i,E)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var M in n)m=n[M],n.hasOwnProperty(M)&&m!=null&&!i.hasOwnProperty(M)&&mt(e,t,M,null,i,m);for(h in i)if(m=i[h],E=n[h],i.hasOwnProperty(h)&&m!==E&&(m!=null||E!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(U(137,t));break;default:mt(e,t,h,m,i,E)}return;default:if(bd(t)){for(var V in n)m=n[V],n.hasOwnProperty(V)&&m!==void 0&&!i.hasOwnProperty(V)&&Of(e,t,V,void 0,i,m);for(d in i)m=i[d],E=n[d],!i.hasOwnProperty(d)||m===E||m===void 0&&E===void 0||Of(e,t,d,m,i,E);return}}for(var A in n)m=n[A],n.hasOwnProperty(A)&&m!=null&&!i.hasOwnProperty(A)&&mt(e,t,A,null,i,m);for(p in i)m=i[p],E=n[p],!i.hasOwnProperty(p)||m===E||m==null&&E==null||mt(e,t,p,m,i,E)}var Mf=null,Vf=null;function Au(e){return e.nodeType===9?e:e.ownerDocument}function fy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function PE(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function kf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Mh=null;function Sw(){var e=window.event;return e&&e.type==="popstate"?e===Mh?!1:(Mh=e,!0):(Mh=null,!1)}var UE=typeof setTimeout=="function"?setTimeout:void 0,Aw=typeof clearTimeout=="function"?clearTimeout:void 0,dy=typeof Promise=="function"?Promise:void 0,bw=typeof queueMicrotask=="function"?queueMicrotask:typeof dy<"u"?function(e){return dy.resolve(null).then(e).catch(ww)}:UE;function ww(e){setTimeout(function(){throw e})}function qi(e){return e==="head"}function my(e,t){var n=t,i=0,s=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(0<i&&8>i){n=i;var a=e.ownerDocument;if(n&1&&Ua(a.documentElement),n&2&&Ua(a.body),n&4)for(n=a.head,Ua(n),a=n.firstChild;a;){var l=a.nextSibling,u=a.nodeName;a[To]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=l}}if(s===0){e.removeChild(r),so(t);return}s--}else n==="$"||n==="$?"||n==="$!"?s++:i=n.charCodeAt(0)-48;else i=0;n=r}while(n);so(t)}function Pf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Pf(n),Ad(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Rw(e,t,n,i){for(;e.nodeType===1;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[To])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=tn(e.nextSibling),e===null)break}return null}function Iw(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=tn(e.nextSibling),e===null))return null;return e}function Uf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function xw(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function tn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Lf=null;function gy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function LE(e,t,n){switch(t=Au(n),e){case"html":if(e=t.documentElement,!e)throw Error(U(452));return e;case"head":if(e=t.head,!e)throw Error(U(453));return e;case"body":if(e=t.body,!e)throw Error(U(454));return e;default:throw Error(U(451))}}function Ua(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ad(e)}var Ke=new Map,py=new Set;function bu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Xn=ct.d;ct.d={f:Cw,r:Nw,D:Dw,C:Ow,L:Mw,m:Vw,X:Pw,S:kw,M:Uw};function Cw(){var e=Xn.f(),t=uc();return e||t}function Nw(e){var t=Vr(e);t!==null&&t.tag===5&&t.type==="form"?D0(t):Xn.r(e)}var Ur=typeof document>"u"?null:document;function jE(e,t,n){var i=Ur;if(i&&typeof t=="string"&&t){var s=Be(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),py.has(s)||(py.add(s),e={rel:e,crossOrigin:n,href:t},i.querySelector(s)===null&&(t=i.createElement("link"),ie(t,"link",e),Kt(t),i.head.appendChild(t)))}}function Dw(e){Xn.D(e),jE("dns-prefetch",e,null)}function Ow(e,t){Xn.C(e,t),jE("preconnect",e,t)}function Mw(e,t,n){Xn.L(e,t,n);var i=Ur;if(i&&e&&t){var s='link[rel="preload"][as="'+Be(t)+'"]';t==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+Be(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+Be(n.imageSizes)+'"]')):s+='[href="'+Be(e)+'"]';var r=s;switch(t){case"style":r=br(e);break;case"script":r=Lr(e)}Ke.has(r)||(e=St({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Ke.set(r,e),i.querySelector(s)!==null||t==="style"&&i.querySelector(Do(r))||t==="script"&&i.querySelector(Oo(r))||(t=i.createElement("link"),ie(t,"link",e),Kt(t),i.head.appendChild(t)))}}function Vw(e,t){Xn.m(e,t);var n=Ur;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+Be(i)+'"][href="'+Be(e)+'"]',r=s;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Lr(e)}if(!Ke.has(r)&&(e=St({rel:"modulepreload",href:e},t),Ke.set(r,e),n.querySelector(s)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Oo(r)))return}i=n.createElement("link"),ie(i,"link",e),Kt(i),n.head.appendChild(i)}}}function kw(e,t,n){Xn.S(e,t,n);var i=Ur;if(i&&e){var s=nr(i).hoistableStyles,r=br(e);t=t||"default";var a=s.get(r);if(!a){var l={loading:0,preload:null};if(a=i.querySelector(Do(r)))l.loading=5;else{e=St({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ke.get(r))&&am(e,n);var u=a=i.createElement("link");Kt(u),ie(u,"link",e),u._p=new Promise(function(h,d){u.onload=h,u.onerror=d}),u.addEventListener("load",function(){l.loading|=1}),u.addEventListener("error",function(){l.loading|=2}),l.loading|=4,zl(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:l},s.set(r,a)}}}function Pw(e,t){Xn.X(e,t);var n=Ur;if(n&&e){var i=nr(n).hoistableScripts,s=Lr(e),r=i.get(s);r||(r=n.querySelector(Oo(s)),r||(e=St({src:e,async:!0},t),(t=Ke.get(s))&&om(e,t),r=n.createElement("script"),Kt(r),ie(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}}function Uw(e,t){Xn.M(e,t);var n=Ur;if(n&&e){var i=nr(n).hoistableScripts,s=Lr(e),r=i.get(s);r||(r=n.querySelector(Oo(s)),r||(e=St({src:e,async:!0,type:"module"},t),(t=Ke.get(s))&&om(e,t),r=n.createElement("script"),Kt(r),ie(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}}function yy(e,t,n,i){var s=(s=vi.current)?bu(s):null;if(!s)throw Error(U(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=br(n.href),n=nr(s).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=br(n.href);var r=nr(s).hoistableStyles,a=r.get(e);if(a||(s=s.ownerDocument||s,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,a),(r=s.querySelector(Do(e)))&&!r._p&&(a.instance=r,a.state.loading=5),Ke.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ke.set(e,n),r||Lw(s,e,n,a.state))),t&&i===null)throw Error(U(528,""));return a}if(t&&i!==null)throw Error(U(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Lr(n),n=nr(s).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(U(444,e))}}function br(e){return'href="'+Be(e)+'"'}function Do(e){return'link[rel="stylesheet"]['+e+"]"}function zE(e){return St({},e,{"data-precedence":e.precedence,precedence:null})}function Lw(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),ie(t,"link",n),Kt(t),e.head.appendChild(t))}function Lr(e){return'[src="'+Be(e)+'"]'}function Oo(e){return"script[async]"+e}function _y(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Be(n.href)+'"]');if(i)return t.instance=i,Kt(i),i;var s=St({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Kt(i),ie(i,"style",s),zl(i,n.precedence,e),t.instance=i;case"stylesheet":s=br(n.href);var r=e.querySelector(Do(s));if(r)return t.state.loading|=4,t.instance=r,Kt(r),r;i=zE(n),(s=Ke.get(s))&&am(i,s),r=(e.ownerDocument||e).createElement("link"),Kt(r);var a=r;return a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),ie(r,"link",i),t.state.loading|=4,zl(r,n.precedence,e),t.instance=r;case"script":return r=Lr(n.src),(s=e.querySelector(Oo(r)))?(t.instance=s,Kt(s),s):(i=n,(s=Ke.get(r))&&(i=St({},n),om(i,s)),e=e.ownerDocument||e,s=e.createElement("script"),Kt(s),ie(s,"link",i),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(U(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,zl(i,n.precedence,e));return t.instance}function zl(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=i.length?i[i.length-1]:null,r=s,a=0;a<i.length;a++){var l=i[a];if(l.dataset.precedence===t)r=l;else if(r!==s)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function am(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function om(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Bl=null;function vy(e,t,n){if(Bl===null){var i=new Map,s=Bl=new Map;s.set(n,i)}else s=Bl,i=s.get(n),i||(i=new Map,s.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var r=n[s];if(!(r[To]||r[he]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var a=r.getAttribute(t)||"";a=e+a;var l=i.get(a);l?l.push(r):i.set(a,[r])}}return i}function Ey(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function jw(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function BE(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var to=null;function zw(){}function Bw(e,t,n){if(to===null)throw Error(U(475));var i=to;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var s=br(n.href),r=e.querySelector(Do(s));if(r){e=r._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(i.count++,i=wu.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=r,Kt(r);return}r=e.ownerDocument||e,n=zE(n),(s=Ke.get(s))&&am(n,s),r=r.createElement("link"),Kt(r);var a=r;a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),ie(r,"link",n),t.instance=r}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(i.count++,t=wu.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}function qw(){if(to===null)throw Error(U(475));var e=to;return e.stylesheets&&e.count===0&&jf(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&jf(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function wu(){if(this.count--,this.count===0){if(this.stylesheets)jf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ru=null;function jf(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ru=new Map,t.forEach(Hw,e),Ru=null,wu.call(e))}function Hw(e,t){if(!(t.state.loading&4)){var n=Ru.get(e);if(n)var i=n.get(null);else{n=new Map,Ru.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<s.length;r++){var a=s[r];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}s=t.instance,a=s.getAttribute("data-precedence"),r=n.get(a)||i,r===i&&n.set(null,s),n.set(a,s),this.count++,i=wu.bind(this),s.addEventListener("load",i),s.addEventListener("error",i),r?r.parentNode.insertBefore(s,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var eo={$$typeof:Nn,Provider:null,Consumer:null,_currentValue:es,_currentValue2:es,_threadCount:0};function Fw(e,t,n,i,s,r,a,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=eh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eh(0),this.hiddenUpdates=eh(null),this.identifierPrefix=i,this.onUncaughtError=s,this.onCaughtError=r,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function qE(e,t,n,i,s,r,a,l,u,h,d,p){return e=new Fw(e,t,n,a,l,u,h,p),t=1,r===!0&&(t|=24),r=Ne(3,null,null,t),e.current=r,r.stateNode=e,t=kd(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:i,isDehydrated:n,cache:t},Ud(r),e}function HE(e){return e?(e=Zs,e):Zs}function FE(e,t,n,i,s,r){s=HE(s),i.context===null?i.context=s:i.pendingContext=s,i=Ei(t),i.payload={element:n},r=r===void 0?null:r,r!==null&&(i.callback=r),n=Ti(e,i,t),n!==null&&(Ve(n,e,t),Ca(n,e,t))}function Ty(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function lm(e,t){Ty(e,t),(e=e.alternate)&&Ty(e,t)}function GE(e){if(e.tag===13){var t=kr(e,67108864);t!==null&&Ve(t,e,67108864),lm(e,67108864)}}var Iu=!0;function Gw(e,t,n,i){var s=Q.T;Q.T=null;var r=ct.p;try{ct.p=2,um(e,t,n,i)}finally{ct.p=r,Q.T=s}}function Yw(e,t,n,i){var s=Q.T;Q.T=null;var r=ct.p;try{ct.p=8,um(e,t,n,i)}finally{ct.p=r,Q.T=s}}function um(e,t,n,i){if(Iu){var s=zf(i);if(s===null)Oh(e,t,i,xu,n),Sy(e,i);else if(Kw(s,e,t,n,i))i.stopPropagation();else if(Sy(e,i),t&4&&-1<Qw.indexOf(e)){for(;s!==null;){var r=Vr(s);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var a=$i(r.pendingLanes);if(a!==0){var l=r;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var u=1<<31-Oe(a);l.entanglements[1]|=u,a&=~u}Tn(r),!(dt&6)&&(_u=cn()+500,No(0))}}break;case 13:l=kr(r,2),l!==null&&Ve(l,r,2),uc(),lm(r,2)}if(r=zf(i),r===null&&Oh(e,t,i,xu,n),r===s)break;s=r}s!==null&&i.stopPropagation()}else Oh(e,t,i,null,n)}}function zf(e){return e=wd(e),cm(e)}var xu=null;function cm(e){if(xu=null,e=Gs(e),e!==null){var t=yo(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=pv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return xu=e,null}function YE(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(OA()){case Ev:return 2;case Tv:return 8;case nu:case MA:return 32;case Sv:return 268435456;default:return 32}default:return 32}}var Bf=!1,bi=null,wi=null,Ri=null,no=new Map,io=new Map,ui=[],Qw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sy(e,t){switch(e){case"focusin":case"focusout":bi=null;break;case"dragenter":case"dragleave":wi=null;break;case"mouseover":case"mouseout":Ri=null;break;case"pointerover":case"pointerout":no.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":io.delete(t.pointerId)}}function fa(e,t,n,i,s,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},t!==null&&(t=Vr(t),t!==null&&GE(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Kw(e,t,n,i,s){switch(t){case"focusin":return bi=fa(bi,e,t,n,i,s),!0;case"dragenter":return wi=fa(wi,e,t,n,i,s),!0;case"mouseover":return Ri=fa(Ri,e,t,n,i,s),!0;case"pointerover":var r=s.pointerId;return no.set(r,fa(no.get(r)||null,e,t,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,io.set(r,fa(io.get(r)||null,e,t,n,i,s)),!0}return!1}function QE(e){var t=Gs(e.target);if(t!==null){var n=yo(t);if(n!==null){if(t=n.tag,t===13){if(t=pv(n),t!==null){e.blockedOn=t,BA(e.priority,function(){if(n.tag===13){var i=Me();i=Td(i);var s=kr(n,i);s!==null&&Ve(s,n,i),lm(n,i)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ql(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=zf(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);sf=i,n.target.dispatchEvent(i),sf=null}else return t=Vr(n),t!==null&&GE(t),e.blockedOn=n,!1;t.shift()}return!0}function Ay(e,t,n){ql(e)&&n.delete(t)}function Xw(){Bf=!1,bi!==null&&ql(bi)&&(bi=null),wi!==null&&ql(wi)&&(wi=null),Ri!==null&&ql(Ri)&&(Ri=null),no.forEach(Ay),io.forEach(Ay)}function Tl(e,t){e.blockedOn===t&&(e.blockedOn=null,Bf||(Bf=!0,Gt.unstable_scheduleCallback(Gt.unstable_NormalPriority,Xw)))}var Sl=null;function by(e){Sl!==e&&(Sl=e,Gt.unstable_scheduleCallback(Gt.unstable_NormalPriority,function(){Sl===e&&(Sl=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],s=e[t+2];if(typeof i!="function"){if(cm(i||n)===null)continue;break}var r=Vr(n);r!==null&&(e.splice(t,3),t-=3,Ef(r,{pending:!0,data:s,method:n.method,action:i},i,s))}}))}function so(e){function t(u){return Tl(u,e)}bi!==null&&Tl(bi,e),wi!==null&&Tl(wi,e),Ri!==null&&Tl(Ri,e),no.forEach(t),io.forEach(t);for(var n=0;n<ui.length;n++){var i=ui[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<ui.length&&(n=ui[0],n.blockedOn===null);)QE(n),n.blockedOn===null&&ui.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var s=n[i],r=n[i+1],a=s[Ae]||null;if(typeof r=="function")a||by(n);else if(a){var l=null;if(r&&r.hasAttribute("formAction")){if(s=r,a=r[Ae]||null)l=a.formAction;else if(cm(s)!==null)continue}else l=a.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),by(n)}}}function hm(e){this._internalRoot=e}dc.prototype.render=hm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));var n=t.current,i=Me();FE(n,i,e,t,null,null)};dc.prototype.unmount=hm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;FE(e.current,2,null,e,null,null),uc(),t[Mr]=null}};function dc(e){this._internalRoot=e}dc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Iv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ui.length&&t!==0&&t<ui[n].priority;n++);ui.splice(n,0,e),n===0&&QE(e)}};var wy=mv.version;if(wy!=="19.1.1")throw Error(U(527,wy,"19.1.1"));ct.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=wA(t),e=e!==null?yv(e):null,e=e===null?null:e.stateNode,e};var $w={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Al.isDisabled&&Al.supportsFiber)try{_o=Al.inject($w),De=Al}catch{}}Zu.createRoot=function(e,t){if(!gv(e))throw Error(U(299));var n=!1,i="",s=q0,r=H0,a=F0,l=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(l=t.unstable_transitionCallbacks)),t=qE(e,1,!1,null,null,n,i,s,r,a,l,null),e[Mr]=t.current,rm(e),new hm(t)};Zu.hydrateRoot=function(e,t,n){if(!gv(e))throw Error(U(299));var i=!1,s="",r=q0,a=H0,l=F0,u=null,h=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(u=n.unstable_transitionCallbacks),n.formState!==void 0&&(h=n.formState)),t=qE(e,1,!0,t,n??null,i,s,r,a,l,u,h),t.context=HE(null),n=t.current,i=Me(),i=Td(i),s=Ei(i),s.callback=null,Ti(n,s,i),n=i,t.current.lanes=n,Eo(t,n),Tn(t),e[Mr]=t.current,rm(e),new dc(t)};Zu.version="19.1.1";function KE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(KE)}catch(e){console.error(e)}}KE(),lv.exports=Zu;var Zw=lv.exports;const Ww=W_(Zw),Jw=()=>{};var Ry={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},t2=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const s=e[n++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=e[n++];t[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=e[n++],a=e[n++],l=e[n++],u=((s&7)<<18|(r&63)<<12|(a&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const r=e[n++],a=e[n++];t[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|a&63)}}return t.join("")},$E={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<e.length;s+=3){const r=e[s],a=s+1<e.length,l=a?e[s+1]:0,u=s+2<e.length,h=u?e[s+2]:0,d=r>>2,p=(r&3)<<4|l>>4;let m=(l&15)<<2|h>>6,E=h&63;u||(E=64,a||(m=64)),i.push(n[d],n[p],n[m],n[E])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(XE(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):t2(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<e.length;){const r=n[e.charAt(s++)],l=s<e.length?n[e.charAt(s)]:0;++s;const h=s<e.length?n[e.charAt(s)]:64;++s;const p=s<e.length?n[e.charAt(s)]:64;if(++s,r==null||l==null||h==null||p==null)throw new e2;const m=r<<2|l>>4;if(i.push(m),h!==64){const E=l<<4&240|h>>2;if(i.push(E),p!==64){const D=h<<6&192|p;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class e2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const n2=function(e){const t=XE(e);return $E.encodeByteArray(t,!0)},Cu=function(e){return n2(e).replace(/\./g,"")},ZE=function(e){try{return $E.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=()=>i2().__FIREBASE_DEFAULTS__,r2=()=>{if(typeof process>"u"||typeof Ry>"u")return;const e=Ry.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},a2=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&ZE(e[1]);return t&&JSON.parse(t)},mc=()=>{try{return Jw()||s2()||r2()||a2()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},WE=e=>{var t,n;return(n=(t=mc())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},o2=e=>{const t=WE(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},JE=()=>{var e;return(e=mc())==null?void 0:e.config},tT=e=>{var t;return(t=mc())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function eT(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",s=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Cu(JSON.stringify(n)),Cu(JSON.stringify(a)),""].join(".")}const La={};function c2(){const e={prod:[],emulator:[]};for(const t of Object.keys(La))La[t]?e.emulator.push(t):e.prod.push(t);return e}function h2(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let Iy=!1;function nT(e,t){if(typeof window>"u"||typeof document>"u"||!jr(window.location.host)||La[e]===t||La[e]||Iy)return;La[e]=t;function n(m){return`__firebase__banner__${m}`}const i="__firebase__banner",r=c2().prod.length>0;function a(){const m=document.getElementById(i);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,E){m.setAttribute("width","24"),m.setAttribute("id",E),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function h(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{Iy=!0,a()},m}function d(m,E){m.setAttribute("id",E),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){const m=h2(i),E=n("text"),D=document.getElementById(E)||document.createElement("span"),M=n("learnmore"),V=document.getElementById(M)||document.createElement("a"),A=n("preprendIcon"),g=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const T=m.element;l(T),d(V,M);const R=h();u(g,A),T.append(g,D,V,R),document.body.appendChild(T)}r?(D.innerText="Preview backend disconnected.",g.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(g.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function f2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(de())}function d2(){var t;const e=(t=mc())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function m2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function g2(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function p2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function y2(){const e=de();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function _2(){return!d2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function v2(){try{return typeof indexedDB=="object"}catch{return!1}}function E2(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;t(((r=s.error)==null?void 0:r.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2="FirebaseError";class $n extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=T2,Object.setPrototypeOf(this,$n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mo.prototype.create)}}class Mo{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},s=`${this.service}/${t}`,r=this.errors[t],a=r?S2(r,i):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new $n(s,l,i)}}function S2(e,t){return e.replace(A2,(n,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const A2=/\{\$([^}]+)}/g;function b2(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ds(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const s of n){if(!i.includes(s))return!1;const r=e[s],a=t[s];if(xy(r)&&xy(a)){if(!ds(r,a))return!1}else if(r!==a)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function xy(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function ya(e){const t={};return e.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,r]=i.split("=");t[decodeURIComponent(s)]=decodeURIComponent(r)}}),t}function _a(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function w2(e,t){const n=new R2(e,t);return n.subscribe.bind(n)}class R2{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let s;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");I2(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:i},s.next===void 0&&(s.next=Vh),s.error===void 0&&(s.error=Vh),s.complete===void 0&&(s.complete=Vh);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function I2(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Vh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(e){return e&&e._delegate?e._delegate:e}class ms{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new l2;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(N2(t))try{this.getOrInitializeService({instanceIdentifier:Ji})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(t=Ji){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ji){return this.instances.has(t)}getOptions(t=Ji){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);i===l&&a.resolve(s)}return s}onInit(t,n){const i=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(i)??new Set;s.add(t),this.onInitCallbacks.set(i,s);const r=this.instances.get(i);return r&&t(r,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:C2(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Ji){return this.component?this.component.multipleInstances?t:Ji:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function C2(e){return e===Ji?void 0:e}function N2(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new x2(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(nt||(nt={}));const O2={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},M2=nt.INFO,V2={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},k2=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),s=V2[t];if(s)console[s](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class fm{constructor(t){this.name=t,this._logLevel=M2,this._logHandler=k2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?O2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...t),this._logHandler(this,nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...t),this._logHandler(this,nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...t),this._logHandler(this,nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...t),this._logHandler(this,nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...t),this._logHandler(this,nt.ERROR,...t)}}const P2=(e,t)=>t.some(n=>e instanceof n);let Cy,Ny;function U2(){return Cy||(Cy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function L2(){return Ny||(Ny=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iT=new WeakMap,qf=new WeakMap,sT=new WeakMap,kh=new WeakMap,dm=new WeakMap;function j2(e){const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("success",r),e.removeEventListener("error",a)},r=()=>{n(Ii(e.result)),s()},a=()=>{i(e.error),s()};e.addEventListener("success",r),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&iT.set(n,e)}).catch(()=>{}),dm.set(t,e),t}function z2(e){if(qf.has(e))return;const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",a),e.removeEventListener("abort",a)},r=()=>{n(),s()},a=()=>{i(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",r),e.addEventListener("error",a),e.addEventListener("abort",a)});qf.set(e,t)}let Hf={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return qf.get(e);if(t==="objectStoreNames")return e.objectStoreNames||sT.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ii(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function B2(e){Hf=e(Hf)}function q2(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Ph(this),t,...n);return sT.set(i,t.sort?t.sort():[t]),Ii(i)}:L2().includes(e)?function(...t){return e.apply(Ph(this),t),Ii(iT.get(this))}:function(...t){return Ii(e.apply(Ph(this),t))}}function H2(e){return typeof e=="function"?q2(e):(e instanceof IDBTransaction&&z2(e),P2(e,U2())?new Proxy(e,Hf):e)}function Ii(e){if(e instanceof IDBRequest)return j2(e);if(kh.has(e))return kh.get(e);const t=H2(e);return t!==e&&(kh.set(e,t),dm.set(t,e)),t}const Ph=e=>dm.get(e);function F2(e,t,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const a=indexedDB.open(e,t),l=Ii(a);return i&&a.addEventListener("upgradeneeded",u=>{i(Ii(a.result),u.oldVersion,u.newVersion,Ii(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{r&&u.addEventListener("close",()=>r()),s&&u.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const G2=["get","getKey","getAll","getAllKeys","count"],Y2=["put","add","delete","clear"],Uh=new Map;function Dy(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Uh.get(t))return Uh.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=Y2.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||G2.includes(n)))return;const r=async function(a,...l){const u=this.transaction(a,s?"readwrite":"readonly");let h=u.store;return i&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),s&&u.done]))[0]};return Uh.set(t,r),r}B2(e=>({...e,get:(t,n,i)=>Dy(t,n)||e.get(t,n,i),has:(t,n)=>!!Dy(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(K2(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function K2(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Ff="@firebase/app",Oy="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn=new fm("@firebase/app"),X2="@firebase/app-compat",$2="@firebase/analytics-compat",Z2="@firebase/analytics",W2="@firebase/app-check-compat",J2="@firebase/app-check",tR="@firebase/auth",eR="@firebase/auth-compat",nR="@firebase/database",iR="@firebase/data-connect",sR="@firebase/database-compat",rR="@firebase/functions",aR="@firebase/functions-compat",oR="@firebase/installations",lR="@firebase/installations-compat",uR="@firebase/messaging",cR="@firebase/messaging-compat",hR="@firebase/performance",fR="@firebase/performance-compat",dR="@firebase/remote-config",mR="@firebase/remote-config-compat",gR="@firebase/storage",pR="@firebase/storage-compat",yR="@firebase/firestore",_R="@firebase/ai",vR="@firebase/firestore-compat",ER="firebase",TR="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf="[DEFAULT]",SR={[Ff]:"fire-core",[X2]:"fire-core-compat",[Z2]:"fire-analytics",[$2]:"fire-analytics-compat",[J2]:"fire-app-check",[W2]:"fire-app-check-compat",[tR]:"fire-auth",[eR]:"fire-auth-compat",[nR]:"fire-rtdb",[iR]:"fire-data-connect",[sR]:"fire-rtdb-compat",[rR]:"fire-fn",[aR]:"fire-fn-compat",[oR]:"fire-iid",[lR]:"fire-iid-compat",[uR]:"fire-fcm",[cR]:"fire-fcm-compat",[hR]:"fire-perf",[fR]:"fire-perf-compat",[dR]:"fire-rc",[mR]:"fire-rc-compat",[gR]:"fire-gcs",[pR]:"fire-gcs-compat",[yR]:"fire-fst",[vR]:"fire-fst-compat",[_R]:"fire-vertex","fire-js":"fire-js",[ER]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu=new Map,AR=new Map,Yf=new Map;function My(e,t){try{e.container.addComponent(t)}catch(n){Gn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function wr(e){const t=e.name;if(Yf.has(t))return Gn.debug(`There were multiple attempts to register component ${t}.`),!1;Yf.set(t,e);for(const n of Nu.values())My(n,e);for(const n of AR.values())My(n,e);return!0}function mm(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function He(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xi=new Mo("app","Firebase",bR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(t,n,i){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr=TR;function rT(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i={name:Gf,automaticDataCollectionEnabled:!0,...t},s=i.name;if(typeof s!="string"||!s)throw xi.create("bad-app-name",{appName:String(s)});if(n||(n=JE()),!n)throw xi.create("no-options");const r=Nu.get(s);if(r){if(ds(n,r.options)&&ds(i,r.config))return r;throw xi.create("duplicate-app",{appName:s})}const a=new D2(s);for(const u of Yf.values())a.addComponent(u);const l=new wR(n,i,a);return Nu.set(s,l),l}function aT(e=Gf){const t=Nu.get(e);if(!t&&e===Gf&&JE())return rT();if(!t)throw xi.create("no-app",{appName:e});return t}function Ci(e,t,n){let i=SR[e]??e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),r=t.match(/\s|\//);if(s||r){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&r&&a.push("and"),r&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Gn.warn(a.join(" "));return}wr(new ms(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="firebase-heartbeat-database",IR=1,ro="firebase-heartbeat-store";let Lh=null;function oT(){return Lh||(Lh=F2(RR,IR,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(ro)}catch(n){console.warn(n)}}}}).catch(e=>{throw xi.create("idb-open",{originalErrorMessage:e.message})})),Lh}async function xR(e){try{const n=(await oT()).transaction(ro),i=await n.objectStore(ro).get(lT(e));return await n.done,i}catch(t){if(t instanceof $n)Gn.warn(t.message);else{const n=xi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Gn.warn(n.message)}}}async function Vy(e,t){try{const i=(await oT()).transaction(ro,"readwrite");await i.objectStore(ro).put(t,lT(e)),await i.done}catch(n){if(n instanceof $n)Gn.warn(n.message);else{const i=xi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gn.warn(i.message)}}}function lT(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=1024,NR=30;class DR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new MR(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ky();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>NR){const a=VR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Gn.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ky(),{heartbeatsToSend:i,unsentEntries:s}=OR(this._heartbeatsCache.heartbeats),r=Cu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return Gn.warn(n),""}}}function ky(){return new Date().toISOString().substring(0,10)}function OR(e,t=CR){const n=[];let i=e.slice();for(const s of e){const r=n.find(a=>a.agent===s.agent);if(r){if(r.dates.push(s.date),Py(n)>t){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Py(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class MR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return v2()?E2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Vy(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Vy(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Py(e){return Cu(JSON.stringify({version:2,heartbeats:e})).length}function VR(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(e){wr(new ms("platform-logger",t=>new Q2(t),"PRIVATE")),wr(new ms("heartbeat",t=>new DR(t),"PRIVATE")),Ci(Ff,Oy,e),Ci(Ff,Oy,"esm2020"),Ci("fire-js","")}kR("");var PR="firebase",UR="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ci(PR,UR,"app");function uT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LR=uT,cT=new Mo("auth","Firebase",uT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=new fm("@firebase/auth");function jR(e,...t){Du.logLevel<=nt.WARN&&Du.warn(`Auth (${zr}): ${e}`,...t)}function Hl(e,...t){Du.logLevel<=nt.ERROR&&Du.error(`Auth (${zr}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(e,...t){throw gm(e,...t)}function fn(e,...t){return gm(e,...t)}function hT(e,t,n){const i={...LR(),[t]:n};return new Mo("auth","Firebase",i).create(t,{appName:e.name})}function jn(e){return hT(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gm(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return cT.create(e,...t)}function G(e,t,...n){if(!e)throw gm(t,...n)}function kn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Hl(t),new Error(t)}function Yn(e,t){e||kn(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function zR(){return Uy()==="http:"||Uy()==="https:"}function Uy(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zR()||g2()||"connection"in navigator)?navigator.onLine:!0}function qR(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(t,n){this.shortDelay=t,this.longDelay=n,Yn(n>t,"Short delay should be less than long delay!"),this.isMobile=f2()||p2()}get(){return BR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(e,t){Yn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;kn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;kn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;kn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],GR=new ko(3e4,6e4);function Hi(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Fi(e,t,n,i,s={}){return dT(e,s,async()=>{let r={},a={};i&&(t==="GET"?a=i:r={body:JSON.stringify(i)});const l=Vo({key:e.config.apiKey,...a}).slice(1),u=await e._getAdditionalHeaders();u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode);const h={method:t,headers:u,...r};return m2()||(h.referrerPolicy="no-referrer"),e.emulatorConfig&&jr(e.emulatorConfig.host)&&(h.credentials="include"),fT.fetch()(await mT(e,e.config.apiHost,n,l),h)})}async function dT(e,t,n){e._canInitEmulator=!1;const i={...HR,...t};try{const s=new QR(e),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await r.json();if("needConfirmation"in a)throw bl(e,"account-exists-with-different-credential",a);if(r.ok&&!("errorMessage"in a))return a;{const l=r.ok?a.errorMessage:a.error.message,[u,h]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw bl(e,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw bl(e,"email-already-in-use",a);if(u==="USER_DISABLED")throw bl(e,"user-disabled",a);const d=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw hT(e,d,h);en(e,d)}}catch(s){if(s instanceof $n)throw s;en(e,"network-request-failed",{message:String(s)})}}async function Po(e,t,n,i,s={}){const r=await Fi(e,t,n,i,s);return"mfaPendingCredential"in r&&en(e,"multi-factor-auth-required",{_serverResponse:r}),r}async function mT(e,t,n,i){const s=`${t}${n}?${i}`,r=e,a=r.config.emulator?pm(e.config,s):`${e.config.apiScheme}://${s}`;return FR.includes(n)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(a).toString():a}function YR(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class QR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(fn(this.auth,"network-request-failed")),GR.get())})}}function bl(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=fn(e,t,i);return s.customData._tokenResponse=n,s}function Ly(e){return e!==void 0&&e.enterprise!==void 0}class KR{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return YR(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function XR(e,t){return Fi(e,"GET","/v2/recaptchaConfig",Hi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $R(e,t){return Fi(e,"POST","/v1/accounts:delete",t)}async function Ou(e,t){return Fi(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function ZR(e,t=!1){const n=Pe(e),i=await n.getIdToken(t),s=ym(i);G(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,a=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:ja(jh(s.auth_time)),issuedAtTime:ja(jh(s.iat)),expirationTime:ja(jh(s.exp)),signInProvider:a||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function jh(e){return Number(e)*1e3}function ym(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return Hl("JWT malformed, contained fewer than 3 sections"),null;try{const s=ZE(n);return s?JSON.parse(s):(Hl("Failed to decode base64 JWT payload"),null)}catch(s){return Hl("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function jy(e){const t=ym(e);return G(t,"internal-error"),G(typeof t.exp<"u","internal-error"),G(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ao(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof $n&&WR(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function WR({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ja(this.lastLoginAt),this.creationTime=ja(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mu(e){var p;const t=e.auth,n=await e.getIdToken(),i=await ao(e,Ou(t,{idToken:n}));G(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const r=(p=s.providerUserInfo)!=null&&p.length?gT(s.providerUserInfo):[],a=eI(e.providerData,r),l=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),h=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Kf(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,d)}async function tI(e){const t=Pe(e);await Mu(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function eI(e,t){return[...e.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function gT(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nI(e,t){const n=await dT(e,{},async()=>{const i=Vo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:r}=e.config,a=await mT(e,s,"/v1/token",`key=${r}`),l=await e._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:i};return e.emulatorConfig&&jr(e.emulatorConfig.host)&&(u.credentials="include"),fT.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function iI(e,t){return Fi(e,"POST","/v2/accounts:revokeToken",Hi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){G(t.idToken,"internal-error"),G(typeof t.idToken<"u","internal-error"),G(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):jy(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){G(t.length!==0,"internal-error");const n=jy(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(G(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await nI(t,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,a=new cr;return i&&(G(typeof i=="string","internal-error",{appName:t}),a.refreshToken=i),s&&(G(typeof s=="string","internal-error",{appName:t}),a.accessToken=s),r&&(G(typeof r=="number","internal-error",{appName:t}),a.expirationTime=r),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new cr,this.toJSON())}_performRefresh(){return kn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(e,t){G(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class We{constructor({uid:t,auth:n,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new JR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Kf(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await ao(this,this.stsTokenManager.getToken(this.auth,t));return G(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return ZR(this,t)}reload(){return tI(this)}_assign(t){this!==t&&(G(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new We({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await Mu(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(He(this.auth.app))return Promise.reject(jn(this.auth));const t=await this.getIdToken();return await ao(this,$R(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const i=n.displayName??void 0,s=n.email??void 0,r=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,h=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:p,emailVerified:m,isAnonymous:E,providerData:D,stsTokenManager:M}=n;G(p&&M,t,"internal-error");const V=cr.fromJSON(this.name,M);G(typeof p=="string",t,"internal-error"),ni(i,t.name),ni(s,t.name),G(typeof m=="boolean",t,"internal-error"),G(typeof E=="boolean",t,"internal-error"),ni(r,t.name),ni(a,t.name),ni(l,t.name),ni(u,t.name),ni(h,t.name),ni(d,t.name);const A=new We({uid:p,auth:t,email:s,emailVerified:m,displayName:i,isAnonymous:E,photoURL:a,phoneNumber:r,tenantId:l,stsTokenManager:V,createdAt:h,lastLoginAt:d});return D&&Array.isArray(D)&&(A.providerData=D.map(g=>({...g}))),u&&(A._redirectEventId=u),A}static async _fromIdTokenResponse(t,n,i=!1){const s=new cr;s.updateFromServerResponse(n);const r=new We({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await Mu(r),r}static async _fromGetAccountInfoResponse(t,n,i){const s=n.users[0];G(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?gT(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(r!=null&&r.length),l=new cr;l.updateFromIdToken(i);const u=new We({uid:s.localId,auth:t,stsTokenManager:l,isAnonymous:a}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new Kf(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(r!=null&&r.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy=new Map;function Pn(e){Yn(e instanceof Function,"Expected a class definition");let t=zy.get(e);return t?(Yn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,zy.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}pT.type="NONE";const By=pT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(e,t,n){return`firebase:${e}:${t}:${n}`}class hr{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=Fl(this.userKey,s.apiKey,r),this.fullPersistenceKey=Fl("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Ou(this.auth,{idToken:t}).catch(()=>{});return n?We._fromGetAccountInfoResponse(this.auth,n,t):null}return We._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new hr(Pn(By),t,i);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let r=s[0]||Pn(By);const a=Fl(i,t.config.apiKey,t.name);let l=null;for(const h of n)try{const d=await h._get(a);if(d){let p;if(typeof d=="string"){const m=await Ou(t,{idToken:d}).catch(()=>{});if(!m)break;p=await We._fromGetAccountInfoResponse(t,m,d)}else p=We._fromJSON(t,d);h!==r&&(l=p),r=h;break}}catch{}const u=s.filter(h=>h._shouldAllowMigration);return!r._shouldAllowMigration||!u.length?new hr(r,t,i):(r=u[0],l&&await r._set(a,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==r)try{await h._remove(a)}catch{}})),new hr(r,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ET(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(yT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ST(t))return"Blackberry";if(AT(t))return"Webos";if(_T(t))return"Safari";if((t.includes("chrome/")||vT(t))&&!t.includes("edge/"))return"Chrome";if(TT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function yT(e=de()){return/firefox\//i.test(e)}function _T(e=de()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function vT(e=de()){return/crios\//i.test(e)}function ET(e=de()){return/iemobile/i.test(e)}function TT(e=de()){return/android/i.test(e)}function ST(e=de()){return/blackberry/i.test(e)}function AT(e=de()){return/webos/i.test(e)}function _m(e=de()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function sI(e=de()){var t;return _m(e)&&!!((t=window.navigator)!=null&&t.standalone)}function rI(){return y2()&&document.documentMode===10}function bT(e=de()){return _m(e)||TT(e)||AT(e)||ST(e)||/windows phone/i.test(e)||ET(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(e,t=[]){let n;switch(e){case"Browser":n=qy(de());break;case"Worker":n=`${qy(de())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${zr}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=r=>new Promise((a,l)=>{try{const u=t(r);a(u)}catch(u){l(u)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oI(e,t={}){return Fi(e,"GET","/v2/passwordPolicy",Hi(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=6;class uI{constructor(t){var i;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??lI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=t.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),s&&(n.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<t.length;s++)i=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(t,n,i,s){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hy(this),this.idTokenSubscription=new Hy(this),this.beforeStateQueue=new aI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Pn(n)),this._initializationPromise=this.queue(async()=>{var i,s,r;if(!this._deleted&&(this.persistenceManager=await hr.create(this,t),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)==null?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Ou(this,{idToken:t}),i=await We._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var r;if(He(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(r=this.redirectUser)==null?void 0:r._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(t);(!a||a===l)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return G(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Mu(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=qR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(He(this.app))return Promise.reject(jn(this));const n=t?Pe(t):null;return n&&G(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&G(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return He(this.app)?Promise.reject(jn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return He(this.app)?Promise.reject(jn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pn(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await oI(this),n=new uI(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Mo("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await iI(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Pn(t)||this._popupRedirectResolver;G(n,this,"argument-error"),this.redirectPersistenceManager=await hr.create(this,[Pn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(G(l,this,"internal-error"),l.then(()=>{a||r(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,i,s);return()=>{a=!0,u()}}else{const u=t.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=wT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var n;if(He(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&jR(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function As(e){return Pe(e)}class Hy{constructor(t){this.auth=t,this.observer=null,this.addObserver=w2(n=>this.observer=n)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hI(e){gc=e}function RT(e){return gc.loadJS(e)}function fI(){return gc.recaptchaEnterpriseScript}function dI(){return gc.gapiScript}function mI(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class gI{constructor(){this.enterprise=new pI}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class pI{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const yI="recaptcha-enterprise",IT="NO_RECAPTCHA";class _I{constructor(t){this.type=yI,this.auth=As(t)}async verify(t="verify",n=!1){async function i(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(a,l)=>{XR(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const h=new KR(u);return r.tenantId==null?r._agentRecaptchaConfig=h:r._tenantRecaptchaConfigs[r.tenantId]=h,a(h.siteKey)}}).catch(u=>{l(u)})})}function s(r,a,l){const u=window.grecaptcha;Ly(u)?u.enterprise.ready(()=>{u.enterprise.execute(r,{action:t}).then(h=>{a(h)}).catch(()=>{a(IT)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new gI().execute("siteKey",{action:"verify"}):new Promise((r,a)=>{i(this.auth).then(l=>{if(!n&&Ly(window.grecaptcha))s(l,r,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=fI();u.length!==0&&(u+=l),RT(u).then(()=>{s(l,r,a)}).catch(h=>{a(h)})}}).catch(l=>{a(l)})})}}async function Fy(e,t,n,i=!1,s=!1){const r=new _I(e);let a;if(s)a=IT;else try{a=await r.verify(n)}catch{a=await r.verify(n,!0)}const l={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,h=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:h,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return i?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Xf(e,t,n,i,s){var r;if((r=e._getRecaptchaConfig())!=null&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Fy(e,t,n,n==="getOobCode");return i(e,a)}else return i(e,t).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Fy(e,t,n,n==="getOobCode");return i(e,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(e,t){const n=mm(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(ds(r,t??{}))return s;en(s,"already-initialized")}return n.initialize({options:t})}function EI(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Pn);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function TI(e,t,n){const i=As(e);G(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!1,r=xT(t),{host:a,port:l}=SI(t),u=l===null?"":`:${l}`,h={url:`${r}//${a}${u}/`},d=Object.freeze({host:a,port:l,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){G(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),G(ds(h,i.config.emulator)&&ds(d,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=h,i.emulatorConfig=d,i.settings.appVerificationDisabledForTesting=!0,jr(a)?(eT(`${r}//${a}${u}`),nT("Auth",!0)):AI()}function xT(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function SI(e){const t=xT(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:Gy(i.substr(r.length+1))}}else{const[r,a]=i.split(":");return{host:r,port:Gy(a)}}}function Gy(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function AI(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return kn("not implemented")}_getIdTokenResponse(t){return kn("not implemented")}_linkToIdToken(t,n){return kn("not implemented")}_getReauthenticationResolver(t){return kn("not implemented")}}async function bI(e,t){return Fi(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wI(e,t){return Po(e,"POST","/v1/accounts:signInWithPassword",Hi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RI(e,t){return Po(e,"POST","/v1/accounts:signInWithEmailLink",Hi(e,t))}async function II(e,t){return Po(e,"POST","/v1/accounts:signInWithEmailLink",Hi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends vm{constructor(t,n,i,s=null){super("password",i),this._email=t,this._password=n,this._tenantId=s}static _fromEmailAndPassword(t,n){return new oo(t,n,"password")}static _fromEmailAndCode(t,n,i=null){return new oo(t,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xf(t,n,"signInWithPassword",wI);case"emailLink":return RI(t,{email:this._email,oobCode:this._password});default:en(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xf(t,i,"signUpPassword",bI);case"emailLink":return II(t,{idToken:n,email:this._email,oobCode:this._password});default:en(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fr(e,t){return Po(e,"POST","/v1/accounts:signInWithIdp",Hi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI="http://localhost";class gs extends vm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new gs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):en("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s,...r}=n;if(!i||!s)return null;const a=new gs(i,s);return a.idToken=r.idToken||void 0,a.accessToken=r.accessToken||void 0,a.secret=r.secret,a.nonce=r.nonce,a.pendingToken=r.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return fr(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,fr(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,fr(t,n)}buildRequest(){const t={requestUri:xI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Vo(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function NI(e){const t=ya(_a(e)).link,n=t?ya(_a(t)).deep_link_id:null,i=ya(_a(e)).deep_link_id;return(i?ya(_a(i)).link:null)||i||n||t||e}class Em{constructor(t){const n=ya(_a(t)),i=n.apiKey??null,s=n.oobCode??null,r=CI(n.mode??null);G(i&&s&&r,"argument-error"),this.apiKey=i,this.operation=r,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=NI(t);try{return new Em(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(){this.providerId=Br.PROVIDER_ID}static credential(t,n){return oo._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const i=Em.parseLink(n);return G(i,"argument-error"),oo._fromEmailAndCode(t,i.code,i.tenantId)}}Br.PROVIDER_ID="password";Br.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Br.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo extends CT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends Uo{constructor(){super("facebook.com")}static credential(t){return gs._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ci.credentialFromTaggedObject(t)}static credentialFromError(t){return ci.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ci.credential(t.oauthAccessToken)}catch{return null}}}ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";ci.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends Uo{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return gs._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return hi.credentialFromTaggedObject(t)}static credentialFromError(t){return hi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return hi.credential(n,i)}catch{return null}}}hi.GOOGLE_SIGN_IN_METHOD="google.com";hi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends Uo{constructor(){super("github.com")}static credential(t){return gs._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return fi.credentialFromTaggedObject(t)}static credentialFromError(t){return fi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return fi.credential(t.oauthAccessToken)}catch{return null}}}fi.GITHUB_SIGN_IN_METHOD="github.com";fi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends Uo{constructor(){super("twitter.com")}static credential(t,n){return gs._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return di.credentialFromTaggedObject(t)}static credentialFromError(t){return di.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return di.credential(n,i)}catch{return null}}}di.TWITTER_SIGN_IN_METHOD="twitter.com";di.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI(e,t){return Po(e,"POST","/v1/accounts:signUp",Hi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,s=!1){const r=await We._fromIdTokenResponse(t,i,s),a=Yy(i);return new ps({user:r,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const s=Yy(i);return new ps({user:t,providerId:s,_tokenResponse:i,operationType:n})}}function Yy(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu extends $n{constructor(t,n,i,s){super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Vu.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,s){return new Vu(t,n,i,s)}}function NT(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?Vu._fromErrorAndOperation(e,r,t,i):r})}async function OI(e,t,n=!1){const i=await ao(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ps._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MI(e,t,n=!1){const{auth:i}=e;if(He(i.app))return Promise.reject(jn(i));const s="reauthenticate";try{const r=await ao(e,NT(i,s,t,e),n);G(r.idToken,i,"internal-error");const a=ym(r.idToken);G(a,i,"internal-error");const{sub:l}=a;return G(e.uid===l,i,"user-mismatch"),ps._forOperation(e,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&en(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DT(e,t,n=!1){if(He(e.app))return Promise.reject(jn(e));const i="signIn",s=await NT(e,i,t),r=await ps._fromIdTokenResponse(e,i,s);return n||await e._updateCurrentUser(r.user),r}async function VI(e,t){return DT(As(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OT(e){const t=As(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function kI(e,t,n){if(He(e.app))return Promise.reject(jn(e));const i=As(e),a=await Xf(i,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",DI).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&OT(e),u}),l=await ps._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function PI(e,t,n){return He(e.app)?Promise.reject(jn(e)):VI(Pe(e),Br.credential(t,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&OT(e),i})}function UI(e,t,n,i){return Pe(e).onIdTokenChanged(t,n,i)}function LI(e,t,n){return Pe(e).beforeAuthStateChanged(t,n)}function jI(e,t,n,i){return Pe(e).onAuthStateChanged(t,n,i)}function zI(e){return Pe(e).signOut()}const ku="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ku,"1"),this.storage.removeItem(ku),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=1e3,qI=10;class VT extends MT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&t(n,s,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const i=t.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},r=this.storage.getItem(i);rI()&&r!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,qI):s()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},BI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}VT.type="LOCAL";const HI=VT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT extends MT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}kT.type="SESSION";const PT=kT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const i=new pc(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:s,data:r}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const l=Array.from(a).map(async h=>h(n.origin,r)),u=await FI(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,a;return new Promise((l,u)=>{const h=Tm("",20);s.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:s,onMessage(p){const m=p;if(m.data.eventId===h)switch(m.data.status){case"ack":clearTimeout(d),r=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),l(m.data.response);break;default:clearTimeout(d),clearTimeout(r),u(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:h,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return window}function YI(e){dn().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(){return typeof dn().WorkerGlobalScope<"u"&&typeof dn().importScripts=="function"}async function QI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KI(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function XI(){return UT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="firebaseLocalStorageDb",$I=1,Pu="firebaseLocalStorage",jT="fbase_key";class Lo{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yc(e,t){return e.transaction([Pu],t?"readwrite":"readonly").objectStore(Pu)}function ZI(){const e=indexedDB.deleteDatabase(LT);return new Lo(e).toPromise()}function $f(){const e=indexedDB.open(LT,$I);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(Pu,{keyPath:jT})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(Pu)?t(i):(i.close(),await ZI(),t(await $f()))})})}async function Qy(e,t,n){const i=yc(e,!0).put({[jT]:t,value:n});return new Lo(i).toPromise()}async function WI(e,t){const n=yc(e,!1).get(t),i=await new Lo(n).toPromise();return i===void 0?null:i.value}function Ky(e,t){const n=yc(e,!0).delete(t);return new Lo(n).toPromise()}const JI=800,tx=3;class zT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $f(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>tx)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return UT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pc._getInstance(XI()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await QI(),!this.activeServiceWorker)return;this.sender=new GI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(i=t[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||KI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await $f();return await Qy(t,ku,"1"),await Ky(t,ku),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Qy(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>WI(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ky(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const r=yc(s,!1).getAll();return new Lo(r).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:s,value:r}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zT.type="LOCAL";const ex=zT;new ko(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(e,t){return t?Pn(t):(G(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm extends vm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return fr(t,this._buildIdpRequest())}_linkToIdToken(t,n){return fr(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return fr(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function ix(e){return DT(e.auth,new Sm(e),e.bypassAuthState)}function sx(e){const{auth:t,user:n}=e;return G(n,t,"internal-error"),MI(n,new Sm(e),e.bypassAuthState)}async function rx(e){const{auth:t,user:n}=e;return G(n,t,"internal-error"),OI(n,new Sm(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(t,n,i,s,r=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:a,type:l}=t;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(h){this.reject(h)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return ix;case"linkViaPopup":case"linkViaRedirect":return rx;case"reauthViaPopup":case"reauthViaRedirect":return sx;default:en(this.auth,"internal-error")}}resolve(t){Yn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Yn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax=new ko(2e3,1e4);class er extends BT{constructor(t,n,i,s,r){super(t,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,er.currentPopupAction&&er.currentPopupAction.cancel(),er.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return G(t,this.auth,"internal-error"),t}async onExecution(){Yn(this.filter.length===1,"Popup operations only handle one event");const t=Tm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(fn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,er.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,ax.get())};t()}}er.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox="pendingRedirect",Gl=new Map;class lx extends BT{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=Gl.get(this.auth._key());if(!t){try{const i=await ux(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}Gl.set(this.auth._key(),t)}return this.bypassAuthState||Gl.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ux(e,t){const n=fx(t),i=hx(e);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function cx(e,t){Gl.set(e._key(),t)}function hx(e){return Pn(e._redirectPersistence)}function fx(e){return Fl(ox,e.config.apiKey,e.name)}async function dx(e,t,n=!1){if(He(e.app))return Promise.reject(jn(e));const i=As(e),s=nx(i,t),a=await new lx(i,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx=10*60*1e3;class gx{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!px(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!qT(t)){const s=((i=t.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(fn(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=mx&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xy(t))}saveEventToCache(t){this.cachedEventUids.add(Xy(t)),this.lastProcessedEventTime=Date.now()}}function Xy(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function qT({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function px(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qT(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yx(e,t={}){return Fi(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vx=/^https?/;async function Ex(e){if(e.config.emulator)return;const{authorizedDomains:t}=await yx(e);for(const n of t)try{if(Tx(n))return}catch{}en(e,"unauthorized-domain")}function Tx(e){const t=Qf(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!vx.test(n))return!1;if(_x.test(e))return i===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=new ko(3e4,6e4);function $y(){const e=dn().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function Ax(e){return new Promise((t,n)=>{var s,r,a;function i(){$y(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{$y(),n(fn(e,"network-request-failed"))},timeout:Sx.get()})}if((r=(s=dn().gapi)==null?void 0:s.iframes)!=null&&r.Iframe)t(gapi.iframes.getContext());else if((a=dn().gapi)!=null&&a.load)i();else{const l=mI("iframefcb");return dn()[l]=()=>{gapi.load?i():n(fn(e,"network-request-failed"))},RT(`${dI()}?onload=${l}`).catch(u=>n(u))}}).catch(t=>{throw Yl=null,t})}let Yl=null;function bx(e){return Yl=Yl||Ax(e),Yl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx=new ko(5e3,15e3),Rx="__/auth/iframe",Ix="emulator/auth/iframe",xx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Nx(e){const t=e.config;G(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?pm(t,Ix):`https://${e.config.authDomain}/${Rx}`,i={apiKey:t.apiKey,appName:e.name,v:zr},s=Cx.get(e.config.apiHost);s&&(i.eid=s);const r=e._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${Vo(i).slice(1)}`}async function Dx(e){const t=await bx(e),n=dn().gapi;return G(n,e,"internal-error"),t.open({where:document.body,url:Nx(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xx,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const a=fn(e,"network-request-failed"),l=dn().setTimeout(()=>{r(a)},wx.get());function u(){dn().clearTimeout(l),s(i)}i.ping(u).then(u,()=>{r(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Mx=500,Vx=600,kx="_blank",Px="http://localhost";class Zy{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ux(e,t,n,i=Mx,s=Vx){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u={...Ox,width:i.toString(),height:s.toString(),top:r,left:a},h=de().toLowerCase();n&&(l=vT(h)?kx:n),yT(h)&&(t=t||Px,u.scrollbars="yes");const d=Object.entries(u).reduce((m,[E,D])=>`${m}${E}=${D},`,"");if(sI(h)&&l!=="_self")return Lx(t||"",l),new Zy(null);const p=window.open(t||"",l,d);G(p,e,"popup-blocked");try{p.focus()}catch{}return new Zy(p)}function Lx(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx="__/auth/handler",zx="emulator/auth/handler",Bx=encodeURIComponent("fac");async function Wy(e,t,n,i,s,r){G(e.config.authDomain,e,"auth-domain-config-required"),G(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:zr,eventId:s};if(t instanceof CT){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",b2(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,p]of Object.entries({}))a[d]=p}if(t instanceof Uo){const d=t.getScopes().filter(p=>p!=="");d.length>0&&(a.scopes=d.join(","))}e.tenantId&&(a.tid=e.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const u=await e._getAppCheckToken(),h=u?`#${Bx}=${encodeURIComponent(u)}`:"";return`${qx(e)}?${Vo(l).slice(1)}${h}`}function qx({config:e}){return e.emulator?pm(e,zx):`https://${e.authDomain}/${jx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh="webStorageSupport";class Hx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PT,this._completeRedirectFn=dx,this._overrideRedirectResult=cx}async _openPopup(t,n,i,s){var a;Yn((a=this.eventManagers[t._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const r=await Wy(t,n,i,Qf(),s);return Ux(t,r,Tm())}async _openRedirect(t,n,i,s){await this._originValidation(t);const r=await Wy(t,n,i,Qf(),s);return YI(r),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(Yn(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await Dx(t),i=new gx(t);return n.register("authEvent",s=>(G(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(zh,{type:zh},s=>{var a;const r=(a=s==null?void 0:s[0])==null?void 0:a[zh];r!==void 0&&n(!!r),en(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Ex(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return bT()||_T()||_m()}}const Fx=Hx;var Jy="@firebase/auth",t_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Qx(e){wr(new ms("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),r=t.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;G(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wT(e)},h=new cI(i,s,r,u);return EI(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),wr(new ms("auth-internal",t=>{const n=As(t.getProvider("auth").getImmediate());return(i=>new Gx(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ci(Jy,t_,Yx(e)),Ci(Jy,t_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=5*60,Xx=tT("authIdTokenMaxAge")||Kx;let e_=null;const $x=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>Xx)return;const s=n==null?void 0:n.token;e_!==s&&(e_=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Zx(e=aT()){const t=mm(e,"auth");if(t.isInitialized())return t.getImmediate();const n=vI(e,{popupRedirectResolver:Fx,persistence:[ex,HI,PT]}),i=tT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const a=$x(r.toString());LI(n,a,()=>a(n.currentUser)),UI(n,l=>a(l))}}const s=WE("auth");return s&&TI(n,`http://${s}`),n}function Wx(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}hI({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=s=>{const r=fn("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",Wx().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Qx("Browser");var n_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ni,HT;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(S,v){function b(){}b.prototype=v.prototype,S.D=v.prototype,S.prototype=new b,S.prototype.constructor=S,S.C=function(w,x,C){for(var I=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)I[Xe-2]=arguments[Xe];return v.prototype[x].apply(w,I)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,v,b){b||(b=0);var w=Array(16);if(typeof v=="string")for(var x=0;16>x;++x)w[x]=v.charCodeAt(b++)|v.charCodeAt(b++)<<8|v.charCodeAt(b++)<<16|v.charCodeAt(b++)<<24;else for(x=0;16>x;++x)w[x]=v[b++]|v[b++]<<8|v[b++]<<16|v[b++]<<24;v=S.g[0],b=S.g[1],x=S.g[2];var C=S.g[3],I=v+(C^b&(x^C))+w[0]+3614090360&4294967295;v=b+(I<<7&4294967295|I>>>25),I=C+(x^v&(b^x))+w[1]+3905402710&4294967295,C=v+(I<<12&4294967295|I>>>20),I=x+(b^C&(v^b))+w[2]+606105819&4294967295,x=C+(I<<17&4294967295|I>>>15),I=b+(v^x&(C^v))+w[3]+3250441966&4294967295,b=x+(I<<22&4294967295|I>>>10),I=v+(C^b&(x^C))+w[4]+4118548399&4294967295,v=b+(I<<7&4294967295|I>>>25),I=C+(x^v&(b^x))+w[5]+1200080426&4294967295,C=v+(I<<12&4294967295|I>>>20),I=x+(b^C&(v^b))+w[6]+2821735955&4294967295,x=C+(I<<17&4294967295|I>>>15),I=b+(v^x&(C^v))+w[7]+4249261313&4294967295,b=x+(I<<22&4294967295|I>>>10),I=v+(C^b&(x^C))+w[8]+1770035416&4294967295,v=b+(I<<7&4294967295|I>>>25),I=C+(x^v&(b^x))+w[9]+2336552879&4294967295,C=v+(I<<12&4294967295|I>>>20),I=x+(b^C&(v^b))+w[10]+4294925233&4294967295,x=C+(I<<17&4294967295|I>>>15),I=b+(v^x&(C^v))+w[11]+2304563134&4294967295,b=x+(I<<22&4294967295|I>>>10),I=v+(C^b&(x^C))+w[12]+1804603682&4294967295,v=b+(I<<7&4294967295|I>>>25),I=C+(x^v&(b^x))+w[13]+4254626195&4294967295,C=v+(I<<12&4294967295|I>>>20),I=x+(b^C&(v^b))+w[14]+2792965006&4294967295,x=C+(I<<17&4294967295|I>>>15),I=b+(v^x&(C^v))+w[15]+1236535329&4294967295,b=x+(I<<22&4294967295|I>>>10),I=v+(x^C&(b^x))+w[1]+4129170786&4294967295,v=b+(I<<5&4294967295|I>>>27),I=C+(b^x&(v^b))+w[6]+3225465664&4294967295,C=v+(I<<9&4294967295|I>>>23),I=x+(v^b&(C^v))+w[11]+643717713&4294967295,x=C+(I<<14&4294967295|I>>>18),I=b+(C^v&(x^C))+w[0]+3921069994&4294967295,b=x+(I<<20&4294967295|I>>>12),I=v+(x^C&(b^x))+w[5]+3593408605&4294967295,v=b+(I<<5&4294967295|I>>>27),I=C+(b^x&(v^b))+w[10]+38016083&4294967295,C=v+(I<<9&4294967295|I>>>23),I=x+(v^b&(C^v))+w[15]+3634488961&4294967295,x=C+(I<<14&4294967295|I>>>18),I=b+(C^v&(x^C))+w[4]+3889429448&4294967295,b=x+(I<<20&4294967295|I>>>12),I=v+(x^C&(b^x))+w[9]+568446438&4294967295,v=b+(I<<5&4294967295|I>>>27),I=C+(b^x&(v^b))+w[14]+3275163606&4294967295,C=v+(I<<9&4294967295|I>>>23),I=x+(v^b&(C^v))+w[3]+4107603335&4294967295,x=C+(I<<14&4294967295|I>>>18),I=b+(C^v&(x^C))+w[8]+1163531501&4294967295,b=x+(I<<20&4294967295|I>>>12),I=v+(x^C&(b^x))+w[13]+2850285829&4294967295,v=b+(I<<5&4294967295|I>>>27),I=C+(b^x&(v^b))+w[2]+4243563512&4294967295,C=v+(I<<9&4294967295|I>>>23),I=x+(v^b&(C^v))+w[7]+1735328473&4294967295,x=C+(I<<14&4294967295|I>>>18),I=b+(C^v&(x^C))+w[12]+2368359562&4294967295,b=x+(I<<20&4294967295|I>>>12),I=v+(b^x^C)+w[5]+4294588738&4294967295,v=b+(I<<4&4294967295|I>>>28),I=C+(v^b^x)+w[8]+2272392833&4294967295,C=v+(I<<11&4294967295|I>>>21),I=x+(C^v^b)+w[11]+1839030562&4294967295,x=C+(I<<16&4294967295|I>>>16),I=b+(x^C^v)+w[14]+4259657740&4294967295,b=x+(I<<23&4294967295|I>>>9),I=v+(b^x^C)+w[1]+2763975236&4294967295,v=b+(I<<4&4294967295|I>>>28),I=C+(v^b^x)+w[4]+1272893353&4294967295,C=v+(I<<11&4294967295|I>>>21),I=x+(C^v^b)+w[7]+4139469664&4294967295,x=C+(I<<16&4294967295|I>>>16),I=b+(x^C^v)+w[10]+3200236656&4294967295,b=x+(I<<23&4294967295|I>>>9),I=v+(b^x^C)+w[13]+681279174&4294967295,v=b+(I<<4&4294967295|I>>>28),I=C+(v^b^x)+w[0]+3936430074&4294967295,C=v+(I<<11&4294967295|I>>>21),I=x+(C^v^b)+w[3]+3572445317&4294967295,x=C+(I<<16&4294967295|I>>>16),I=b+(x^C^v)+w[6]+76029189&4294967295,b=x+(I<<23&4294967295|I>>>9),I=v+(b^x^C)+w[9]+3654602809&4294967295,v=b+(I<<4&4294967295|I>>>28),I=C+(v^b^x)+w[12]+3873151461&4294967295,C=v+(I<<11&4294967295|I>>>21),I=x+(C^v^b)+w[15]+530742520&4294967295,x=C+(I<<16&4294967295|I>>>16),I=b+(x^C^v)+w[2]+3299628645&4294967295,b=x+(I<<23&4294967295|I>>>9),I=v+(x^(b|~C))+w[0]+4096336452&4294967295,v=b+(I<<6&4294967295|I>>>26),I=C+(b^(v|~x))+w[7]+1126891415&4294967295,C=v+(I<<10&4294967295|I>>>22),I=x+(v^(C|~b))+w[14]+2878612391&4294967295,x=C+(I<<15&4294967295|I>>>17),I=b+(C^(x|~v))+w[5]+4237533241&4294967295,b=x+(I<<21&4294967295|I>>>11),I=v+(x^(b|~C))+w[12]+1700485571&4294967295,v=b+(I<<6&4294967295|I>>>26),I=C+(b^(v|~x))+w[3]+2399980690&4294967295,C=v+(I<<10&4294967295|I>>>22),I=x+(v^(C|~b))+w[10]+4293915773&4294967295,x=C+(I<<15&4294967295|I>>>17),I=b+(C^(x|~v))+w[1]+2240044497&4294967295,b=x+(I<<21&4294967295|I>>>11),I=v+(x^(b|~C))+w[8]+1873313359&4294967295,v=b+(I<<6&4294967295|I>>>26),I=C+(b^(v|~x))+w[15]+4264355552&4294967295,C=v+(I<<10&4294967295|I>>>22),I=x+(v^(C|~b))+w[6]+2734768916&4294967295,x=C+(I<<15&4294967295|I>>>17),I=b+(C^(x|~v))+w[13]+1309151649&4294967295,b=x+(I<<21&4294967295|I>>>11),I=v+(x^(b|~C))+w[4]+4149444226&4294967295,v=b+(I<<6&4294967295|I>>>26),I=C+(b^(v|~x))+w[11]+3174756917&4294967295,C=v+(I<<10&4294967295|I>>>22),I=x+(v^(C|~b))+w[2]+718787259&4294967295,x=C+(I<<15&4294967295|I>>>17),I=b+(C^(x|~v))+w[9]+3951481745&4294967295,S.g[0]=S.g[0]+v&4294967295,S.g[1]=S.g[1]+(x+(I<<21&4294967295|I>>>11))&4294967295,S.g[2]=S.g[2]+x&4294967295,S.g[3]=S.g[3]+C&4294967295}i.prototype.u=function(S,v){v===void 0&&(v=S.length);for(var b=v-this.blockSize,w=this.B,x=this.h,C=0;C<v;){if(x==0)for(;C<=b;)s(this,S,C),C+=this.blockSize;if(typeof S=="string"){for(;C<v;)if(w[x++]=S.charCodeAt(C++),x==this.blockSize){s(this,w),x=0;break}}else for(;C<v;)if(w[x++]=S[C++],x==this.blockSize){s(this,w),x=0;break}}this.h=x,this.o+=v},i.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var v=1;v<S.length-8;++v)S[v]=0;var b=8*this.o;for(v=S.length-8;v<S.length;++v)S[v]=b&255,b/=256;for(this.u(S),S=Array(16),v=b=0;4>v;++v)for(var w=0;32>w;w+=8)S[b++]=this.g[v]>>>w&255;return S};function r(S,v){var b=l;return Object.prototype.hasOwnProperty.call(b,S)?b[S]:b[S]=v(S)}function a(S,v){this.h=v;for(var b=[],w=!0,x=S.length-1;0<=x;x--){var C=S[x]|0;w&&C==v||(b[x]=C,w=!1)}this.g=b}var l={};function u(S){return-128<=S&&128>S?r(S,function(v){return new a([v|0],0>v?-1:0)}):new a([S|0],0>S?-1:0)}function h(S){if(isNaN(S)||!isFinite(S))return p;if(0>S)return V(h(-S));for(var v=[],b=1,w=0;S>=b;w++)v[w]=S/b|0,b*=4294967296;return new a(v,0)}function d(S,v){if(S.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(S.charAt(0)=="-")return V(d(S.substring(1),v));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=h(Math.pow(v,8)),w=p,x=0;x<S.length;x+=8){var C=Math.min(8,S.length-x),I=parseInt(S.substring(x,x+C),v);8>C?(C=h(Math.pow(v,C)),w=w.j(C).add(h(I))):(w=w.j(b),w=w.add(h(I)))}return w}var p=u(0),m=u(1),E=u(16777216);e=a.prototype,e.m=function(){if(M(this))return-V(this).m();for(var S=0,v=1,b=0;b<this.g.length;b++){var w=this.i(b);S+=(0<=w?w:4294967296+w)*v,v*=4294967296}return S},e.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(D(this))return"0";if(M(this))return"-"+V(this).toString(S);for(var v=h(Math.pow(S,6)),b=this,w="";;){var x=R(b,v).g;b=A(b,x.j(v));var C=((0<b.g.length?b.g[0]:b.h)>>>0).toString(S);if(b=x,D(b))return C+w;for(;6>C.length;)C="0"+C;w=C+w}},e.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function D(S){if(S.h!=0)return!1;for(var v=0;v<S.g.length;v++)if(S.g[v]!=0)return!1;return!0}function M(S){return S.h==-1}e.l=function(S){return S=A(this,S),M(S)?-1:D(S)?0:1};function V(S){for(var v=S.g.length,b=[],w=0;w<v;w++)b[w]=~S.g[w];return new a(b,~S.h).add(m)}e.abs=function(){return M(this)?V(this):this},e.add=function(S){for(var v=Math.max(this.g.length,S.g.length),b=[],w=0,x=0;x<=v;x++){var C=w+(this.i(x)&65535)+(S.i(x)&65535),I=(C>>>16)+(this.i(x)>>>16)+(S.i(x)>>>16);w=I>>>16,C&=65535,I&=65535,b[x]=I<<16|C}return new a(b,b[b.length-1]&-2147483648?-1:0)};function A(S,v){return S.add(V(v))}e.j=function(S){if(D(this)||D(S))return p;if(M(this))return M(S)?V(this).j(V(S)):V(V(this).j(S));if(M(S))return V(this.j(V(S)));if(0>this.l(E)&&0>S.l(E))return h(this.m()*S.m());for(var v=this.g.length+S.g.length,b=[],w=0;w<2*v;w++)b[w]=0;for(w=0;w<this.g.length;w++)for(var x=0;x<S.g.length;x++){var C=this.i(w)>>>16,I=this.i(w)&65535,Xe=S.i(x)>>>16,Sn=S.i(x)&65535;b[2*w+2*x]+=I*Sn,g(b,2*w+2*x),b[2*w+2*x+1]+=C*Sn,g(b,2*w+2*x+1),b[2*w+2*x+1]+=I*Xe,g(b,2*w+2*x+1),b[2*w+2*x+2]+=C*Xe,g(b,2*w+2*x+2)}for(w=0;w<v;w++)b[w]=b[2*w+1]<<16|b[2*w];for(w=v;w<2*v;w++)b[w]=0;return new a(b,0)};function g(S,v){for(;(S[v]&65535)!=S[v];)S[v+1]+=S[v]>>>16,S[v]&=65535,v++}function T(S,v){this.g=S,this.h=v}function R(S,v){if(D(v))throw Error("division by zero");if(D(S))return new T(p,p);if(M(S))return v=R(V(S),v),new T(V(v.g),V(v.h));if(M(v))return v=R(S,V(v)),new T(V(v.g),v.h);if(30<S.g.length){if(M(S)||M(v))throw Error("slowDivide_ only works with positive integers.");for(var b=m,w=v;0>=w.l(S);)b=k(b),w=k(w);var x=j(b,1),C=j(w,1);for(w=j(w,2),b=j(b,2);!D(w);){var I=C.add(w);0>=I.l(S)&&(x=x.add(b),C=I),w=j(w,1),b=j(b,1)}return v=A(S,x.j(v)),new T(x,v)}for(x=p;0<=S.l(v);){for(b=Math.max(1,Math.floor(S.m()/v.m())),w=Math.ceil(Math.log(b)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),C=h(b),I=C.j(v);M(I)||0<I.l(S);)b-=w,C=h(b),I=C.j(v);D(C)&&(C=m),x=x.add(C),S=A(S,I)}return new T(x,S)}e.A=function(S){return R(this,S).h},e.and=function(S){for(var v=Math.max(this.g.length,S.g.length),b=[],w=0;w<v;w++)b[w]=this.i(w)&S.i(w);return new a(b,this.h&S.h)},e.or=function(S){for(var v=Math.max(this.g.length,S.g.length),b=[],w=0;w<v;w++)b[w]=this.i(w)|S.i(w);return new a(b,this.h|S.h)},e.xor=function(S){for(var v=Math.max(this.g.length,S.g.length),b=[],w=0;w<v;w++)b[w]=this.i(w)^S.i(w);return new a(b,this.h^S.h)};function k(S){for(var v=S.g.length+1,b=[],w=0;w<v;w++)b[w]=S.i(w)<<1|S.i(w-1)>>>31;return new a(b,S.h)}function j(S,v){var b=v>>5;v%=32;for(var w=S.g.length-b,x=[],C=0;C<w;C++)x[C]=0<v?S.i(C+b)>>>v|S.i(C+b+1)<<32-v:S.i(C+b);return new a(x,S.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,HT=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=d,Ni=a}).apply(typeof n_<"u"?n_:typeof self<"u"?self:typeof window<"u"?window:{});var wl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var FT,va,GT,Ql,Zf,YT,QT,KT;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,c,f){return o==Array.prototype||o==Object.prototype||(o[c]=f.value),o};function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof wl=="object"&&wl];for(var c=0;c<o.length;++c){var f=o[c];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=n(this);function s(o,c){if(c)t:{var f=i;o=o.split(".");for(var _=0;_<o.length-1;_++){var N=o[_];if(!(N in f))break t;f=f[N]}o=o[o.length-1],_=f[o],c=c(_),c!=_&&c!=null&&t(f,o,{configurable:!0,writable:!0,value:c})}}function r(o,c){o instanceof String&&(o+="");var f=0,_=!1,N={next:function(){if(!_&&f<o.length){var O=f++;return{value:c(O,o[O]),done:!1}}return _=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}s("Array.prototype.values",function(o){return o||function(){return r(this,function(c,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(o){var c=typeof o;return c=c!="object"?c:o?Array.isArray(o)?"array":c:"null",c=="array"||c=="object"&&typeof o.length=="number"}function h(o){var c=typeof o;return c=="object"&&o!=null||c=="function"}function d(o,c,f){return o.call.apply(o.bind,arguments)}function p(o,c,f){if(!o)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,_),o.apply(c,N)}}return function(){return o.apply(c,arguments)}}function m(o,c,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,m.apply(null,arguments)}function E(o,c){var f=Array.prototype.slice.call(arguments,1);return function(){var _=f.slice();return _.push.apply(_,arguments),o.apply(this,_)}}function D(o,c){function f(){}f.prototype=c.prototype,o.aa=c.prototype,o.prototype=new f,o.prototype.constructor=o,o.Qb=function(_,N,O){for(var z=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)z[pt-2]=arguments[pt];return c.prototype[N].apply(_,z)}}function M(o){const c=o.length;if(0<c){const f=Array(c);for(let _=0;_<c;_++)f[_]=o[_];return f}return[]}function V(o,c){for(let f=1;f<arguments.length;f++){const _=arguments[f];if(u(_)){const N=o.length||0,O=_.length||0;o.length=N+O;for(let z=0;z<O;z++)o[N+z]=_[z]}else o.push(_)}}class A{constructor(c,f){this.i=c,this.j=f,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function g(o){return/^[\s\xa0]*$/.test(o)}function T(){var o=l.navigator;return o&&(o=o.userAgent)?o:""}function R(o){return R[" "](o),o}R[" "]=function(){};var k=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function j(o,c,f){for(const _ in o)c.call(f,o[_],_,o)}function S(o,c){for(const f in o)c.call(void 0,o[f],f,o)}function v(o){const c={};for(const f in o)c[f]=o[f];return c}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(o,c){let f,_;for(let N=1;N<arguments.length;N++){_=arguments[N];for(f in _)o[f]=_[f];for(let O=0;O<b.length;O++)f=b[O],Object.prototype.hasOwnProperty.call(_,f)&&(o[f]=_[f])}}function x(o){var c=1;o=o.split(":");const f=[];for(;0<c&&o.length;)f.push(o.shift()),c--;return o.length&&f.push(o.join(":")),f}function C(o){l.setTimeout(()=>{throw o},0)}function I(){var o=vt;let c=null;return o.g&&(c=o.g,o.g=o.g.next,o.g||(o.h=null),c.next=null),c}class Xe{constructor(){this.h=this.g=null}add(c,f){const _=Sn.get();_.set(c,f),this.h?this.h.next=_:this.g=_,this.h=_}}var Sn=new A(()=>new B,o=>o.reset());class B{constructor(){this.next=this.g=this.h=null}set(c,f){this.h=c,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,X=!1,vt=new Xe,Ot=()=>{const o=l.Promise.resolve(void 0);Z=()=>{o.then(xs)}};var xs=()=>{for(var o;o=I();){try{o.h.call(o.g)}catch(f){C(f)}var c=Sn;c.j(o),100>c.h&&(c.h++,o.next=c.g,c.g=o)}X=!1};function we(){this.s=this.s,this.C=this.C}we.prototype.s=!1,we.prototype.ma=function(){this.s||(this.s=!0,this.N())},we.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Pt(o,c){this.type=o,this.g=this.target=c,this.defaultPrevented=!1}Pt.prototype.h=function(){this.defaultPrevented=!0};var An=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,c=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const f=()=>{};l.addEventListener("test",f,c),l.removeEventListener("test",f,c)}catch{}return o}();function sn(o,c){if(Pt.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var f=this.type=o.type,_=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=c,c=o.relatedTarget){if(k){t:{try{R(c.nodeName);var N=!0;break t}catch{}N=!1}N||(c=null)}}else f=="mouseover"?c=o.fromElement:f=="mouseout"&&(c=o.toElement);this.relatedTarget=c,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:AS[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&sn.aa.h.call(this)}}D(sn,Pt);var AS={2:"touch",3:"pen",4:"mouse"};sn.prototype.h=function(){sn.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Fo="closure_listenable_"+(1e6*Math.random()|0),bS=0;function wS(o,c,f,_,N){this.listener=o,this.proxy=null,this.src=c,this.type=f,this.capture=!!_,this.ha=N,this.key=++bS,this.da=this.fa=!1}function Go(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Yo(o){this.src=o,this.g={},this.h=0}Yo.prototype.add=function(o,c,f,_,N){var O=o.toString();o=this.g[O],o||(o=this.g[O]=[],this.h++);var z=Dc(o,c,_,N);return-1<z?(c=o[z],f||(c.fa=!1)):(c=new wS(c,this.src,O,!!_,N),c.fa=f,o.push(c)),c};function Nc(o,c){var f=c.type;if(f in o.g){var _=o.g[f],N=Array.prototype.indexOf.call(_,c,void 0),O;(O=0<=N)&&Array.prototype.splice.call(_,N,1),O&&(Go(c),o.g[f].length==0&&(delete o.g[f],o.h--))}}function Dc(o,c,f,_){for(var N=0;N<o.length;++N){var O=o[N];if(!O.da&&O.listener==c&&O.capture==!!f&&O.ha==_)return N}return-1}var Oc="closure_lm_"+(1e6*Math.random()|0),Mc={};function ng(o,c,f,_,N){if(Array.isArray(c)){for(var O=0;O<c.length;O++)ng(o,c[O],f,_,N);return null}return f=rg(f),o&&o[Fo]?o.K(c,f,h(_)?!!_.capture:!1,N):RS(o,c,f,!1,_,N)}function RS(o,c,f,_,N,O){if(!c)throw Error("Invalid event type");var z=h(N)?!!N.capture:!!N,pt=kc(o);if(pt||(o[Oc]=pt=new Yo(o)),f=pt.add(c,f,_,z,O),f.proxy)return f;if(_=IS(),f.proxy=_,_.src=o,_.listener=f,o.addEventListener)An||(N=z),N===void 0&&(N=!1),o.addEventListener(c.toString(),_,N);else if(o.attachEvent)o.attachEvent(sg(c.toString()),_);else if(o.addListener&&o.removeListener)o.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return f}function IS(){function o(f){return c.call(o.src,o.listener,f)}const c=xS;return o}function ig(o,c,f,_,N){if(Array.isArray(c))for(var O=0;O<c.length;O++)ig(o,c[O],f,_,N);else _=h(_)?!!_.capture:!!_,f=rg(f),o&&o[Fo]?(o=o.i,c=String(c).toString(),c in o.g&&(O=o.g[c],f=Dc(O,f,_,N),-1<f&&(Go(O[f]),Array.prototype.splice.call(O,f,1),O.length==0&&(delete o.g[c],o.h--)))):o&&(o=kc(o))&&(c=o.g[c.toString()],o=-1,c&&(o=Dc(c,f,_,N)),(f=-1<o?c[o]:null)&&Vc(f))}function Vc(o){if(typeof o!="number"&&o&&!o.da){var c=o.src;if(c&&c[Fo])Nc(c.i,o);else{var f=o.type,_=o.proxy;c.removeEventListener?c.removeEventListener(f,_,o.capture):c.detachEvent?c.detachEvent(sg(f),_):c.addListener&&c.removeListener&&c.removeListener(_),(f=kc(c))?(Nc(f,o),f.h==0&&(f.src=null,c[Oc]=null)):Go(o)}}}function sg(o){return o in Mc?Mc[o]:Mc[o]="on"+o}function xS(o,c){if(o.da)o=!0;else{c=new sn(c,this);var f=o.listener,_=o.ha||o.src;o.fa&&Vc(o),o=f.call(_,c)}return o}function kc(o){return o=o[Oc],o instanceof Yo?o:null}var Pc="__closure_events_fn_"+(1e9*Math.random()>>>0);function rg(o){return typeof o=="function"?o:(o[Pc]||(o[Pc]=function(c){return o.handleEvent(c)}),o[Pc])}function re(){we.call(this),this.i=new Yo(this),this.M=this,this.F=null}D(re,we),re.prototype[Fo]=!0,re.prototype.removeEventListener=function(o,c,f,_){ig(this,o,c,f,_)};function me(o,c){var f,_=o.F;if(_)for(f=[];_;_=_.F)f.push(_);if(o=o.M,_=c.type||c,typeof c=="string")c=new Pt(c,o);else if(c instanceof Pt)c.target=c.target||o;else{var N=c;c=new Pt(_,o),w(c,N)}if(N=!0,f)for(var O=f.length-1;0<=O;O--){var z=c.g=f[O];N=Qo(z,_,!0,c)&&N}if(z=c.g=o,N=Qo(z,_,!0,c)&&N,N=Qo(z,_,!1,c)&&N,f)for(O=0;O<f.length;O++)z=c.g=f[O],N=Qo(z,_,!1,c)&&N}re.prototype.N=function(){if(re.aa.N.call(this),this.i){var o=this.i,c;for(c in o.g){for(var f=o.g[c],_=0;_<f.length;_++)Go(f[_]);delete o.g[c],o.h--}}this.F=null},re.prototype.K=function(o,c,f,_){return this.i.add(String(o),c,!1,f,_)},re.prototype.L=function(o,c,f,_){return this.i.add(String(o),c,!0,f,_)};function Qo(o,c,f,_){if(c=o.i.g[String(c)],!c)return!0;c=c.concat();for(var N=!0,O=0;O<c.length;++O){var z=c[O];if(z&&!z.da&&z.capture==f){var pt=z.listener,Wt=z.ha||z.src;z.fa&&Nc(o.i,z),N=pt.call(Wt,_)!==!1&&N}}return N&&!_.defaultPrevented}function ag(o,c,f){if(typeof o=="function")f&&(o=m(o,f));else if(o&&typeof o.handleEvent=="function")o=m(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:l.setTimeout(o,c||0)}function og(o){o.g=ag(()=>{o.g=null,o.i&&(o.i=!1,og(o))},o.l);const c=o.h;o.h=null,o.m.apply(null,c)}class CS extends we{constructor(c,f){super(),this.m=c,this.l=f,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:og(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yr(o){we.call(this),this.h=o,this.g={}}D(Yr,we);var lg=[];function ug(o){j(o.g,function(c,f){this.g.hasOwnProperty(f)&&Vc(c)},o),o.g={}}Yr.prototype.N=function(){Yr.aa.N.call(this),ug(this)},Yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Uc=l.JSON.stringify,NS=l.JSON.parse,DS=class{stringify(o){return l.JSON.stringify(o,void 0)}parse(o){return l.JSON.parse(o,void 0)}};function Lc(){}Lc.prototype.h=null;function cg(o){return o.h||(o.h=o.i())}function hg(){}var Qr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jc(){Pt.call(this,"d")}D(jc,Pt);function zc(){Pt.call(this,"c")}D(zc,Pt);var Gi={},fg=null;function Ko(){return fg=fg||new re}Gi.La="serverreachability";function dg(o){Pt.call(this,Gi.La,o)}D(dg,Pt);function Kr(o){const c=Ko();me(c,new dg(c))}Gi.STAT_EVENT="statevent";function mg(o,c){Pt.call(this,Gi.STAT_EVENT,o),this.stat=c}D(mg,Pt);function ge(o){const c=Ko();me(c,new mg(c,o))}Gi.Ma="timingevent";function gg(o,c){Pt.call(this,Gi.Ma,o),this.size=c}D(gg,Pt);function Xr(o,c){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){o()},c)}function $r(){this.g=!0}$r.prototype.xa=function(){this.g=!1};function OS(o,c,f,_,N,O){o.info(function(){if(o.g)if(O)for(var z="",pt=O.split("&"),Wt=0;Wt<pt.length;Wt++){var lt=pt[Wt].split("=");if(1<lt.length){var ae=lt[0];lt=lt[1];var oe=ae.split("_");z=2<=oe.length&&oe[1]=="type"?z+(ae+"="+lt+"&"):z+(ae+"=redacted&")}}else z=null;else z=O;return"XMLHTTP REQ ("+_+") [attempt "+N+"]: "+c+`
`+f+`
`+z})}function MS(o,c,f,_,N,O,z){o.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+N+"]: "+c+`
`+f+`
`+O+" "+z})}function Cs(o,c,f,_){o.info(function(){return"XMLHTTP TEXT ("+c+"): "+kS(o,f)+(_?" "+_:"")})}function VS(o,c){o.info(function(){return"TIMEOUT: "+c})}$r.prototype.info=function(){};function kS(o,c){if(!o.g)return c;if(!c)return null;try{var f=JSON.parse(c);if(f){for(o=0;o<f.length;o++)if(Array.isArray(f[o])){var _=f[o];if(!(2>_.length)){var N=_[1];if(Array.isArray(N)&&!(1>N.length)){var O=N[0];if(O!="noop"&&O!="stop"&&O!="close")for(var z=1;z<N.length;z++)N[z]=""}}}}return Uc(f)}catch{return c}}var Xo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bc;function $o(){}D($o,Lc),$o.prototype.g=function(){return new XMLHttpRequest},$o.prototype.i=function(){return{}},Bc=new $o;function Zn(o,c,f,_){this.j=o,this.i=c,this.l=f,this.R=_||1,this.U=new Yr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yg}function yg(){this.i=null,this.g="",this.h=!1}var _g={},qc={};function Hc(o,c,f){o.L=1,o.v=tl(bn(c)),o.m=f,o.P=!0,vg(o,null)}function vg(o,c){o.F=Date.now(),Zo(o),o.A=bn(o.v);var f=o.A,_=o.R;Array.isArray(_)||(_=[String(_)]),Mg(f.i,"t",_),o.C=0,f=o.j.J,o.h=new yg,o.g=Zg(o.j,f?c:null,!o.m),0<o.O&&(o.M=new CS(m(o.Y,o,o.g),o.O)),c=o.U,f=o.g,_=o.ca;var N="readystatechange";Array.isArray(N)||(N&&(lg[0]=N.toString()),N=lg);for(var O=0;O<N.length;O++){var z=ng(f,N[O],_||c.handleEvent,!1,c.h||c);if(!z)break;c.g[z.key]=z}c=o.H?v(o.H):{},o.m?(o.u||(o.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,c)):(o.u="GET",o.g.ea(o.A,o.u,null,c)),Kr(),OS(o.i,o.u,o.A,o.l,o.R,o.m)}Zn.prototype.ca=function(o){o=o.target;const c=this.M;c&&wn(o)==3?c.j():this.Y(o)},Zn.prototype.Y=function(o){try{if(o==this.g)t:{const oe=wn(this.g);var c=this.g.Ba();const Os=this.g.Z();if(!(3>oe)&&(oe!=3||this.g&&(this.h.h||this.g.oa()||zg(this.g)))){this.J||oe!=4||c==7||(c==8||0>=Os?Kr(3):Kr(2)),Fc(this);var f=this.g.Z();this.X=f;e:if(Eg(this)){var _=zg(this.g);o="";var N=_.length,O=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yi(this),Zr(this);var z="";break e}this.h.i=new l.TextDecoder}for(c=0;c<N;c++)this.h.h=!0,o+=this.h.i.decode(_[c],{stream:!(O&&c==N-1)});_.length=0,this.h.g+=o,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=f==200,MS(this.i,this.u,this.A,this.l,this.R,oe,f),this.o){if(this.T&&!this.K){e:{if(this.g){var pt,Wt=this.g;if((pt=Wt.g?Wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!g(pt)){var lt=pt;break e}}lt=null}if(f=lt)Cs(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gc(this,f);else{this.o=!1,this.s=3,ge(12),Yi(this),Zr(this);break t}}if(this.P){f=!0;let $e;for(;!this.J&&this.C<z.length;)if($e=PS(this,z),$e==qc){oe==4&&(this.s=4,ge(14),f=!1),Cs(this.i,this.l,null,"[Incomplete Response]");break}else if($e==_g){this.s=4,ge(15),Cs(this.i,this.l,z,"[Invalid Chunk]"),f=!1;break}else Cs(this.i,this.l,$e,null),Gc(this,$e);if(Eg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),oe!=4||z.length!=0||this.h.h||(this.s=1,ge(16),f=!1),this.o=this.o&&f,!f)Cs(this.i,this.l,z,"[Invalid Chunked Response]"),Yi(this),Zr(this);else if(0<z.length&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.ba&&!ae.M&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),Zc(ae),ae.M=!0,ge(11))}}else Cs(this.i,this.l,z,null),Gc(this,z);oe==4&&Yi(this),this.o&&!this.J&&(oe==4?Qg(this.j,this):(this.o=!1,Zo(this)))}else JS(this.g),f==400&&0<z.indexOf("Unknown SID")?(this.s=3,ge(12)):(this.s=0,ge(13)),Yi(this),Zr(this)}}}catch{}finally{}};function Eg(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function PS(o,c){var f=o.C,_=c.indexOf(`
`,f);return _==-1?qc:(f=Number(c.substring(f,_)),isNaN(f)?_g:(_+=1,_+f>c.length?qc:(c=c.slice(_,_+f),o.C=_+f,c)))}Zn.prototype.cancel=function(){this.J=!0,Yi(this)};function Zo(o){o.S=Date.now()+o.I,Tg(o,o.I)}function Tg(o,c){if(o.B!=null)throw Error("WatchDog timer not null");o.B=Xr(m(o.ba,o),c)}function Fc(o){o.B&&(l.clearTimeout(o.B),o.B=null)}Zn.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(VS(this.i,this.A),this.L!=2&&(Kr(),ge(17)),Yi(this),this.s=2,Zr(this)):Tg(this,this.S-o)};function Zr(o){o.j.G==0||o.J||Qg(o.j,o)}function Yi(o){Fc(o);var c=o.M;c&&typeof c.ma=="function"&&c.ma(),o.M=null,ug(o.U),o.g&&(c=o.g,o.g=null,c.abort(),c.ma())}function Gc(o,c){try{var f=o.j;if(f.G!=0&&(f.g==o||Yc(f.h,o))){if(!o.K&&Yc(f.h,o)&&f.G==3){try{var _=f.Da.g.parse(c)}catch{_=null}if(Array.isArray(_)&&_.length==3){var N=_;if(N[0]==0){t:if(!f.u){if(f.g)if(f.g.F+3e3<o.F)al(f),sl(f);else break t;$c(f),ge(18)}}else f.za=N[1],0<f.za-f.T&&37500>N[2]&&f.F&&f.v==0&&!f.C&&(f.C=Xr(m(f.Za,f),6e3));if(1>=bg(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Ki(f,11)}else if((o.K||f.g==o)&&al(f),!g(c))for(N=f.Da.g.parse(c),c=0;c<N.length;c++){let lt=N[c];if(f.T=lt[0],lt=lt[1],f.G==2)if(lt[0]=="c"){f.K=lt[1],f.ia=lt[2];const ae=lt[3];ae!=null&&(f.la=ae,f.j.info("VER="+f.la));const oe=lt[4];oe!=null&&(f.Aa=oe,f.j.info("SVER="+f.Aa));const Os=lt[5];Os!=null&&typeof Os=="number"&&0<Os&&(_=1.5*Os,f.L=_,f.j.info("backChannelRequestTimeoutMs_="+_)),_=f;const $e=o.g;if($e){const ll=$e.g?$e.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ll){var O=_.h;O.g||ll.indexOf("spdy")==-1&&ll.indexOf("quic")==-1&&ll.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(Qc(O,O.h),O.h=null))}if(_.D){const Wc=$e.g?$e.g.getResponseHeader("X-HTTP-Session-Id"):null;Wc&&(_.ya=Wc,Et(_.I,_.D,Wc))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-o.F,f.j.info("Handshake RTT: "+f.R+"ms")),_=f;var z=o;if(_.qa=$g(_,_.J?_.ia:null,_.W),z.K){wg(_.h,z);var pt=z,Wt=_.L;Wt&&(pt.I=Wt),pt.B&&(Fc(pt),Zo(pt)),_.g=z}else Gg(_);0<f.i.length&&rl(f)}else lt[0]!="stop"&&lt[0]!="close"||Ki(f,7);else f.G==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?Ki(f,7):Xc(f):lt[0]!="noop"&&f.l&&f.l.ta(lt),f.v=0)}}Kr(4)}catch{}}var US=class{constructor(o,c){this.g=o,this.map=c}};function Sg(o){this.l=o||10,l.PerformanceNavigationTiming?(o=l.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ag(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function bg(o){return o.h?1:o.g?o.g.size:0}function Yc(o,c){return o.h?o.h==c:o.g?o.g.has(c):!1}function Qc(o,c){o.g?o.g.add(c):o.h=c}function wg(o,c){o.h&&o.h==c?o.h=null:o.g&&o.g.has(c)&&o.g.delete(c)}Sg.prototype.cancel=function(){if(this.i=Rg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Rg(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let c=o.i;for(const f of o.g.values())c=c.concat(f.D);return c}return M(o.i)}function LS(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(u(o)){for(var c=[],f=o.length,_=0;_<f;_++)c.push(o[_]);return c}c=[],f=0;for(_ in o)c[f++]=o[_];return c}function jS(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(u(o)||typeof o=="string"){var c=[];o=o.length;for(var f=0;f<o;f++)c.push(f);return c}c=[],f=0;for(const _ in o)c[f++]=_;return c}}}function Ig(o,c){if(o.forEach&&typeof o.forEach=="function")o.forEach(c,void 0);else if(u(o)||typeof o=="string")Array.prototype.forEach.call(o,c,void 0);else for(var f=jS(o),_=LS(o),N=_.length,O=0;O<N;O++)c.call(void 0,_[O],f&&f[O],o)}var xg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zS(o,c){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var _=o[f].indexOf("="),N=null;if(0<=_){var O=o[f].substring(0,_);N=o[f].substring(_+1)}else O=o[f];c(O,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function Qi(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof Qi){this.h=o.h,Wo(this,o.j),this.o=o.o,this.g=o.g,Jo(this,o.s),this.l=o.l;var c=o.i,f=new ta;f.i=c.i,c.g&&(f.g=new Map(c.g),f.h=c.h),Cg(this,f),this.m=o.m}else o&&(c=String(o).match(xg))?(this.h=!1,Wo(this,c[1]||"",!0),this.o=Wr(c[2]||""),this.g=Wr(c[3]||"",!0),Jo(this,c[4]),this.l=Wr(c[5]||"",!0),Cg(this,c[6]||"",!0),this.m=Wr(c[7]||"")):(this.h=!1,this.i=new ta(null,this.h))}Qi.prototype.toString=function(){var o=[],c=this.j;c&&o.push(Jr(c,Ng,!0),":");var f=this.g;return(f||c=="file")&&(o.push("//"),(c=this.o)&&o.push(Jr(c,Ng,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&o.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&o.push("/"),o.push(Jr(f,f.charAt(0)=="/"?HS:qS,!0))),(f=this.i.toString())&&o.push("?",f),(f=this.m)&&o.push("#",Jr(f,GS)),o.join("")};function bn(o){return new Qi(o)}function Wo(o,c,f){o.j=f?Wr(c,!0):c,o.j&&(o.j=o.j.replace(/:$/,""))}function Jo(o,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);o.s=c}else o.s=null}function Cg(o,c,f){c instanceof ta?(o.i=c,YS(o.i,o.h)):(f||(c=Jr(c,FS)),o.i=new ta(c,o.h))}function Et(o,c,f){o.i.set(c,f)}function tl(o){return Et(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Wr(o,c){return o?c?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Jr(o,c,f){return typeof o=="string"?(o=encodeURI(o).replace(c,BS),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function BS(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Ng=/[#\/\?@]/g,qS=/[#\?:]/g,HS=/[#\?]/g,FS=/[#\?@]/g,GS=/#/g;function ta(o,c){this.h=this.g=null,this.i=o||null,this.j=!!c}function Wn(o){o.g||(o.g=new Map,o.h=0,o.i&&zS(o.i,function(c,f){o.add(decodeURIComponent(c.replace(/\+/g," ")),f)}))}e=ta.prototype,e.add=function(o,c){Wn(this),this.i=null,o=Ns(this,o);var f=this.g.get(o);return f||this.g.set(o,f=[]),f.push(c),this.h+=1,this};function Dg(o,c){Wn(o),c=Ns(o,c),o.g.has(c)&&(o.i=null,o.h-=o.g.get(c).length,o.g.delete(c))}function Og(o,c){return Wn(o),c=Ns(o,c),o.g.has(c)}e.forEach=function(o,c){Wn(this),this.g.forEach(function(f,_){f.forEach(function(N){o.call(c,N,_,this)},this)},this)},e.na=function(){Wn(this);const o=Array.from(this.g.values()),c=Array.from(this.g.keys()),f=[];for(let _=0;_<c.length;_++){const N=o[_];for(let O=0;O<N.length;O++)f.push(c[_])}return f},e.V=function(o){Wn(this);let c=[];if(typeof o=="string")Og(this,o)&&(c=c.concat(this.g.get(Ns(this,o))));else{o=Array.from(this.g.values());for(let f=0;f<o.length;f++)c=c.concat(o[f])}return c},e.set=function(o,c){return Wn(this),this.i=null,o=Ns(this,o),Og(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[c]),this.h+=1,this},e.get=function(o,c){return o?(o=this.V(o),0<o.length?String(o[0]):c):c};function Mg(o,c,f){Dg(o,c),0<f.length&&(o.i=null,o.g.set(Ns(o,c),M(f)),o.h+=f.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],c=Array.from(this.g.keys());for(var f=0;f<c.length;f++){var _=c[f];const O=encodeURIComponent(String(_)),z=this.V(_);for(_=0;_<z.length;_++){var N=O;z[_]!==""&&(N+="="+encodeURIComponent(String(z[_]))),o.push(N)}}return this.i=o.join("&")};function Ns(o,c){return c=String(c),o.j&&(c=c.toLowerCase()),c}function YS(o,c){c&&!o.j&&(Wn(o),o.i=null,o.g.forEach(function(f,_){var N=_.toLowerCase();_!=N&&(Dg(this,_),Mg(this,N,f))},o)),o.j=c}function QS(o,c){const f=new $r;if(l.Image){const _=new Image;_.onload=E(Jn,f,"TestLoadImage: loaded",!0,c,_),_.onerror=E(Jn,f,"TestLoadImage: error",!1,c,_),_.onabort=E(Jn,f,"TestLoadImage: abort",!1,c,_),_.ontimeout=E(Jn,f,"TestLoadImage: timeout",!1,c,_),l.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=o}else c(!1)}function KS(o,c){const f=new $r,_=new AbortController,N=setTimeout(()=>{_.abort(),Jn(f,"TestPingServer: timeout",!1,c)},1e4);fetch(o,{signal:_.signal}).then(O=>{clearTimeout(N),O.ok?Jn(f,"TestPingServer: ok",!0,c):Jn(f,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(N),Jn(f,"TestPingServer: error",!1,c)})}function Jn(o,c,f,_,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),_(f)}catch{}}function XS(){this.g=new DS}function $S(o,c,f){const _=f||"";try{Ig(o,function(N,O){let z=N;h(N)&&(z=Uc(N)),c.push(_+O+"="+encodeURIComponent(z))})}catch(N){throw c.push(_+"type="+encodeURIComponent("_badmap")),N}}function el(o){this.l=o.Ub||null,this.j=o.eb||!1}D(el,Lc),el.prototype.g=function(){return new nl(this.l,this.j)},el.prototype.i=function(o){return function(){return o}}({});function nl(o,c){re.call(this),this.D=o,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(nl,re),e=nl.prototype,e.open=function(o,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=c,this.readyState=1,na(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(c.body=o),(this.D||l).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ea(this)),this.readyState=0},e.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,na(this)),this.g&&(this.readyState=3,na(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vg(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vg(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}e.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var c=o.value?o.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!o.done}))&&(this.response=this.responseText+=c)}o.done?ea(this):na(this),this.readyState==3&&Vg(this)}},e.Ra=function(o){this.g&&(this.response=this.responseText=o,ea(this))},e.Qa=function(o){this.g&&(this.response=o,ea(this))},e.ga=function(){this.g&&ea(this)};function ea(o){o.readyState=4,o.l=null,o.j=null,o.v=null,na(o)}e.setRequestHeader=function(o,c){this.u.append(o,c)},e.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],c=this.h.entries();for(var f=c.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=c.next();return o.join(`\r
`)};function na(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(nl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function kg(o){let c="";return j(o,function(f,_){c+=_,c+=":",c+=f,c+=`\r
`}),c}function Kc(o,c,f){t:{for(_ in f){var _=!1;break t}_=!0}_||(f=kg(f),typeof o=="string"?f!=null&&encodeURIComponent(String(f)):Et(o,c,f))}function Ct(o){re.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(Ct,re);var ZS=/^https?$/i,WS=["POST","PUT"];e=Ct.prototype,e.Ha=function(o){this.J=o},e.ea=function(o,c,f,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);c=c?c.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bc.g(),this.v=this.o?cg(this.o):cg(Bc),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(c,String(o),!0),this.B=!1}catch(O){Pg(this,O);return}if(o=f||"",f=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var N in _)f.set(N,_[N]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const O of _.keys())f.set(O,_.get(O));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(f.keys()).find(O=>O.toLowerCase()=="content-type"),N=l.FormData&&o instanceof l.FormData,!(0<=Array.prototype.indexOf.call(WS,c,void 0))||_||N||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,z]of f)this.g.setRequestHeader(O,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{jg(this),this.u=!0,this.g.send(o),this.u=!1}catch(O){Pg(this,O)}};function Pg(o,c){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=c,o.m=5,Ug(o),il(o)}function Ug(o){o.A||(o.A=!0,me(o,"complete"),me(o,"error"))}e.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,me(this,"complete"),me(this,"abort"),il(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),il(this,!0)),Ct.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Lg(this):this.bb())},e.bb=function(){Lg(this)};function Lg(o){if(o.h&&typeof a<"u"&&(!o.v[1]||wn(o)!=4||o.Z()!=2)){if(o.u&&wn(o)==4)ag(o.Ea,0,o);else if(me(o,"readystatechange"),wn(o)==4){o.h=!1;try{const z=o.Z();t:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break t;default:c=!1}var f;if(!(f=c)){var _;if(_=z===0){var N=String(o.D).match(xg)[1]||null;!N&&l.self&&l.self.location&&(N=l.self.location.protocol.slice(0,-1)),_=!ZS.test(N?N.toLowerCase():"")}f=_}if(f)me(o,"complete"),me(o,"success");else{o.m=6;try{var O=2<wn(o)?o.g.statusText:""}catch{O=""}o.l=O+" ["+o.Z()+"]",Ug(o)}}finally{il(o)}}}}function il(o,c){if(o.g){jg(o);const f=o.g,_=o.v[0]?()=>{}:null;o.g=null,o.v=null,c||me(o,"ready");try{f.onreadystatechange=_}catch{}}}function jg(o){o.I&&(l.clearTimeout(o.I),o.I=null)}e.isActive=function(){return!!this.g};function wn(o){return o.g?o.g.readyState:0}e.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(o){if(this.g){var c=this.g.responseText;return o&&c.indexOf(o)==0&&(c=c.substring(o.length)),NS(c)}};function zg(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function JS(o){const c={};o=(o.g&&2<=wn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<o.length;_++){if(g(o[_]))continue;var f=x(o[_]);const N=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const O=c[N]||[];c[N]=O,O.push(f)}S(c,function(_){return _.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ia(o,c,f){return f&&f.internalChannelParams&&f.internalChannelParams[o]||c}function Bg(o){this.Aa=0,this.i=[],this.j=new $r,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ia("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ia("baseRetryDelayMs",5e3,o),this.cb=ia("retryDelaySeedMs",1e4,o),this.Wa=ia("forwardChannelMaxRetries",2,o),this.wa=ia("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Sg(o&&o.concurrentRequestLimit),this.Da=new XS,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Bg.prototype,e.la=8,e.G=1,e.connect=function(o,c,f,_){ge(0),this.W=o,this.H=c||{},f&&_!==void 0&&(this.H.OSID=f,this.H.OAID=_),this.F=this.X,this.I=$g(this,null,this.W),rl(this)};function Xc(o){if(qg(o),o.G==3){var c=o.U++,f=bn(o.I);if(Et(f,"SID",o.K),Et(f,"RID",c),Et(f,"TYPE","terminate"),sa(o,f),c=new Zn(o,o.j,c),c.L=2,c.v=tl(bn(f)),f=!1,l.navigator&&l.navigator.sendBeacon)try{f=l.navigator.sendBeacon(c.v.toString(),"")}catch{}!f&&l.Image&&(new Image().src=c.v,f=!0),f||(c.g=Zg(c.j,null),c.g.ea(c.v)),c.F=Date.now(),Zo(c)}Xg(o)}function sl(o){o.g&&(Zc(o),o.g.cancel(),o.g=null)}function qg(o){sl(o),o.u&&(l.clearTimeout(o.u),o.u=null),al(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&l.clearTimeout(o.s),o.s=null)}function rl(o){if(!Ag(o.h)&&!o.s){o.s=!0;var c=o.Ga;Z||Ot(),X||(Z(),X=!0),vt.add(c,o),o.B=0}}function tA(o,c){return bg(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=c.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=Xr(m(o.Ga,o,c),Kg(o,o.B)),o.B++,!0)}e.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const N=new Zn(this,this.j,o);let O=this.o;if(this.S&&(O?(O=v(O),w(O,this.S)):O=this.S),this.m!==null||this.O||(N.H=O,O=null),this.P)t:{for(var c=0,f=0;f<this.i.length;f++){e:{var _=this.i[f];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break e}_=void 0}if(_===void 0)break;if(c+=_,4096<c){c=f;break t}if(c===4096||f===this.i.length-1){c=f+1;break t}}c=1e3}else c=1e3;c=Fg(this,N,c),f=bn(this.I),Et(f,"RID",o),Et(f,"CVER",22),this.D&&Et(f,"X-HTTP-Session-Id",this.D),sa(this,f),O&&(this.O?c="headers="+encodeURIComponent(String(kg(O)))+"&"+c:this.m&&Kc(f,this.m,O)),Qc(this.h,N),this.Ua&&Et(f,"TYPE","init"),this.P?(Et(f,"$req",c),Et(f,"SID","null"),N.T=!0,Hc(N,f,null)):Hc(N,f,c),this.G=2}}else this.G==3&&(o?Hg(this,o):this.i.length==0||Ag(this.h)||Hg(this))};function Hg(o,c){var f;c?f=c.l:f=o.U++;const _=bn(o.I);Et(_,"SID",o.K),Et(_,"RID",f),Et(_,"AID",o.T),sa(o,_),o.m&&o.o&&Kc(_,o.m,o.o),f=new Zn(o,o.j,f,o.B+1),o.m===null&&(f.H=o.o),c&&(o.i=c.D.concat(o.i)),c=Fg(o,f,1e3),f.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Qc(o.h,f),Hc(f,_,c)}function sa(o,c){o.H&&j(o.H,function(f,_){Et(c,_,f)}),o.l&&Ig({},function(f,_){Et(c,_,f)})}function Fg(o,c,f){f=Math.min(o.i.length,f);var _=o.l?m(o.l.Na,o.l,o):null;t:{var N=o.i;let O=-1;for(;;){const z=["count="+f];O==-1?0<f?(O=N[0].g,z.push("ofs="+O)):O=0:z.push("ofs="+O);let pt=!0;for(let Wt=0;Wt<f;Wt++){let lt=N[Wt].g;const ae=N[Wt].map;if(lt-=O,0>lt)O=Math.max(0,N[Wt].g-100),pt=!1;else try{$S(ae,z,"req"+lt+"_")}catch{_&&_(ae)}}if(pt){_=z.join("&");break t}}}return o=o.i.splice(0,f),c.D=o,_}function Gg(o){if(!o.g&&!o.u){o.Y=1;var c=o.Fa;Z||Ot(),X||(Z(),X=!0),vt.add(c,o),o.v=0}}function $c(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=Xr(m(o.Fa,o),Kg(o,o.v)),o.v++,!0)}e.Fa=function(){if(this.u=null,Yg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=Xr(m(this.ab,this),o)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ge(10),sl(this),Yg(this))};function Zc(o){o.A!=null&&(l.clearTimeout(o.A),o.A=null)}function Yg(o){o.g=new Zn(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var c=bn(o.qa);Et(c,"RID","rpc"),Et(c,"SID",o.K),Et(c,"AID",o.T),Et(c,"CI",o.F?"0":"1"),!o.F&&o.ja&&Et(c,"TO",o.ja),Et(c,"TYPE","xmlhttp"),sa(o,c),o.m&&o.o&&Kc(c,o.m,o.o),o.L&&(o.g.I=o.L);var f=o.g;o=o.ia,f.L=1,f.v=tl(bn(c)),f.m=null,f.P=!0,vg(f,o)}e.Za=function(){this.C!=null&&(this.C=null,sl(this),$c(this),ge(19))};function al(o){o.C!=null&&(l.clearTimeout(o.C),o.C=null)}function Qg(o,c){var f=null;if(o.g==c){al(o),Zc(o),o.g=null;var _=2}else if(Yc(o.h,c))f=c.D,wg(o.h,c),_=1;else return;if(o.G!=0){if(c.o)if(_==1){f=c.m?c.m.length:0,c=Date.now()-c.F;var N=o.B;_=Ko(),me(_,new gg(_,f)),rl(o)}else Gg(o);else if(N=c.s,N==3||N==0&&0<c.X||!(_==1&&tA(o,c)||_==2&&$c(o)))switch(f&&0<f.length&&(c=o.h,c.i=c.i.concat(f)),N){case 1:Ki(o,5);break;case 4:Ki(o,10);break;case 3:Ki(o,6);break;default:Ki(o,2)}}}function Kg(o,c){let f=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(f*=2),f*c}function Ki(o,c){if(o.j.info("Error code "+c),c==2){var f=m(o.fb,o),_=o.Xa;const N=!_;_=new Qi(_||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Wo(_,"https"),tl(_),N?QS(_.toString(),f):KS(_.toString(),f)}else ge(2);o.G=0,o.l&&o.l.sa(c),Xg(o),qg(o)}e.fb=function(o){o?(this.j.info("Successfully pinged google.com"),ge(2)):(this.j.info("Failed to ping google.com"),ge(1))};function Xg(o){if(o.G=0,o.ka=[],o.l){const c=Rg(o.h);(c.length!=0||o.i.length!=0)&&(V(o.ka,c),V(o.ka,o.i),o.h.i.length=0,M(o.i),o.i.length=0),o.l.ra()}}function $g(o,c,f){var _=f instanceof Qi?bn(f):new Qi(f);if(_.g!="")c&&(_.g=c+"."+_.g),Jo(_,_.s);else{var N=l.location;_=N.protocol,c=c?c+"."+N.hostname:N.hostname,N=+N.port;var O=new Qi(null);_&&Wo(O,_),c&&(O.g=c),N&&Jo(O,N),f&&(O.l=f),_=O}return f=o.D,c=o.ya,f&&c&&Et(_,f,c),Et(_,"VER",o.la),sa(o,_),_}function Zg(o,c,f){if(c&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=o.Ca&&!o.pa?new Ct(new el({eb:f})):new Ct(o.pa),c.Ha(o.J),c}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wg(){}e=Wg.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function ol(){}ol.prototype.g=function(o,c){return new Re(o,c)};function Re(o,c){re.call(this),this.g=new Bg(c),this.l=o,this.h=c&&c.messageUrlParams||null,o=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(o?o["X-WebChannel-Content-Type"]=c.messageContentType:o={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(o?o["X-WebChannel-Client-Profile"]=c.va:o={"X-WebChannel-Client-Profile":c.va}),this.g.S=o,(o=c&&c.Sb)&&!g(o)&&(this.g.m=o),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!g(c)&&(this.g.D=c,o=this.h,o!==null&&c in o&&(o=this.h,c in o&&delete o[c])),this.j=new Ds(this)}D(Re,re),Re.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Re.prototype.close=function(){Xc(this.g)},Re.prototype.o=function(o){var c=this.g;if(typeof o=="string"){var f={};f.__data__=o,o=f}else this.u&&(f={},f.__data__=Uc(o),o=f);c.i.push(new US(c.Ya++,o)),c.G==3&&rl(c)},Re.prototype.N=function(){this.g.l=null,delete this.j,Xc(this.g),delete this.g,Re.aa.N.call(this)};function Jg(o){jc.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var c=o.__sm__;if(c){t:{for(const f in c){o=f;break t}o=void 0}(this.i=o)&&(o=this.i,c=c!==null&&o in c?c[o]:void 0),this.data=c}else this.data=o}D(Jg,jc);function tp(){zc.call(this),this.status=1}D(tp,zc);function Ds(o){this.g=o}D(Ds,Wg),Ds.prototype.ua=function(){me(this.g,"a")},Ds.prototype.ta=function(o){me(this.g,new Jg(o))},Ds.prototype.sa=function(o){me(this.g,new tp)},Ds.prototype.ra=function(){me(this.g,"b")},ol.prototype.createWebChannel=ol.prototype.g,Re.prototype.send=Re.prototype.o,Re.prototype.open=Re.prototype.m,Re.prototype.close=Re.prototype.close,KT=function(){return new ol},QT=function(){return Ko()},YT=Gi,Zf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xo.NO_ERROR=0,Xo.TIMEOUT=8,Xo.HTTP_ERROR=6,Ql=Xo,pg.COMPLETE="complete",GT=pg,hg.EventType=Qr,Qr.OPEN="a",Qr.CLOSE="b",Qr.ERROR="c",Qr.MESSAGE="d",re.prototype.listen=re.prototype.K,va=hg,Ct.prototype.listenOnce=Ct.prototype.L,Ct.prototype.getLastError=Ct.prototype.Ka,Ct.prototype.getLastErrorCode=Ct.prototype.Ba,Ct.prototype.getStatus=Ct.prototype.Z,Ct.prototype.getResponseJson=Ct.prototype.Oa,Ct.prototype.getResponseText=Ct.prototype.oa,Ct.prototype.send=Ct.prototype.ea,Ct.prototype.setWithCredentials=Ct.prototype.Ha,FT=Ct}).apply(typeof wl<"u"?wl:typeof self<"u"?self:typeof window<"u"?window:{});const i_="@firebase/firestore",s_="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ue.UNAUTHENTICATED=new ue(null),ue.GOOGLE_CREDENTIALS=new ue("google-credentials-uid"),ue.FIRST_PARTY=new ue("first-party-uid"),ue.MOCK_USER=new ue("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qr="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys=new fm("@firebase/firestore");function js(){return ys.logLevel}function q(e,...t){if(ys.logLevel<=nt.DEBUG){const n=t.map(Am);ys.debug(`Firestore (${qr}): ${e}`,...n)}}function Qn(e,...t){if(ys.logLevel<=nt.ERROR){const n=t.map(Am);ys.error(`Firestore (${qr}): ${e}`,...n)}}function Rr(e,...t){if(ys.logLevel<=nt.WARN){const n=t.map(Am);ys.warn(`Firestore (${qr}): ${e}`,...n)}}function Am(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,XT(e,i,n)}function XT(e,t,n){let i=`FIRESTORE (${qr}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Qn(i),new Error(i)}function ht(e,t,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,e||XT(t,s,i)}function $(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends $n{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Jx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(ue.UNAUTHENTICATED))}shutdown(){}}class tC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class eC{constructor(t){this.t=t,this.currentUser=ue.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){ht(this.o===void 0,42304);let i=this.i;const s=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let r=new Di;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Di,t.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=r;t.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},l=u=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Di)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ht(typeof i.accessToken=="string",31837,{l:i}),new $T(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ht(t===null||typeof t=="string",2055,{h:t}),new ue(t)}}class nC{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=ue.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class iC{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new nC(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(ue.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class r_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sC{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,He(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){ht(this.o===void 0,3512);const i=r=>{r.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const a=r.token!==this.m;return this.m=r.token,q("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(r.token):Promise.resolve()};this.o=r=>{t.enqueueRetryable(()=>i(r))};const s=r=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?s(r):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new r_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new r_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=rC(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=t.charAt(s[r]%62))}return i}}function it(e,t){return e<t?-1:e>t?1:0}function Wf(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const s=e.charAt(i),r=t.charAt(i);if(s!==r)return Bh(s)===Bh(r)?it(s,r):Bh(s)?1:-1}return it(e.length,t.length)}const aC=55296,oC=57343;function Bh(e){const t=e.charCodeAt(0);return t>=aC&&t<=oC}function Ir(e,t,n){return e.length===t.length&&e.every((i,s)=>n(i,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="__name__";class an{constructor(t,n,i){n===void 0?n=0:n>t.length&&Y(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&Y(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return an.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof an?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let s=0;s<i;s++){const r=an.compareSegments(t.get(s),n.get(s));if(r!==0)return r}return it(t.length,n.length)}static compareSegments(t,n){const i=an.isNumericId(t),s=an.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?an.extractNumericId(t).compare(an.extractNumericId(n)):Wf(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ni.fromString(t.substring(4,t.length-2))}}class It extends an{construct(t,n,i){return new It(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new H(L.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new It(n)}static emptyPath(){return new It([])}}const lC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ne extends an{construct(t,n,i){return new ne(t,n,i)}static isValidIdentifier(t){return lC.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ne.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===a_}static keyField(){return new ne([a_])}static fromServerFormat(t){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new H(L.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;s<t.length;){const l=t[s];if(l==="\\"){if(s+1===t.length)throw new H(L.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new H(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(i+=l,s++):(r(),s++)}if(r(),a)throw new H(L.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ne(n)}static emptyPath(){return new ne([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(t){this.path=t}static fromPath(t){return new F(It.fromString(t))}static fromName(t){return new F(It.fromString(t).popFirst(5))}static empty(){return new F(It.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&It.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return It.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new F(new It(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(e,t,n){if(!n)throw new H(L.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function cC(e,t,n,i){if(t===!0&&i===!0)throw new H(L.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function o_(e){if(!F.isDocumentKey(e))throw new H(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function ZT(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function wm(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Y(12329,{type:typeof e})}function lo(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new H(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wm(e);throw new H(L.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(e,t){const n={typeString:e};return t&&(n.value=t),n}function jo(e,t){if(!ZT(e))throw new H(L.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const s=t[i].typeString,r="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n=`JSON missing required field: '${i}'`;break}const a=e[i];if(s&&typeof a!==s){n=`JSON field '${i}' must be a ${s}.`;break}if(r!==void 0&&a!==r.value){n=`Expected '${i}' field to equal '${r.value}'`;break}}if(n)throw new H(L.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_=-62135596800,u_=1e6;class Tt{static now(){return Tt.fromMillis(Date.now())}static fromDate(t){return Tt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*u_);return new Tt(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new H(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<l_)throw new H(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new H(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/u_}_compareTo(t){return this.seconds===t.seconds?it(this.nanoseconds,t.nanoseconds):it(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(jo(t,Tt._jsonSchema))return new Tt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-l_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Tt._jsonSchemaVersion="firestore/timestamp/1.0",Tt._jsonSchema={type:jt("string",Tt._jsonSchemaVersion),seconds:jt("number"),nanoseconds:jt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{static fromTimestamp(t){return new K(t)}static min(){return new K(new Tt(0,0))}static max(){return new K(new Tt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=-1;function hC(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,s=K.fromTimestamp(i===1e9?new Tt(n+1,0):new Tt(n,i));return new ki(s,F.empty(),t)}function fC(e){return new ki(e.readTime,e.key,uo)}class ki{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new ki(K.min(),F.empty(),uo)}static max(){return new ki(K.max(),F.empty(),uo)}}function dC(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=F.comparator(e.documentKey,t.documentKey),n!==0?n:it(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hr(e){if(e.code!==L.FAILED_PRECONDITION||e.message!==mC)throw e;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Y(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new P((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(t,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof P?n:P.resolve(n)}catch(n){return P.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):P.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):P.reject(n)}static resolve(t){return new P((n,i)=>{n(t)})}static reject(t){return new P((n,i)=>{i(t)})}static waitFor(t){return new P((n,i)=>{let s=0,r=0,a=!1;t.forEach(l=>{++s,l.next(()=>{++r,a&&r===s&&n()},u=>i(u))}),a=!0,r===s&&n()})}static or(t){let n=P.resolve(!1);for(const i of t)n=n.next(s=>s?P.resolve(s):i());return n}static forEach(t,n){const i=[];return t.forEach((s,r)=>{i.push(n.call(this,s,r))}),this.waitFor(i)}static mapArray(t,n){return new P((i,s)=>{const r=t.length,a=new Array(r);let l=0;for(let u=0;u<r;u++){const h=u;n(t[h]).next(d=>{a[h]=d,++l,l===r&&i(a)},d=>s(d))}})}static doWhile(t,n){return new P((i,s)=>{const r=()=>{t()===!0?n().next(()=>{r()},s):i()};r()})}}function pC(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Fr(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}_c.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm=-1;function vc(e){return e==null}function Uu(e){return e===0&&1/e==-1/0}function yC(e){return typeof e=="number"&&Number.isInteger(e)&&!Uu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="";function _C(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=c_(t)),t=vC(e.get(n),t);return c_(t)}function vC(e,t){let n=t;const i=e.length;for(let s=0;s<i;s++){const r=e.charAt(s);switch(r){case"\0":n+="";break;case WT:n+="";break;default:n+=r}}return n}function c_(e){return e+WT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function bs(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function JT(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(t,n){this.comparator=t,this.root=n||te.EMPTY}insert(t,n){return new xt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,te.BLACK,null,null))}remove(t){return new xt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,te.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Rl(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Rl(this.root,t,this.comparator,!1)}getReverseIterator(){return new Rl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Rl(this.root,t,this.comparator,!0)}}class Rl{constructor(t,n,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=n?i(t.key,n):1,n&&s&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(r===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class te{constructor(t,n,i,s,r){this.key=t,this.value=n,this.color=i??te.RED,this.left=s??te.EMPTY,this.right=r??te.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,s,r){return new te(t??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let s=this;const r=i(t,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(t,n,i),null):r===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return te.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return te.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,te.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,te.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Y(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Y(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Y(27949);return t+(this.isRed()?0:1)}}te.EMPTY=null,te.RED=!0,te.BLACK=!1;te.EMPTY=new class{constructor(){this.size=0}get key(){throw Y(57766)}get value(){throw Y(16141)}get color(){throw Y(16727)}get left(){throw Y(29726)}get right(){throw Y(36894)}copy(t,n,i,s,r){return this}insert(t,n,i){return new te(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(t){this.comparator=t,this.data=new xt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new f_(this.data.getIterator())}getIteratorFrom(t){return new f_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof Ft)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ft(this.comparator);return n.data=t,n}}class f_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t){this.fields=t,t.sort(ne.comparator)}static empty(){return new Je([])}unionWith(t){let n=new Ft(ne.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new Je(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ir(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new t1("Invalid base64 string: "+r):r}}(t);return new se(n)}static fromUint8Array(t){const n=function(s){let r="";for(let a=0;a<s.length;++a)r+=String.fromCharCode(s[a]);return r}(t);return new se(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return it(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}se.EMPTY_BYTE_STRING=new se("");const EC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pi(e){if(ht(!!e,39018),typeof e=="string"){let t=0;const n=EC.exec(e);if(ht(!!n,46558,{timestamp:e}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:kt(e.seconds),nanos:kt(e.nanos)}}function kt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Ui(e){return typeof e=="string"?se.fromBase64String(e):se.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="server_timestamp",n1="__type__",i1="__previous_value__",s1="__local_write_time__";function Im(e){var n,i;return((i=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[n1])==null?void 0:i.stringValue)===e1}function Ec(e){const t=e.mapValue.fields[i1];return Im(t)?Ec(t):t}function co(e){const t=Pi(e.mapValue.fields[s1].timestampValue);return new Tt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(t,n,i,s,r,a,l,u,h,d){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=d}}const Lu="(default)";class ho{constructor(t,n){this.projectId=t,this.database=n||Lu}static empty(){return new ho("","")}get isDefaultDatabase(){return this.database===Lu}isEqual(t){return t instanceof ho&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="__type__",SC="__max__",Il={mapValue:{}},a1="__vector__",ju="value";function Li(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Im(e)?4:bC(e)?9007199254740991:AC(e)?10:11:Y(28295,{value:e})}function _n(e,t){if(e===t)return!0;const n=Li(e);if(n!==Li(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return co(e).isEqual(co(t));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const a=Pi(s.timestampValue),l=Pi(r.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,r){return Ui(s.bytesValue).isEqual(Ui(r.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,r){return kt(s.geoPointValue.latitude)===kt(r.geoPointValue.latitude)&&kt(s.geoPointValue.longitude)===kt(r.geoPointValue.longitude)}(e,t);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return kt(s.integerValue)===kt(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const a=kt(s.doubleValue),l=kt(r.doubleValue);return a===l?Uu(a)===Uu(l):isNaN(a)&&isNaN(l)}return!1}(e,t);case 9:return Ir(e.arrayValue.values||[],t.arrayValue.values||[],_n);case 10:case 11:return function(s,r){const a=s.mapValue.fields||{},l=r.mapValue.fields||{};if(h_(a)!==h_(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!_n(a[u],l[u])))return!1;return!0}(e,t);default:return Y(52216,{left:e})}}function fo(e,t){return(e.values||[]).find(n=>_n(n,t))!==void 0}function xr(e,t){if(e===t)return 0;const n=Li(e),i=Li(t);if(n!==i)return it(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return it(e.booleanValue,t.booleanValue);case 2:return function(r,a){const l=kt(r.integerValue||r.doubleValue),u=kt(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(e,t);case 3:return d_(e.timestampValue,t.timestampValue);case 4:return d_(co(e),co(t));case 5:return Wf(e.stringValue,t.stringValue);case 6:return function(r,a){const l=Ui(r),u=Ui(a);return l.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(r,a){const l=r.split("/"),u=a.split("/");for(let h=0;h<l.length&&h<u.length;h++){const d=it(l[h],u[h]);if(d!==0)return d}return it(l.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(r,a){const l=it(kt(r.latitude),kt(a.latitude));return l!==0?l:it(kt(r.longitude),kt(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return m_(e.arrayValue,t.arrayValue);case 10:return function(r,a){var m,E,D,M;const l=r.fields||{},u=a.fields||{},h=(m=l[ju])==null?void 0:m.arrayValue,d=(E=u[ju])==null?void 0:E.arrayValue,p=it(((D=h==null?void 0:h.values)==null?void 0:D.length)||0,((M=d==null?void 0:d.values)==null?void 0:M.length)||0);return p!==0?p:m_(h,d)}(e.mapValue,t.mapValue);case 11:return function(r,a){if(r===Il.mapValue&&a===Il.mapValue)return 0;if(r===Il.mapValue)return 1;if(a===Il.mapValue)return-1;const l=r.fields||{},u=Object.keys(l),h=a.fields||{},d=Object.keys(h);u.sort(),d.sort();for(let p=0;p<u.length&&p<d.length;++p){const m=Wf(u[p],d[p]);if(m!==0)return m;const E=xr(l[u[p]],h[d[p]]);if(E!==0)return E}return it(u.length,d.length)}(e.mapValue,t.mapValue);default:throw Y(23264,{he:n})}}function d_(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return it(e,t);const n=Pi(e),i=Pi(t),s=it(n.seconds,i.seconds);return s!==0?s:it(n.nanos,i.nanos)}function m_(e,t){const n=e.values||[],i=t.values||[];for(let s=0;s<n.length&&s<i.length;++s){const r=xr(n[s],i[s]);if(r)return r}return it(n.length,i.length)}function Cr(e){return Jf(e)}function Jf(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=Pi(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Ui(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return F.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",s=!0;for(const r of n.values||[])s?s=!1:i+=",",i+=Jf(r);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",r=!0;for(const a of i)r?r=!1:s+=",",s+=`${a}:${Jf(n.fields[a])}`;return s+"}"}(e.mapValue):Y(61005,{value:e})}function Kl(e){switch(Li(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ec(e);return t?16+Kl(t):16;case 5:return 2*e.stringValue.length;case 6:return Ui(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,r)=>s+Kl(r),0)}(e.arrayValue);case 10:case 11:return function(i){let s=0;return bs(i.fields,(r,a)=>{s+=r.length+Kl(a)}),s}(e.mapValue);default:throw Y(13486,{value:e})}}function td(e){return!!e&&"integerValue"in e}function xm(e){return!!e&&"arrayValue"in e}function g_(e){return!!e&&"nullValue"in e}function p_(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Xl(e){return!!e&&"mapValue"in e}function AC(e){var n,i;return((i=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[r1])==null?void 0:i.stringValue)===a1}function za(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return bs(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=za(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=za(e.arrayValue.values[n]);return t}return{...e}}function bC(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===SC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.value=t}static empty(){return new Fe({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Xl(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=za(n)}setAll(t){let n=ne.emptyPath(),i={},s=[];t.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,i,s),i={},s=[],n=l.popLast()}a?i[l.lastSegment()]=za(a):s.push(l.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,s)}delete(t){const n=this.field(t.popLast());Xl(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return _n(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=n.mapValue.fields[t.get(i)];Xl(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,i){bs(n,(s,r)=>t[s]=r);for(const s of i)delete t[s]}clone(){return new Fe(za(this.value))}}function o1(e){const t=[];return bs(e.fields,(n,i)=>{const s=new ne([n]);if(Xl(i)){const r=o1(i.mapValue).fields;if(r.length===0)t.push(s);else for(const a of r)t.push(s.child(a))}else t.push(s)}),new Je(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t,n,i,s,r,a,l){this.key=t,this.documentType=n,this.version=i,this.readTime=s,this.createTime=r,this.data=a,this.documentState=l}static newInvalidDocument(t){return new ce(t,0,K.min(),K.min(),K.min(),Fe.empty(),0)}static newFoundDocument(t,n,i,s){return new ce(t,1,n,K.min(),i,s,0)}static newNoDocument(t,n){return new ce(t,2,n,K.min(),K.min(),Fe.empty(),0)}static newUnknownDocument(t,n){return new ce(t,3,n,K.min(),K.min(),Fe.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(K.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Fe.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Fe.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=K.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ce&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ce(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(t,n){this.position=t,this.inclusive=n}}function y_(e,t,n){let i=0;for(let s=0;s<e.position.length;s++){const r=t[s],a=e.position[s];if(r.field.isKeyField()?i=F.comparator(F.fromName(a.referenceValue),n.key):i=xr(a,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function __(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!_n(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(t,n="asc"){this.field=t,this.dir=n}}function wC(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{}class Ht extends l1{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new IC(t,n,i):n==="array-contains"?new NC(t,i):n==="in"?new DC(t,i):n==="not-in"?new OC(t,i):n==="array-contains-any"?new MC(t,i):new Ht(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new xC(t,i):new CC(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(xr(n,this.value)):n!==null&&Li(this.value)===Li(n)&&this.matchesComparison(xr(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Y(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vn extends l1{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new vn(t,n)}matches(t){return u1(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function u1(e){return e.op==="and"}function c1(e){return RC(e)&&u1(e)}function RC(e){for(const t of e.filters)if(t instanceof vn)return!1;return!0}function ed(e){if(e instanceof Ht)return e.field.canonicalString()+e.op.toString()+Cr(e.value);if(c1(e))return e.filters.map(t=>ed(t)).join(",");{const t=e.filters.map(n=>ed(n)).join(",");return`${e.op}(${t})`}}function h1(e,t){return e instanceof Ht?function(i,s){return s instanceof Ht&&i.op===s.op&&i.field.isEqual(s.field)&&_n(i.value,s.value)}(e,t):e instanceof vn?function(i,s){return s instanceof vn&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((r,a,l)=>r&&h1(a,s.filters[l]),!0):!1}(e,t):void Y(19439)}function f1(e){return e instanceof Ht?function(n){return`${n.field.canonicalString()} ${n.op} ${Cr(n.value)}`}(e):e instanceof vn?function(n){return n.op.toString()+" {"+n.getFilters().map(f1).join(" ,")+"}"}(e):"Filter"}class IC extends Ht{constructor(t,n,i){super(t,n,i),this.key=F.fromName(i.referenceValue)}matches(t){const n=F.comparator(t.key,this.key);return this.matchesComparison(n)}}class xC extends Ht{constructor(t,n){super(t,"in",n),this.keys=d1("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class CC extends Ht{constructor(t,n){super(t,"not-in",n),this.keys=d1("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function d1(e,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map(i=>F.fromName(i.referenceValue))}class NC extends Ht{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return xm(n)&&fo(n.arrayValue,this.value)}}class DC extends Ht{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&fo(this.value.arrayValue,n)}}class OC extends Ht{constructor(t,n){super(t,"not-in",n)}matches(t){if(fo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!fo(this.value.arrayValue,n)}}class MC extends Ht{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!xm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>fo(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(t,n=null,i=[],s=[],r=null,a=null,l=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=a,this.endAt=l,this.Te=null}}function v_(e,t=null,n=[],i=[],s=null,r=null,a=null){return new VC(e,t,n,i,s,r,a)}function Cm(e){const t=$(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>ed(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),vc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Cr(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Cr(i)).join(",")),t.Te=n}return t.Te}function Nm(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!wC(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!h1(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!__(e.startAt,t.startAt)&&__(e.endAt,t.endAt)}function nd(e){return F.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(t,n=null,i=[],s=[],r=null,a="F",l=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=a,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function kC(e,t,n,i,s,r,a,l){return new Tc(e,t,n,i,s,r,a,l)}function Dm(e){return new Tc(e)}function E_(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function PC(e){return e.collectionGroup!==null}function Ba(e){const t=$(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const r of t.explicitOrderBy)t.Ie.push(r),n.add(r.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Ft(ne.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(t).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new Bu(r,i))}),n.has(ne.keyField().canonicalString())||t.Ie.push(new Bu(ne.keyField(),i))}return t.Ie}function mn(e){const t=$(e);return t.Ee||(t.Ee=UC(t,Ba(e))),t.Ee}function UC(e,t){if(e.limitType==="F")return v_(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(s=>{const r=s.dir==="desc"?"asc":"desc";return new Bu(s.field,r)});const n=e.endAt?new zu(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new zu(e.startAt.position,e.startAt.inclusive):null;return v_(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function id(e,t,n){return new Tc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Sc(e,t){return Nm(mn(e),mn(t))&&e.limitType===t.limitType}function m1(e){return`${Cm(mn(e))}|lt:${e.limitType}`}function zs(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>f1(s)).join(", ")}]`),vc(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>Cr(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>Cr(s)).join(",")),`Target(${i})`}(mn(e))}; limitType=${e.limitType})`}function Ac(e,t){return t.isFoundDocument()&&function(i,s){const r=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):F.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(e,t)&&function(i,s){for(const r of Ba(i))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(e,t)&&function(i,s){for(const r of i.filters)if(!r.matches(s))return!1;return!0}(e,t)&&function(i,s){return!(i.startAt&&!function(a,l,u){const h=y_(a,l,u);return a.inclusive?h<=0:h<0}(i.startAt,Ba(i),s)||i.endAt&&!function(a,l,u){const h=y_(a,l,u);return a.inclusive?h>=0:h>0}(i.endAt,Ba(i),s))}(e,t)}function LC(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function g1(e){return(t,n)=>{let i=!1;for(const s of Ba(e)){const r=jC(s,t,n);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function jC(e,t,n){const i=e.field.isKeyField()?F.comparator(t.key,n.key):function(r,a,l){const u=a.data.field(r),h=l.data.field(r);return u!==null&&h!==null?xr(u,h):Y(42886)}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Y(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,t))return r}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],t))return void(s[r]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){bs(this.inner,(n,i)=>{for(const[s,r]of i)t(s,r)})}isEmpty(){return JT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=new xt(F.comparator);function Kn(){return zC}const p1=new xt(F.comparator);function Ea(...e){let t=p1;for(const n of e)t=t.insert(n.key,n);return t}function y1(e){let t=p1;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function ts(){return qa()}function _1(){return qa()}function qa(){return new ws(e=>e.toString(),(e,t)=>e.isEqual(t))}const BC=new xt(F.comparator),qC=new Ft(F.comparator);function st(...e){let t=qC;for(const n of e)t=t.add(n);return t}const HC=new Ft(it);function FC(){return HC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uu(t)?"-0":t}}function v1(e){return{integerValue:""+e}}function GC(e,t){return yC(t)?v1(t):Om(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(){this._=void 0}}function YC(e,t,n){return e instanceof qu?function(s,r){const a={fields:{[n1]:{stringValue:e1},[s1]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&Im(r)&&(r=Ec(r)),r&&(a.fields[i1]=r),{mapValue:a}}(n,t):e instanceof mo?T1(e,t):e instanceof go?S1(e,t):function(s,r){const a=E1(s,r),l=T_(a)+T_(s.Ae);return td(a)&&td(s.Ae)?v1(l):Om(s.serializer,l)}(e,t)}function QC(e,t,n){return e instanceof mo?T1(e,t):e instanceof go?S1(e,t):n}function E1(e,t){return e instanceof Hu?function(i){return td(i)||function(r){return!!r&&"doubleValue"in r}(i)}(t)?t:{integerValue:0}:null}class qu extends bc{}class mo extends bc{constructor(t){super(),this.elements=t}}function T1(e,t){const n=A1(t);for(const i of e.elements)n.some(s=>_n(s,i))||n.push(i);return{arrayValue:{values:n}}}class go extends bc{constructor(t){super(),this.elements=t}}function S1(e,t){let n=A1(t);for(const i of e.elements)n=n.filter(s=>!_n(s,i));return{arrayValue:{values:n}}}class Hu extends bc{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function T_(e){return kt(e.integerValue||e.doubleValue)}function A1(e){return xm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function KC(e,t){return e.field.isEqual(t.field)&&function(i,s){return i instanceof mo&&s instanceof mo||i instanceof go&&s instanceof go?Ir(i.elements,s.elements,_n):i instanceof Hu&&s instanceof Hu?_n(i.Ae,s.Ae):i instanceof qu&&s instanceof qu}(e.transform,t.transform)}class XC{constructor(t,n){this.version=t,this.transformResults=n}}class zn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new zn}static exists(t){return new zn(void 0,t)}static updateTime(t){return new zn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function $l(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class wc{}function b1(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new R1(e.key,zn.none()):new zo(e.key,e.data,zn.none());{const n=e.data,i=Fe.empty();let s=new Ft(ne.comparator);for(let r of t.fields)if(!s.has(r)){let a=n.field(r);a===null&&r.length>1&&(r=r.popLast(),a=n.field(r)),a===null?i.delete(r):i.set(r,a),s=s.add(r)}return new Rs(e.key,i,new Je(s.toArray()),zn.none())}}function $C(e,t,n){e instanceof zo?function(s,r,a){const l=s.value.clone(),u=A_(s.fieldTransforms,r,a.transformResults);l.setAll(u),r.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(e,t,n):e instanceof Rs?function(s,r,a){if(!$l(s.precondition,r))return void r.convertToUnknownDocument(a.version);const l=A_(s.fieldTransforms,r,a.transformResults),u=r.data;u.setAll(w1(s)),u.setAll(l),r.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(e,t,n):function(s,r,a){r.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function Ha(e,t,n,i){return e instanceof zo?function(r,a,l,u){if(!$l(r.precondition,a))return l;const h=r.value.clone(),d=b_(r.fieldTransforms,u,a);return h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(e,t,n,i):e instanceof Rs?function(r,a,l,u){if(!$l(r.precondition,a))return l;const h=b_(r.fieldTransforms,u,a),d=a.data;return d.setAll(w1(r)),d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(p=>p.field))}(e,t,n,i):function(r,a,l){return $l(r.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(e,t,n)}function ZC(e,t){let n=null;for(const i of e.fieldTransforms){const s=t.data.field(i.field),r=E1(i.transform,s||null);r!=null&&(n===null&&(n=Fe.empty()),n.set(i.field,r))}return n||null}function S_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Ir(i,s,(r,a)=>KC(r,a))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class zo extends wc{constructor(t,n,i,s=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Rs extends wc{constructor(t,n,i,s,r=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function w1(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function A_(e,t,n){const i=new Map;ht(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let s=0;s<n.length;s++){const r=e[s],a=r.transform,l=t.data.field(r.field);i.set(r.field,QC(a,l,n[s]))}return i}function b_(e,t,n){const i=new Map;for(const s of e){const r=s.transform,a=n.data.field(s.field);i.set(s.field,YC(r,a,t))}return i}class R1 extends wc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WC extends wc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(t,n,i,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(t.key)&&$C(r,t,i[s])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Ha(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Ha(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=_1();return this.mutations.forEach(s=>{const r=t.get(s.key),a=r.overlayedDocument;let l=this.applyToLocalView(a,r.mutatedFields);l=n.has(s.key)?null:l;const u=b1(a,l);u!==null&&i.set(s.key,u),a.isValidDocument()||a.convertToNoDocument(K.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),st())}isEqual(t){return this.batchId===t.batchId&&Ir(this.mutations,t.mutations,(n,i)=>S_(n,i))&&Ir(this.baseMutations,t.baseMutations,(n,i)=>S_(n,i))}}class Mm{constructor(t,n,i,s){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(t,n,i){ht(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let s=function(){return BC}();const r=t.mutations;for(let a=0;a<r.length;a++)s=s.insert(r[a].key,i[a].version);return new Mm(t,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut,rt;function nN(e){switch(e){case L.OK:return Y(64938);case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0;default:return Y(15467,{code:e})}}function I1(e){if(e===void 0)return Qn("GRPC error has no .code"),L.UNKNOWN;switch(e){case Ut.OK:return L.OK;case Ut.CANCELLED:return L.CANCELLED;case Ut.UNKNOWN:return L.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return L.INTERNAL;case Ut.UNAVAILABLE:return L.UNAVAILABLE;case Ut.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Ut.NOT_FOUND:return L.NOT_FOUND;case Ut.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Ut.ABORTED:return L.ABORTED;case Ut.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Ut.DATA_LOSS:return L.DATA_LOSS;default:return Y(39323,{code:e})}}(rt=Ut||(Ut={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=new Ni([4294967295,4294967295],0);function w_(e){const t=iN().encode(e),n=new HT;return n.update(t),new Uint8Array(n.digest())}function R_(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),r=t.getUint32(12,!0);return[new Ni([n,i],0),new Ni([s,r],0)]}class Vm{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Ta(`Invalid padding: ${n}`);if(i<0)throw new Ta(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Ta(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new Ta(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Ni.fromNumber(this.ge)}ye(t,n,i){let s=t.add(n.multiply(Ni.fromNumber(i)));return s.compare(sN)===1&&(s=new Ni([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=w_(t),[i,s]=R_(n);for(let r=0;r<this.hashCount;r++){const a=this.ye(i,s,r);if(!this.we(a))return!1}return!0}static create(t,n,i){const s=t%8==0?0:8-t%8,r=new Uint8Array(Math.ceil(t/8)),a=new Vm(r,s,n);return i.forEach(l=>a.insert(l)),a}insert(t){if(this.ge===0)return;const n=w_(t),[i,s]=R_(n);for(let r=0;r<this.hashCount;r++){const a=this.ye(i,s,r);this.Se(a)}}Se(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class Ta extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(t,n,i,s,r){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const s=new Map;return s.set(t,Bo.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new Rc(K.min(),s,new xt(it),Kn(),st())}}class Bo{constructor(t,n,i,s,r){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new Bo(i,n,st(),st(),st())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(t,n,i,s){this.be=t,this.removedTargetIds=n,this.key=i,this.De=s}}class x1{constructor(t,n){this.targetId=t,this.Ce=n}}class C1{constructor(t,n,i=se.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=s}}class I_{constructor(){this.ve=0,this.Fe=x_(),this.Me=se.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=st(),n=st(),i=st();return this.Fe.forEach((s,r)=>{switch(r){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Y(38017,{changeType:r})}}),new Bo(this.Me,this.xe,t,n,i)}qe(){this.Oe=!1,this.Fe=x_()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class rN{constructor(t){this.Ge=t,this.ze=new Map,this.je=Kn(),this.Je=xl(),this.He=xl(),this.Ye=new xt(it)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const i=this.nt(n);switch(t.state){case 0:this.rt(n)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(t.resumeToken));break;default:Y(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((i,s)=>{this.rt(s)&&n(s)})}st(t){const n=t.targetId,i=t.Ce.count,s=this.ot(n);if(s){const r=s.target;if(nd(r))if(i===0){const a=new F(r.path);this.et(n,a,ce.newNoDocument(a,K.min()))}else ht(i===1,20013,{expectedCount:i});else{const a=this._t(n);if(a!==i){const l=this.ut(t),u=l?this.ct(l,t,a):1;if(u!==0){this.it(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:r=0}=n;let a,l;try{a=Ui(i).toUint8Array()}catch(u){if(u instanceof t1)return Rr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Vm(a,s,r)}catch(u){return Rr(u instanceof Ta?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(t,n,i){return n.Ce.count===i-this.Pt(t,n.targetId)?0:2}Pt(t,n){const i=this.Ge.getRemoteKeysForTarget(n);let s=0;return i.forEach(r=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${r.path.canonicalString()}`;t.mightContain(l)||(this.et(n,r,null),s++)}),s}Tt(t){const n=new Map;this.ze.forEach((r,a)=>{const l=this.ot(a);if(l){if(r.current&&nd(l.target)){const u=new F(l.target.path);this.It(u).has(a)||this.Et(a,u)||this.et(a,u,ce.newNoDocument(u,t))}r.Be&&(n.set(a,r.ke()),r.qe())}});let i=st();this.He.forEach((r,a)=>{let l=!0;a.forEachWhile(u=>{const h=this.ot(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(r))}),this.je.forEach((r,a)=>a.setReadTime(t));const s=new Rc(t,n,this.Ye,this.je,i);return this.je=Kn(),this.Je=xl(),this.He=xl(),this.Ye=new xt(it),s}Xe(t,n){if(!this.rt(t))return;const i=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,i){if(!this.rt(t))return;const s=this.nt(t);this.Et(t,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),i&&(this.je=this.je.insert(n,i))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new I_,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Ft(it),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Ft(it),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||q("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new I_),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function xl(){return new xt(F.comparator)}function x_(){return new xt(F.comparator)}const aN={asc:"ASCENDING",desc:"DESCENDING"},oN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lN={and:"AND",or:"OR"};class uN{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function sd(e,t){return e.useProto3Json||vc(t)?t:{value:t}}function Fu(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function N1(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function cN(e,t){return Fu(e,t.toTimestamp())}function gn(e){return ht(!!e,49232),K.fromTimestamp(function(n){const i=Pi(n);return new Tt(i.seconds,i.nanos)}(e))}function km(e,t){return rd(e,t).canonicalString()}function rd(e,t){const n=function(s){return new It(["projects",s.projectId,"databases",s.database])}(e).child("documents");return t===void 0?n:n.child(t)}function D1(e){const t=It.fromString(e);return ht(P1(t),10190,{key:t.toString()}),t}function ad(e,t){return km(e.databaseId,t.path)}function qh(e,t){const n=D1(t);if(n.get(1)!==e.databaseId.projectId)throw new H(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new H(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new F(M1(n))}function O1(e,t){return km(e.databaseId,t)}function hN(e){const t=D1(e);return t.length===4?It.emptyPath():M1(t)}function od(e){return new It(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function M1(e){return ht(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function C_(e,t,n){return{name:ad(e,t),fields:n.value.mapValue.fields}}function fN(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Y(39313,{state:h})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],r=function(h,d){return h.useProto3Json?(ht(d===void 0||typeof d=="string",58123),se.fromBase64String(d||"")):(ht(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),se.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,l=a&&function(h){const d=h.code===void 0?L.UNKNOWN:I1(h.code);return new H(d,h.message||"")}(a);n=new C1(i,s,r,l||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=qh(e,i.document.name),r=gn(i.document.updateTime),a=i.document.createTime?gn(i.document.createTime):K.min(),l=new Fe({mapValue:{fields:i.document.fields}}),u=ce.newFoundDocument(s,r,a,l),h=i.targetIds||[],d=i.removedTargetIds||[];n=new Zl(h,d,u.key,u)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=qh(e,i.document),r=i.readTime?gn(i.readTime):K.min(),a=ce.newNoDocument(s,r),l=i.removedTargetIds||[];n=new Zl([],l,a.key,a)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=qh(e,i.document),r=i.removedTargetIds||[];n=new Zl([],r,s,null)}else{if(!("filter"in t))return Y(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:r}=i,a=new eN(s,r),l=i.targetId;n=new x1(l,a)}}return n}function dN(e,t){let n;if(t instanceof zo)n={update:C_(e,t.key,t.value)};else if(t instanceof R1)n={delete:ad(e,t.key)};else if(t instanceof Rs)n={update:C_(e,t.key,t.data),updateMask:SN(t.fieldMask)};else{if(!(t instanceof WC))return Y(16599,{Vt:t.type});n={verify:ad(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(r,a){const l=a.transform;if(l instanceof qu)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof mo)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof go)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Hu)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw Y(20930,{transform:a.transform})}(0,i))),t.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:cN(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:Y(27497)}(e,t.precondition)),n}function mN(e,t){return e&&e.length>0?(ht(t!==void 0,14353),e.map(n=>function(s,r){let a=s.updateTime?gn(s.updateTime):gn(r);return a.isEqual(K.min())&&(a=gn(r)),new XC(a,s.transformResults||[])}(n,t))):[]}function gN(e,t){return{documents:[O1(e,t.path)]}}function pN(e,t){const n={structuredQuery:{}},i=t.path;let s;t.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=O1(e,s);const r=function(h){if(h.length!==0)return k1(vn.create(h,"and"))}(t.filters);r&&(n.structuredQuery.where=r);const a=function(h){if(h.length!==0)return h.map(d=>function(m){return{field:Bs(m.field),direction:vN(m.dir)}}(d))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const l=sd(e,t.limit);return l!==null&&(n.structuredQuery.limit=l),t.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(t.endAt)),{ft:n,parent:s}}function yN(e){let t=hN(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){ht(i===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:t=t.child(d.collectionId)}let r=[];n.where&&(r=function(p){const m=V1(p);return m instanceof vn&&c1(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(p){return p.map(m=>function(D){return new Bu(qs(D.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(p){let m;return m=typeof p=="object"?p.value:p,vc(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){const m=!!p.before,E=p.values||[];return new zu(E,m)}(n.startAt));let h=null;return n.endAt&&(h=function(p){const m=!p.before,E=p.values||[];return new zu(E,m)}(n.endAt)),kC(t,s,a,r,l,"F",u,h)}function _N(e,t){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y(28987,{purpose:s})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function V1(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=qs(n.unaryFilter.field);return Ht.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=qs(n.unaryFilter.field);return Ht.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=qs(n.unaryFilter.field);return Ht.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=qs(n.unaryFilter.field);return Ht.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Y(61313);default:return Y(60726)}}(e):e.fieldFilter!==void 0?function(n){return Ht.create(qs(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Y(58110);default:return Y(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return vn.create(n.compositeFilter.filters.map(i=>V1(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Y(1026)}}(n.compositeFilter.op))}(e):Y(30097,{filter:e})}function vN(e){return aN[e]}function EN(e){return oN[e]}function TN(e){return lN[e]}function Bs(e){return{fieldPath:e.canonicalString()}}function qs(e){return ne.fromServerFormat(e.fieldPath)}function k1(e){return e instanceof Ht?function(n){if(n.op==="=="){if(p_(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NAN"}};if(g_(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(p_(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NOT_NAN"}};if(g_(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bs(n.field),op:EN(n.op),value:n.value}}}(e):e instanceof vn?function(n){const i=n.getFilters().map(s=>k1(s));return i.length===1?i[0]:{compositeFilter:{op:TN(n.op),filters:i}}}(e):Y(54877,{filter:e})}function SN(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function P1(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(t,n,i,s,r=K.min(),a=K.min(),l=se.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(t){return new _i(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(t){this.yt=t}}function bN(e){const t=yN({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?id(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(){this.Cn=new RN}addToCollectionParentIndex(t,n){return this.Cn.add(n),P.resolve()}getCollectionParents(t,n){return P.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return P.resolve()}deleteFieldIndex(t,n){return P.resolve()}deleteAllFieldIndexes(t){return P.resolve()}createTargetIndexes(t,n){return P.resolve()}getDocumentsMatchingTarget(t,n){return P.resolve(null)}getIndexType(t,n){return P.resolve(0)}getFieldIndexes(t,n){return P.resolve([])}getNextCollectionGroupToUpdate(t){return P.resolve(null)}getMinOffset(t,n){return P.resolve(ki.min())}getMinOffsetFromCollectionGroup(t,n){return P.resolve(ki.min())}updateCollectionGroup(t,n,i){return P.resolve()}updateIndexEntries(t,n){return P.resolve()}}class RN{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n]||new Ft(It.comparator),r=!s.has(i);return this.index[n]=s.add(i),r}has(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(t){return(this.index[t]||new Ft(It.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},U1=41943040;class Se{static withCacheSize(t){return new Se(t,Se.DEFAULT_COLLECTION_PERCENTILE,Se.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Se.DEFAULT_COLLECTION_PERCENTILE=10,Se.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Se.DEFAULT=new Se(U1,Se.DEFAULT_COLLECTION_PERCENTILE,Se.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Se.DISABLED=new Se(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Nr(0)}static cr(){return new Nr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="LruGarbageCollector",IN=1048576;function O_([e,t],[n,i]){const s=it(e,n);return s===0?it(t,i):s}class xN{constructor(t){this.Ir=t,this.buffer=new Ft(O_),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();O_(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class CN{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){q(D_,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Fr(n)?q(D_,"Ignoring IndexedDB error during garbage collection: ",n):await Hr(n)}await this.Vr(3e5)})}}class NN{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return P.resolve(_c.ce);const i=new xN(n);return this.mr.forEachTarget(t,s=>i.Ar(s.sequenceNumber)).next(()=>this.mr.pr(t,s=>i.Ar(s))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.mr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(N_)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),N_):this.yr(t,n))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let i,s,r,a,l,u,h;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,a=Date.now(),this.nthSequenceNumber(t,s))).next(p=>(i=p,l=Date.now(),this.removeTargets(t,i,n))).next(p=>(r=p,u=Date.now(),this.removeOrphanedDocuments(t,i))).next(p=>(h=Date.now(),js()<=nt.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${s} in `+(l-a)+`ms
	Removed ${r} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(h-u)+`ms
Total Duration: ${h-d}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:r,documentsRemoved:p})))}}function DN(e,t){return new NN(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(){this.changes=new ws(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ce.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?P.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(t,n,i,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,n))).next(s=>(i!==null&&Ha(i.mutation,s,Je.empty(),Tt.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,st()).next(()=>i))}getLocalViewOfDocuments(t,n,i=st()){const s=ts();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,i).next(r=>{let a=Ea();return r.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const i=ts();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,st()))}populateOverlays(t,n,i){const s=[];return i.forEach(r=>{n.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(t,s).next(r=>{r.forEach((a,l)=>{n.set(a,l)})})}computeViews(t,n,i,s){let r=Kn();const a=qa(),l=function(){return qa()}();return n.forEach((u,h)=>{const d=i.get(h.key);s.has(h.key)&&(d===void 0||d.mutation instanceof Rs)?r=r.insert(h.key,h):d!==void 0?(a.set(h.key,d.mutation.getFieldMask()),Ha(d.mutation,h,d.mutation.getFieldMask(),Tt.now())):a.set(h.key,Je.empty())}),this.recalculateAndSaveOverlays(t,r).next(u=>(u.forEach((h,d)=>a.set(h,d)),n.forEach((h,d)=>l.set(h,new MN(d,a.get(h)??null))),l))}recalculateAndSaveOverlays(t,n){const i=qa();let s=new xt((a,l)=>a-l),r=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let d=i.get(u)||Je.empty();d=l.applyToLocalView(h,d),i.set(u,d);const p=(s.get(l.batchId)||st()).add(u);s=s.insert(l.batchId,p)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,d=u.value,p=_1();d.forEach(m=>{if(!r.has(m)){const E=b1(n.get(m),i.get(m));E!==null&&p.set(m,E),r=r.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(t,h,p))}return P.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,s){return function(a){return F.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):PC(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,s):this.getDocumentsMatchingCollectionQuery(t,n,i,s)}getNextDocuments(t,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,s).next(r=>{const a=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,s-r.size):P.resolve(ts());let l=uo,u=r;return a.next(h=>P.forEach(h,(d,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),r.get(d)?P.resolve():this.remoteDocumentCache.getEntry(t,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(t,h,r)).next(()=>this.computeViews(t,u,h,st())).next(d=>({batchId:l,changes:y1(d)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new F(n)).next(i=>{let s=Ea();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,i,s){const r=n.collectionGroup;let a=Ea();return this.indexManager.getCollectionParents(t,r).next(l=>P.forEach(l,u=>{const h=function(p,m){return new Tc(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(r));return this.getDocumentsMatchingCollectionQuery(t,h,i,s).next(d=>{d.forEach((p,m)=>{a=a.insert(p,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,n,i,s){let r;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,r,s))).next(a=>{r.forEach((u,h)=>{const d=h.getKey();a.get(d)===null&&(a=a.insert(d,ce.newInvalidDocument(d)))});let l=Ea();return a.forEach((u,h)=>{const d=r.get(u);d!==void 0&&Ha(d.mutation,h,Je.empty(),Tt.now()),Ac(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return P.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:gn(s.createTime)}}(n)),P.resolve()}getNamedQuery(t,n){return P.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,function(s){return{name:s.name,query:bN(s.bundledQuery),readTime:gn(s.readTime)}}(n)),P.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(){this.overlays=new xt(F.comparator),this.qr=new Map}getOverlay(t,n){return P.resolve(this.overlays.get(n))}getOverlays(t,n){const i=ts();return P.forEach(n,s=>this.getOverlay(t,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((s,r)=>{this.St(t,n,r)}),P.resolve()}removeOverlaysForBatchId(t,n,i){const s=this.qr.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.qr.delete(i)),P.resolve()}getOverlaysForCollection(t,n,i){const s=ts(),r=n.length+1,a=new F(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===r&&u.largestBatchId>i&&s.set(u.getKey(),u)}return P.resolve(s)}getOverlaysForCollectionGroup(t,n,i,s){let r=new xt((h,d)=>h-d);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>i){let d=r.get(h.largestBatchId);d===null&&(d=ts(),r=r.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const l=ts(),u=r.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,d)=>l.set(h,d)),!(l.size()>=s)););return P.resolve(l)}St(t,n,i){const s=this.overlays.get(i.key);if(s!==null){const a=this.qr.get(s.largestBatchId).delete(i.key);this.qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new tN(n,i));let r=this.qr.get(n);r===void 0&&(r=st(),this.qr.set(n,r)),this.qr.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(){this.sessionToken=se.EMPTY_BYTE_STRING}getSessionToken(t){return P.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,P.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(){this.Qr=new Ft(Yt.$r),this.Ur=new Ft(Yt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const i=new Yt(t,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Gr(new Yt(t,n))}zr(t,n){t.forEach(i=>this.removeReference(i,n))}jr(t){const n=new F(new It([])),i=new Yt(n,t),s=new Yt(n,t+1),r=[];return this.Ur.forEachInRange([i,s],a=>{this.Gr(a),r.push(a.key)}),r}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new F(new It([])),i=new Yt(n,t),s=new Yt(n,t+1);let r=st();return this.Ur.forEachInRange([i,s],a=>{r=r.add(a.key)}),r}containsKey(t){const n=new Yt(t,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class Yt{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return F.comparator(t.key,n.key)||it(t.Yr,n.Yr)}static Kr(t,n){return it(t.Yr,n.Yr)||F.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ft(Yt.$r)}checkEmpty(t){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,s){const r=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new JC(r,n,i,s);this.mutationQueue.push(a);for(const l of s)this.Zr=this.Zr.add(new Yt(l.key,r)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return P.resolve(a)}lookupMutationBatch(t,n){return P.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,s=this.ei(i),r=s<0?0:s;return P.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?Rm:this.tr-1)}getAllMutationBatches(t){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new Yt(n,0),s=new Yt(n,Number.POSITIVE_INFINITY),r=[];return this.Zr.forEachInRange([i,s],a=>{const l=this.Xr(a.Yr);r.push(l)}),P.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Ft(it);return n.forEach(s=>{const r=new Yt(s,0),a=new Yt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([r,a],l=>{i=i.add(l.Yr)})}),P.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,s=i.length+1;let r=i;F.isDocumentKey(r)||(r=r.child(""));const a=new Yt(new F(r),0);let l=new Ft(it);return this.Zr.forEachWhile(u=>{const h=u.key.path;return!!i.isPrefixOf(h)&&(h.length===s&&(l=l.add(u.Yr)),!0)},a),P.resolve(this.ti(l))}ti(t){const n=[];return t.forEach(i=>{const s=this.Xr(i);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){ht(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return P.forEach(n.mutations,s=>{const r=new Yt(s.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Zr=i})}ir(t){}containsKey(t,n){const i=new Yt(n,0),s=this.Zr.firstAfterOrEqual(i);return P.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,P.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(t){this.ri=t,this.docs=function(){return new xt(F.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,s=this.docs.get(i),r=s?s.size:0,a=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-r,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return P.resolve(i?i.document.mutableCopy():ce.newInvalidDocument(n))}getEntries(t,n){let i=Kn();return n.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():ce.newInvalidDocument(s))}),P.resolve(i)}getDocumentsMatchingQuery(t,n,i,s){let r=Kn();const a=n.path,l=new F(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:d}}=u.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||dC(fC(d),i)<=0||(s.has(d.key)||Ac(n,d))&&(r=r.insert(d.key,d.mutableCopy()))}return P.resolve(r)}getAllFromCollectionGroup(t,n,i,s){Y(9500)}ii(t,n){return P.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new zN(this)}getSize(t){return P.resolve(this.size)}}class zN extends ON{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(t,s)):this.Nr.removeEntry(i)}),P.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(t){this.persistence=t,this.si=new ws(n=>Cm(n),Nm),this.lastRemoteSnapshotVersion=K.min(),this.highestTargetId=0,this.oi=0,this._i=new Pm,this.targetCount=0,this.ai=Nr.ur()}forEachTarget(t,n){return this.si.forEach((i,s)=>n(s)),P.resolve()}getLastRemoteSnapshotVersion(t){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return P.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),P.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Nr(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,P.resolve()}updateTargetData(t,n){return this.Pr(n),P.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(t,n,i){let s=0;const r=[];return this.si.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.si.delete(a),r.push(this.removeMatchingKeysForTargetId(t,l.targetId)),s++)}),P.waitFor(r).next(()=>s)}getTargetCount(t){return P.resolve(this.targetCount)}getTargetData(t,n){const i=this.si.get(n)||null;return P.resolve(i)}addMatchingKeys(t,n,i){return this._i.Wr(n,i),P.resolve()}removeMatchingKeys(t,n,i){this._i.zr(n,i);const s=this.persistence.referenceDelegate,r=[];return s&&n.forEach(a=>{r.push(s.markPotentiallyOrphaned(t,a))}),P.waitFor(r)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),P.resolve()}getMatchingKeysForTargetId(t,n){const i=this._i.Hr(n);return P.resolve(i)}containsKey(t,n){return P.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(t,n){this.ui={},this.overlays={},this.ci=new _c(0),this.li=!1,this.li=!0,this.hi=new UN,this.referenceDelegate=t(this),this.Pi=new BN(this),this.indexManager=new wN,this.remoteDocumentCache=function(s){return new jN(s)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new AN(n),this.Ii=new kN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new PN,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.ui[t.toKey()];return i||(i=new LN(n,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,i){q("MemoryPersistence","Starting transaction:",t);const s=new qN(this.ci.next());return this.referenceDelegate.Ei(),i(s).next(r=>this.referenceDelegate.di(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Ai(t,n){return P.or(Object.values(this.ui).map(i=>()=>i.containsKey(t,n)))}}class qN extends gC{constructor(t){super(),this.currentSequenceNumber=t}}class Um{constructor(t){this.persistence=t,this.Ri=new Pm,this.Vi=null}static mi(t){return new Um(t)}get fi(){if(this.Vi)return this.Vi;throw Y(60996)}addReference(t,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),P.resolve()}removeReference(t,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),P.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),P.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(r=>this.fi.add(r.toString()))}).next(()=>i.removeTargetData(t,n))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.fi,i=>{const s=F.fromPath(i);return this.gi(t,s).next(r=>{r||n.removeEntry(s,K.min())})}).next(()=>(this.Vi=null,n.apply(t)))}updateLimboDocument(t,n){return this.gi(t,n).next(i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(t){return 0}gi(t,n){return P.or([()=>P.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Gu{constructor(t,n){this.persistence=t,this.pi=new ws(i=>_C(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=DN(this,n)}static mi(t,n){return new Gu(t,n)}Ei(){}di(t){return P.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(s=>i+s))}wr(t){let n=0;return this.pr(t,i=>{n++}).next(()=>n)}pr(t,n){return P.forEach(this.pi,(i,s)=>this.br(t,i,s).next(r=>r?P.resolve():n(s)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),r=s.newChangeBuffer();return s.ii(t,a=>this.br(t,a,n).next(l=>{l||(i++,r.removeEntry(a,K.min()))})).next(()=>r.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),P.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.pi.set(i,t.currentSequenceNumber),P.resolve()}removeReference(t,n,i){return this.pi.set(i,t.currentSequenceNumber),P.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),P.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Kl(t.data.value)),n}br(t,n,i){return P.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const s=this.pi.get(n);return P.resolve(s!==void 0&&s>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(t,n,i,s){this.targetId=t,this.fromCache=n,this.Es=i,this.ds=s}static As(t,n){let i=st(),s=st();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new Lm(t,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return _2()?8:pC(de())>0?6:4}()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,i,s){const r={result:null};return this.ys(t,n).next(a=>{r.result=a}).next(()=>{if(!r.result)return this.ws(t,n,s,i).next(a=>{r.result=a})}).next(()=>{if(r.result)return;const a=new HN;return this.Ss(t,n,a).next(l=>{if(r.result=l,this.Vs)return this.bs(t,n,a,l.size)})}).next(()=>r.result)}bs(t,n,i,s){return i.documentReadCount<this.fs?(js()<=nt.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",zs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),P.resolve()):(js()<=nt.DEBUG&&q("QueryEngine","Query:",zs(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.gs*s?(js()<=nt.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",zs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,mn(n))):P.resolve())}ys(t,n){if(E_(n))return P.resolve(null);let i=mn(n);return this.indexManager.getIndexType(t,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=id(n,null,"F"),i=mn(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(r=>{const a=st(...r);return this.ps.getDocuments(t,a).next(l=>this.indexManager.getMinOffset(t,i).next(u=>{const h=this.Ds(n,l);return this.Cs(n,h,a,u.readTime)?this.ys(t,id(n,null,"F")):this.vs(t,h,n,u)}))})))}ws(t,n,i,s){return E_(n)||s.isEqual(K.min())?P.resolve(null):this.ps.getDocuments(t,i).next(r=>{const a=this.Ds(n,r);return this.Cs(n,a,i,s)?P.resolve(null):(js()<=nt.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),zs(n)),this.vs(t,a,n,hC(s,uo)).next(l=>l))})}Ds(t,n){let i=new Ft(g1(t));return n.forEach((s,r)=>{Ac(t,r)&&(i=i.add(r))}),i}Cs(t,n,i,s){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const r=t.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}Ss(t,n,i){return js()<=nt.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",zs(n)),this.ps.getDocumentsMatchingQuery(t,n,ki.min(),i)}vs(t,n,i,s){return this.ps.getDocumentsMatchingQuery(t,i,s).next(r=>(n.forEach(a=>{r=r.insert(a.key,a)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="LocalStore",GN=3e8;class YN{constructor(t,n,i,s){this.persistence=t,this.Fs=n,this.serializer=s,this.Ms=new xt(it),this.xs=new ws(r=>Cm(r),Nm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new VN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ms))}}function QN(e,t,n,i){return new YN(e,t,n,i)}async function j1(e,t){const n=$(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,n.Bs(t),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const a=[],l=[];let u=st();for(const h of s){a.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}for(const h of r){l.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(i,u).next(h=>({Ls:h,removedBatchIds:a,addedBatchIds:l}))})})}function KN(e,t){const n=$(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),r=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,u,h,d){const p=h.batch,m=p.keys();let E=P.resolve();return m.forEach(D=>{E=E.next(()=>d.getEntry(u,D)).next(M=>{const V=h.docVersions.get(D);ht(V!==null,48541),M.version.compareTo(V)<0&&(p.applyToRemoteDocument(M,h),M.isValidDocument()&&(M.setReadTime(h.commitVersion),d.addEntry(M)))})}),E.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(n,i,t,r).next(()=>r.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=st();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(t))).next(()=>n.localDocuments.getDocuments(i,s))})}function z1(e){const t=$(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Pi.getLastRemoteSnapshotVersion(n))}function XN(e,t){const n=$(e),i=t.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const l=[];t.targetChanges.forEach((d,p)=>{const m=s.get(p);if(!m)return;l.push(n.Pi.removeMatchingKeys(r,d.removedDocuments,p).next(()=>n.Pi.addMatchingKeys(r,d.addedDocuments,p)));let E=m.withSequenceNumber(r.currentSequenceNumber);t.targetMismatches.get(p)!==null?E=E.withResumeToken(se.EMPTY_BYTE_STRING,K.min()).withLastLimboFreeSnapshotVersion(K.min()):d.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(d.resumeToken,i)),s=s.insert(p,E),function(M,V,A){return M.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=GN?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(m,E,d)&&l.push(n.Pi.updateTargetData(r,E))});let u=Kn(),h=st();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(r,d))}),l.push($N(r,a,t.documentUpdates).next(d=>{u=d.ks,h=d.qs})),!i.isEqual(K.min())){const d=n.Pi.getLastRemoteSnapshotVersion(r).next(p=>n.Pi.setTargetsMetadata(r,r.currentSequenceNumber,i));l.push(d)}return P.waitFor(l).next(()=>a.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,u,h)).next(()=>u)}).then(r=>(n.Ms=s,r))}function $N(e,t,n){let i=st(),s=st();return n.forEach(r=>i=i.add(r)),t.getEntries(e,i).next(r=>{let a=Kn();return n.forEach((l,u)=>{const h=r.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(l)),u.isNoDocument()&&u.version.isEqual(K.min())?(t.removeEntry(l,u.readTime),a=a.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(t.addEntry(u),a=a.insert(l,u)):q(jm,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{ks:a,qs:s}})}function ZN(e,t){const n=$(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=Rm),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function WN(e,t){const n=$(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.Pi.getTargetData(i,t).next(r=>r?(s=r,P.resolve(s)):n.Pi.allocateTargetId(i).next(a=>(s=new _i(t,a,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.Ms.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(t,i.targetId)),i})}async function ld(e,t,n){const i=$(e),s=i.Ms.get(t),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,a=>i.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!Fr(a))throw a;q(jm,`Failed to update sequence numbers for target ${t}: ${a}`)}i.Ms=i.Ms.remove(t),i.xs.delete(s.target)}function M_(e,t,n){const i=$(e);let s=K.min(),r=st();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,h,d){const p=$(u),m=p.xs.get(d);return m!==void 0?P.resolve(p.Ms.get(m)):p.Pi.getTargetData(h,d)}(i,a,mn(t)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(a,l.targetId).next(u=>{r=u})}).next(()=>i.Fs.getDocumentsMatchingQuery(a,t,n?s:K.min(),n?r:st())).next(l=>(JN(i,LC(t),l),{documents:l,Qs:r})))}function JN(e,t,n){let i=e.Os.get(t)||K.min();n.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),e.Os.set(t,i)}class V_{constructor(){this.activeTargetIds=FC()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class tD{constructor(){this.Mo=new V_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,i){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new V_,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="ConnectivityMonitor";class P_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){q(k_,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){q(k_,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cl=null;function ud(){return Cl===null?Cl=function(){return 268435456+Math.round(2147483648*Math.random())}():Cl++,"0x"+Cl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh="RestConnection",nD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class iD{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${i}/databases/${s}`,this.Wo=this.databaseId.database===Lu?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Go(t,n,i,s,r){const a=ud(),l=this.zo(t,n.toUriEncodedString());q(Hh,`Sending RPC '${t}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,s,r);const{host:h}=new URL(l),d=jr(h);return this.Jo(t,l,u,i,d).then(p=>(q(Hh,`Received RPC '${t}' ${a}: `,p),p),p=>{throw Rr(Hh,`RPC '${t}' ${a} failed with error: `,p,"url: ",l,"request:",i),p})}Ho(t,n,i,s,r,a){return this.Go(t,n,i,s,r)}jo(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qr}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,r)=>t[r]=s),i&&i.headers.forEach((s,r)=>t[r]=s)}zo(t,n){const i=nD[t];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le="WebChannelConnection";class rD extends iD{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,i,s,r){const a=ud();return new Promise((l,u)=>{const h=new FT;h.setWithCredentials(!0),h.listenOnce(GT.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Ql.NO_ERROR:const p=h.getResponseJson();q(le,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(p)),l(p);break;case Ql.TIMEOUT:q(le,`RPC '${t}' ${a} timed out`),u(new H(L.DEADLINE_EXCEEDED,"Request time out"));break;case Ql.HTTP_ERROR:const m=h.getStatus();if(q(le,`RPC '${t}' ${a} failed with status:`,m,"response text:",h.getResponseText()),m>0){let E=h.getResponseJson();Array.isArray(E)&&(E=E[0]);const D=E==null?void 0:E.error;if(D&&D.status&&D.message){const M=function(A){const g=A.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(g)>=0?g:L.UNKNOWN}(D.status);u(new H(M,D.message))}else u(new H(L.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new H(L.UNAVAILABLE,"Connection failed."));break;default:Y(9055,{l_:t,streamId:a,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{q(le,`RPC '${t}' ${a} completed.`)}});const d=JSON.stringify(s);q(le,`RPC '${t}' ${a} sending request:`,s),h.send(n,"POST",d,i,15)})}T_(t,n,i){const s=ud(),r=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=KT(),l=QT(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const d=r.join("");q(le,`Creating RPC '${t}' stream ${s}: ${d}`,u);const p=a.createWebChannel(d,u);this.I_(p);let m=!1,E=!1;const D=new sD({Yo:V=>{E?q(le,`Not sending because RPC '${t}' stream ${s} is closed:`,V):(m||(q(le,`Opening RPC '${t}' stream ${s} transport.`),p.open(),m=!0),q(le,`RPC '${t}' stream ${s} sending:`,V),p.send(V))},Zo:()=>p.close()}),M=(V,A,g)=>{V.listen(A,T=>{try{g(T)}catch(R){setTimeout(()=>{throw R},0)}})};return M(p,va.EventType.OPEN,()=>{E||(q(le,`RPC '${t}' stream ${s} transport opened.`),D.o_())}),M(p,va.EventType.CLOSE,()=>{E||(E=!0,q(le,`RPC '${t}' stream ${s} transport closed`),D.a_(),this.E_(p))}),M(p,va.EventType.ERROR,V=>{E||(E=!0,Rr(le,`RPC '${t}' stream ${s} transport errored. Name:`,V.name,"Message:",V.message),D.a_(new H(L.UNAVAILABLE,"The operation could not be completed")))}),M(p,va.EventType.MESSAGE,V=>{var A;if(!E){const g=V.data[0];ht(!!g,16349);const T=g,R=(T==null?void 0:T.error)||((A=T[0])==null?void 0:A.error);if(R){q(le,`RPC '${t}' stream ${s} received error:`,R);const k=R.status;let j=function(b){const w=Ut[b];if(w!==void 0)return I1(w)}(k),S=R.message;j===void 0&&(j=L.INTERNAL,S="Unknown error status: "+k+" with message "+R.message),E=!0,D.a_(new H(j,S)),p.close()}else q(le,`RPC '${t}' stream ${s} received:`,g),D.u_(g)}}),M(l,YT.STAT_EVENT,V=>{V.stat===Zf.PROXY?q(le,`RPC '${t}' stream ${s} detected buffering proxy`):V.stat===Zf.NOPROXY&&q(le,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{D.__()},0),D}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(n=>n===t)}}function Fh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(e){return new uN(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(t,n,i=1e3,s=1.5,r=6e4){this.Mi=t,this.timerId=n,this.d_=i,this.A_=s,this.R_=r,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-i);s>0&&q("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="PersistentStream";class q1{constructor(t,n,i,s,r,a,l,u){this.Mi=t,this.S_=i,this.b_=s,this.connection=r,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new B1(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(Qn(n.toString()),Qn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.D_===n&&this.G_(i,s)},i=>{t(()=>{const s=new H(L.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)})})}G_(t,n){const i=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{i(()=>this.z_(s))}),this.stream.onMessage(s=>{i(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return q(U_,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget(()=>this.D_===t?n():(q(U_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aD extends q1{constructor(t,n,i,s,r,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,a),this.serializer=r}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=fN(this.serializer,t),i=function(r){if(!("targetChange"in r))return K.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?K.min():a.readTime?gn(a.readTime):K.min()}(t);return this.listener.H_(n,i)}Y_(t){const n={};n.database=od(this.serializer),n.addTarget=function(r,a){let l;const u=a.target;if(l=nd(u)?{documents:gN(r,u)}:{query:pN(r,u).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=N1(r,a.resumeToken);const h=sd(r,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo(K.min())>0){l.readTime=Fu(r,a.snapshotVersion.toTimestamp());const h=sd(r,a.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,t);const i=_N(this.serializer,t);i&&(n.labels=i),this.q_(n)}Z_(t){const n={};n.database=od(this.serializer),n.removeTarget=t,this.q_(n)}}class oD extends q1{constructor(t,n,i,s,r,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,a),this.serializer=r}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=mN(t.writeResults,t.commitTime),i=gn(t.commitTime);return this.listener.na(i,n)}ra(){const t={};t.database=od(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>dN(this.serializer,i))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{}class uD extends lD{constructor(t,n,i,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new H(L.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.Go(t,rd(n,i),s,r,a)).catch(r=>{throw r.name==="FirebaseError"?(r.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new H(L.UNKNOWN,r.toString())})}Ho(t,n,i,s,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Ho(t,rd(n,i),s,a,l,r)).catch(a=>{throw a.name==="FirebaseError"?(a.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new H(L.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class cD{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Qn(n),this.aa=!1):q("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="RemoteStore";class hD{constructor(t,n,i,s,r){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=r,this.Aa.Oo(a=>{i.enqueueAndForget(async()=>{Is(this)&&(q(_s,"Restarting streams for network reachability change."),await async function(u){const h=$(u);h.Ea.add(4),await qo(h),h.Ra.set("Unknown"),h.Ea.delete(4),await xc(h)}(this))})}),this.Ra=new cD(i,s)}}async function xc(e){if(Is(e))for(const t of e.da)await t(!0)}async function qo(e){for(const t of e.da)await t(!1)}function H1(e,t){const n=$(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Hm(n)?qm(n):Gr(n).O_()&&Bm(n,t))}function zm(e,t){const n=$(e),i=Gr(n);n.Ia.delete(t),i.O_()&&F1(n,t),n.Ia.size===0&&(i.O_()?i.L_():Is(n)&&n.Ra.set("Unknown"))}function Bm(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(K.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Gr(e).Y_(t)}function F1(e,t){e.Va.Ue(t),Gr(e).Z_(t)}function qm(e){e.Va=new rN({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Gr(e).start(),e.Ra.ua()}function Hm(e){return Is(e)&&!Gr(e).x_()&&e.Ia.size>0}function Is(e){return $(e).Ea.size===0}function G1(e){e.Va=void 0}async function fD(e){e.Ra.set("Online")}async function dD(e){e.Ia.forEach((t,n)=>{Bm(e,t)})}async function mD(e,t){G1(e),Hm(e)?(e.Ra.ha(t),qm(e)):e.Ra.set("Unknown")}async function gD(e,t,n){if(e.Ra.set("Online"),t instanceof C1&&t.state===2&&t.cause)try{await async function(s,r){const a=r.cause;for(const l of r.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.Ia.delete(l),s.Va.removeTarget(l))}(e,t)}catch(i){q(_s,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Yu(e,i)}else if(t instanceof Zl?e.Va.Ze(t):t instanceof x1?e.Va.st(t):e.Va.tt(t),!n.isEqual(K.min()))try{const i=await z1(e.localStore);n.compareTo(i)>=0&&await function(r,a){const l=r.Va.Tt(a);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const d=r.Ia.get(h);d&&r.Ia.set(h,d.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,h)=>{const d=r.Ia.get(u);if(!d)return;r.Ia.set(u,d.withResumeToken(se.EMPTY_BYTE_STRING,d.snapshotVersion)),F1(r,u);const p=new _i(d.target,u,h,d.sequenceNumber);Bm(r,p)}),r.remoteSyncer.applyRemoteEvent(l)}(e,n)}catch(i){q(_s,"Failed to raise snapshot:",i),await Yu(e,i)}}async function Yu(e,t,n){if(!Fr(t))throw t;e.Ea.add(1),await qo(e),e.Ra.set("Offline"),n||(n=()=>z1(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{q(_s,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await xc(e)})}function Y1(e,t){return t().catch(n=>Yu(e,n,t))}async function Cc(e){const t=$(e),n=ji(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Rm;for(;pD(t);)try{const s=await ZN(t.localStore,i);if(s===null){t.Ta.length===0&&n.L_();break}i=s.batchId,yD(t,s)}catch(s){await Yu(t,s)}Q1(t)&&K1(t)}function pD(e){return Is(e)&&e.Ta.length<10}function yD(e,t){e.Ta.push(t);const n=ji(e);n.O_()&&n.X_&&n.ea(t.mutations)}function Q1(e){return Is(e)&&!ji(e).x_()&&e.Ta.length>0}function K1(e){ji(e).start()}async function _D(e){ji(e).ra()}async function vD(e){const t=ji(e);for(const n of e.Ta)t.ea(n.mutations)}async function ED(e,t,n){const i=e.Ta.shift(),s=Mm.from(i,t,n);await Y1(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await Cc(e)}async function TD(e,t){t&&ji(e).X_&&await async function(i,s){if(function(a){return nN(a)&&a!==L.ABORTED}(s.code)){const r=i.Ta.shift();ji(i).B_(),await Y1(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,s)),await Cc(i)}}(e,t),Q1(e)&&K1(e)}async function L_(e,t){const n=$(e);n.asyncQueue.verifyOperationInProgress(),q(_s,"RemoteStore received new credentials");const i=Is(n);n.Ea.add(3),await qo(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await xc(n)}async function SD(e,t){const n=$(e);t?(n.Ea.delete(2),await xc(n)):t||(n.Ea.add(2),await qo(n),n.Ra.set("Unknown"))}function Gr(e){return e.ma||(e.ma=function(n,i,s){const r=$(n);return r.sa(),new aD(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(e.datastore,e.asyncQueue,{Xo:fD.bind(null,e),t_:dD.bind(null,e),r_:mD.bind(null,e),H_:gD.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),Hm(e)?qm(e):e.Ra.set("Unknown")):(await e.ma.stop(),G1(e))})),e.ma}function ji(e){return e.fa||(e.fa=function(n,i,s){const r=$(n);return r.sa(),new oD(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:_D.bind(null,e),r_:TD.bind(null,e),ta:vD.bind(null,e),na:ED.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await Cc(e)):(await e.fa.stop(),e.Ta.length>0&&(q(_s,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(t,n,i,s,r){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new Di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,s,r){const a=Date.now()+i,l=new Fm(t,n,a,s,r);return l.start(i),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(L.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gm(e,t){if(Qn("AsyncQueue",`${t}: ${e}`),Fr(e))return new H(L.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{static emptySet(t){return new dr(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||F.comparator(n.key,i.key):(n,i)=>F.comparator(n.key,i.key),this.keyedMap=Ea(),this.sortedSet=new xt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof dr)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new dr;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(){this.ga=new xt(F.comparator)}track(t){const n=t.doc.key,i=this.ga.get(n);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(n,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(n):t.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Y(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,i)=>{t.push(i)}),t}}class Dr{constructor(t,n,i,s,r,a,l,u,h){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(t,n,i,s,r){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Dr(t,n,dr.emptySet(n),a,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Sc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class bD{constructor(){this.queries=z_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const s=$(n),r=s.queries;s.queries=z_(),r.forEach((a,l)=>{for(const u of l.Sa)u.onError(i)})})(this,new H(L.ABORTED,"Firestore shutting down"))}}function z_(){return new ws(e=>m1(e),Sc)}async function wD(e,t){const n=$(e);let i=3;const s=t.query;let r=n.queries.get(s);r?!r.ba()&&t.Da()&&(i=2):(r=new AD,i=t.Da()?0:1);try{switch(i){case 0:r.wa=await n.onListen(s,!0);break;case 1:r.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const l=Gm(a,`Initialization of query '${zs(t.query)}' failed`);return void t.onError(l)}n.queries.set(s,r),r.Sa.push(t),t.va(n.onlineState),r.wa&&t.Fa(r.wa)&&Ym(n)}async function RD(e,t){const n=$(e),i=t.query;let s=3;const r=n.queries.get(i);if(r){const a=r.Sa.indexOf(t);a>=0&&(r.Sa.splice(a,1),r.Sa.length===0?s=t.Da()?0:1:!r.ba()&&t.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function ID(e,t){const n=$(e);let i=!1;for(const s of t){const r=s.query,a=n.queries.get(r);if(a){for(const l of a.Sa)l.Fa(s)&&(i=!0);a.wa=s}}i&&Ym(n)}function xD(e,t,n){const i=$(e),s=i.queries.get(t);if(s)for(const r of s.Sa)r.onError(n);i.queries.delete(t)}function Ym(e){e.Ca.forEach(t=>{t.next()})}var cd,B_;(B_=cd||(cd={})).Ma="default",B_.Cache="cache";class CD{constructor(t,n,i){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new Dr(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Dr.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==cd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(t){this.key=t}}class $1{constructor(t){this.key=t}}class ND{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=st(),this.mutatedKeys=st(),this.eu=g1(t),this.tu=new dr(this.eu)}get nu(){return this.Ya}ru(t,n){const i=n?n.iu:new j_,s=n?n.tu:this.tu;let r=n?n.mutatedKeys:this.mutatedKeys,a=s,l=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((d,p)=>{const m=s.get(d),E=Ac(this.query,p)?p:null,D=!!m&&this.mutatedKeys.has(m.key),M=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let V=!1;m&&E?m.data.isEqual(E.data)?D!==M&&(i.track({type:3,doc:E}),V=!0):this.su(m,E)||(i.track({type:2,doc:E}),V=!0,(u&&this.eu(E,u)>0||h&&this.eu(E,h)<0)&&(l=!0)):!m&&E?(i.track({type:0,doc:E}),V=!0):m&&!E&&(i.track({type:1,doc:m}),V=!0,(u||h)&&(l=!0)),V&&(E?(a=a.add(E),r=M?r.add(d):r.delete(d)):(a=a.delete(d),r=r.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),r=r.delete(d.key),i.track({type:1,doc:d})}return{tu:a,iu:i,Cs:l,mutatedKeys:r}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,s){const r=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const a=t.iu.ya();a.sort((d,p)=>function(E,D){const M=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y(20277,{Rt:V})}};return M(E)-M(D)}(d.type,p.type)||this.eu(d.doc,p.doc)),this.ou(i),s=s??!1;const l=n&&!s?this._u():[],u=this.Xa.size===0&&this.current&&!s?1:0,h=u!==this.Za;return this.Za=u,a.length!==0||h?{snapshot:new Dr(this.query,t.tu,r,a,t.mutatedKeys,u===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new j_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=st(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const n=[];return t.forEach(i=>{this.Xa.has(i)||n.push(new $1(i))}),this.Xa.forEach(i=>{t.has(i)||n.push(new X1(i))}),n}cu(t){this.Ya=t.Qs,this.Xa=st();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Dr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Qm="SyncEngine";class DD{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class OD{constructor(t){this.key=t,this.hu=!1}}class MD{constructor(t,n,i,s,r,a){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new ws(l=>m1(l),Sc),this.Iu=new Map,this.Eu=new Set,this.du=new xt(F.comparator),this.Au=new Map,this.Ru=new Pm,this.Vu={},this.mu=new Map,this.fu=Nr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function VD(e,t,n=!0){const i=nS(e);let s;const r=i.Tu.get(t);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),s=r.view.lu()):s=await Z1(i,t,n,!0),s}async function kD(e,t){const n=nS(e);await Z1(n,t,!0,!1)}async function Z1(e,t,n,i){const s=await WN(e.localStore,mn(t)),r=s.targetId,a=e.sharedClientState.addLocalQueryTarget(r,n);let l;return i&&(l=await PD(e,t,r,a==="current",s.resumeToken)),e.isPrimaryClient&&n&&H1(e.remoteStore,s),l}async function PD(e,t,n,i,s){e.pu=(p,m,E)=>async function(M,V,A,g){let T=V.view.ru(A);T.Cs&&(T=await M_(M.localStore,V.query,!1).then(({documents:S})=>V.view.ru(S,T)));const R=g&&g.targetChanges.get(V.targetId),k=g&&g.targetMismatches.get(V.targetId)!=null,j=V.view.applyChanges(T,M.isPrimaryClient,R,k);return H_(M,V.targetId,j.au),j.snapshot}(e,p,m,E);const r=await M_(e.localStore,t,!0),a=new ND(t,r.Qs),l=a.ru(r.documents),u=Bo.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",s),h=a.applyChanges(l,e.isPrimaryClient,u);H_(e,n,h.au);const d=new DD(t,n,a);return e.Tu.set(t,d),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),h.snapshot}async function UD(e,t,n){const i=$(e),s=i.Tu.get(t),r=i.Iu.get(s.targetId);if(r.length>1)return i.Iu.set(s.targetId,r.filter(a=>!Sc(a,t))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await ld(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&zm(i.remoteStore,s.targetId),hd(i,s.targetId)}).catch(Hr)):(hd(i,s.targetId),await ld(i.localStore,s.targetId,!0))}async function LD(e,t){const n=$(e),i=n.Tu.get(t),s=n.Iu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),zm(n.remoteStore,i.targetId))}async function jD(e,t,n){const i=YD(e);try{const s=await function(a,l){const u=$(a),h=Tt.now(),d=l.reduce((E,D)=>E.add(D.key),st());let p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",E=>{let D=Kn(),M=st();return u.Ns.getEntries(E,d).next(V=>{D=V,D.forEach((A,g)=>{g.isValidDocument()||(M=M.add(A))})}).next(()=>u.localDocuments.getOverlayedDocuments(E,D)).next(V=>{p=V;const A=[];for(const g of l){const T=ZC(g,p.get(g.key).overlayedDocument);T!=null&&A.push(new Rs(g.key,T,o1(T.value.mapValue),zn.exists(!0)))}return u.mutationQueue.addMutationBatch(E,h,A,l)}).next(V=>{m=V;const A=V.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(E,V.batchId,A)})}).then(()=>({batchId:m.batchId,changes:y1(p)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(a,l,u){let h=a.Vu[a.currentUser.toKey()];h||(h=new xt(it)),h=h.insert(l,u),a.Vu[a.currentUser.toKey()]=h}(i,s.batchId,n),await Ho(i,s.changes),await Cc(i.remoteStore)}catch(s){const r=Gm(s,"Failed to persist write");n.reject(r)}}async function W1(e,t){const n=$(e);try{const i=await XN(n.localStore,t);t.targetChanges.forEach((s,r)=>{const a=n.Au.get(r);a&&(ht(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.hu=!0:s.modifiedDocuments.size>0?ht(a.hu,14607):s.removedDocuments.size>0&&(ht(a.hu,42227),a.hu=!1))}),await Ho(n,i,t)}catch(i){await Hr(i)}}function q_(e,t,n){const i=$(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Tu.forEach((r,a)=>{const l=a.view.va(t);l.snapshot&&s.push(l.snapshot)}),function(a,l){const u=$(a);u.onlineState=l;let h=!1;u.queries.forEach((d,p)=>{for(const m of p.Sa)m.va(l)&&(h=!0)}),h&&Ym(u)}(i.eventManager,t),s.length&&i.Pu.H_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function zD(e,t,n){const i=$(e);i.sharedClientState.updateQueryState(t,"rejected",n);const s=i.Au.get(t),r=s&&s.key;if(r){let a=new xt(F.comparator);a=a.insert(r,ce.newNoDocument(r,K.min()));const l=st().add(r),u=new Rc(K.min(),new Map,new xt(it),a,l);await W1(i,u),i.du=i.du.remove(r),i.Au.delete(t),Km(i)}else await ld(i.localStore,t,!1).then(()=>hd(i,t,n)).catch(Hr)}async function BD(e,t){const n=$(e),i=t.batch.batchId;try{const s=await KN(n.localStore,t);tS(n,i,null),J1(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Ho(n,s)}catch(s){await Hr(s)}}async function qD(e,t,n){const i=$(e);try{const s=await function(a,l){const u=$(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return u.mutationQueue.lookupMutationBatch(h,l).next(p=>(ht(p!==null,37113),d=p.keys(),u.mutationQueue.removeMutationBatch(h,p))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>u.localDocuments.getDocuments(h,d))})}(i.localStore,t);tS(i,t,n),J1(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await Ho(i,s)}catch(s){await Hr(s)}}function J1(e,t){(e.mu.get(t)||[]).forEach(n=>{n.resolve()}),e.mu.delete(t)}function tS(e,t,n){const i=$(e);let s=i.Vu[i.currentUser.toKey()];if(s){const r=s.get(t);r&&(n?r.reject(n):r.resolve(),s=s.remove(t)),i.Vu[i.currentUser.toKey()]=s}}function hd(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Iu.get(t))e.Tu.delete(i),n&&e.Pu.yu(i,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(i=>{e.Ru.containsKey(i)||eS(e,i)})}function eS(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(zm(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),Km(e))}function H_(e,t,n){for(const i of n)i instanceof X1?(e.Ru.addReference(i.key,t),HD(e,i)):i instanceof $1?(q(Qm,"Document no longer in limbo: "+i.key),e.Ru.removeReference(i.key,t),e.Ru.containsKey(i.key)||eS(e,i.key)):Y(19791,{wu:i})}function HD(e,t){const n=t.key,i=n.path.canonicalString();e.du.get(n)||e.Eu.has(i)||(q(Qm,"New document in limbo: "+n),e.Eu.add(i),Km(e))}function Km(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new F(It.fromString(t)),i=e.fu.next();e.Au.set(i,new OD(n)),e.du=e.du.insert(n,i),H1(e.remoteStore,new _i(mn(Dm(n.path)),i,"TargetPurposeLimboResolution",_c.ce))}}async function Ho(e,t,n){const i=$(e),s=[],r=[],a=[];i.Tu.isEmpty()||(i.Tu.forEach((l,u)=>{a.push(i.pu(u,t,n).then(h=>{var d;if((h||n)&&i.isPrimaryClient){const p=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:d.current;i.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(h){s.push(h);const p=Lm.As(u.targetId,h);r.push(p)}}))}),await Promise.all(a),i.Pu.H_(s),await async function(u,h){const d=$(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(h,m=>P.forEach(m.Es,E=>d.persistence.referenceDelegate.addReference(p,m.targetId,E)).next(()=>P.forEach(m.ds,E=>d.persistence.referenceDelegate.removeReference(p,m.targetId,E)))))}catch(p){if(!Fr(p))throw p;q(jm,"Failed to update sequence numbers: "+p)}for(const p of h){const m=p.targetId;if(!p.fromCache){const E=d.Ms.get(m),D=E.snapshotVersion,M=E.withLastLimboFreeSnapshotVersion(D);d.Ms=d.Ms.insert(m,M)}}}(i.localStore,r))}async function FD(e,t){const n=$(e);if(!n.currentUser.isEqual(t)){q(Qm,"User change. New user:",t.toKey());const i=await j1(n.localStore,t);n.currentUser=t,function(r,a){r.mu.forEach(l=>{l.forEach(u=>{u.reject(new H(L.CANCELLED,a))})}),r.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Ho(n,i.Ls)}}function GD(e,t){const n=$(e),i=n.Au.get(t);if(i&&i.hu)return st().add(i.key);{let s=st();const r=n.Iu.get(t);if(!r)return s;for(const a of r){const l=n.Tu.get(a);s=s.unionWith(l.view.nu)}return s}}function nS(e){const t=$(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=W1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=GD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=zD.bind(null,t),t.Pu.H_=ID.bind(null,t.eventManager),t.Pu.yu=xD.bind(null,t.eventManager),t}function YD(e){const t=$(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=BD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=qD.bind(null,t),t}class Qu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ic(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return QN(this.persistence,new FN,t.initialUser,this.serializer)}Cu(t){return new L1(Um.mi,this.serializer)}Du(t){return new tD}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qu.provider={build:()=>new Qu};class QD extends Qu{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){ht(this.persistence.referenceDelegate instanceof Gu,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new CN(i,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Se.withCacheSize(this.cacheSizeBytes):Se.DEFAULT;return new L1(i=>Gu.mi(i,n),this.serializer)}}class fd{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>q_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=FD.bind(null,this.syncEngine),await SD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new bD}()}createDatastore(t){const n=Ic(t.databaseInfo.databaseId),i=function(r){return new rD(r)}(t.databaseInfo);return function(r,a,l,u){return new uD(r,a,l,u)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,s,r,a,l){return new hD(i,s,r,a,l)}(this.localStore,this.datastore,t.asyncQueue,n=>q_(this.syncEngine,n,0),function(){return P_.v()?new P_:new eD}())}createSyncEngine(t,n){return function(s,r,a,l,u,h,d){const p=new MD(s,r,a,l,u,h);return d&&(p.gu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(s){const r=$(s);q(_s,"RemoteStore shutting down."),r.Ea.add(5),await qo(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}fd.provider={build:()=>new fd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Qn("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi="FirestoreClient";class XD{constructor(t,n,i,s,r){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=ue.UNAUTHENTICATED,this.clientId=bm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(i,async a=>{q(zi,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(q(zi,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=Gm(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Gh(e,t){e.asyncQueue.verifyOperationInProgress(),q(zi,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async s=>{i.isEqual(s)||(await j1(t.localStore,s),i=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function F_(e,t){e.asyncQueue.verifyOperationInProgress();const n=await $D(e);q(zi,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>L_(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>L_(t.remoteStore,s)),e._onlineComponents=t}async function $D(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){q(zi,"Using user provided OfflineComponentProvider");try{await Gh(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(s){return s.name==="FirebaseError"?s.code===L.FAILED_PRECONDITION||s.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Rr("Error using user provided cache. Falling back to memory cache: "+n),await Gh(e,new Qu)}}else q(zi,"Using default OfflineComponentProvider"),await Gh(e,new QD(void 0));return e._offlineComponents}async function iS(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(q(zi,"Using user provided OnlineComponentProvider"),await F_(e,e._uninitializedComponentsProvider._online)):(q(zi,"Using default OnlineComponentProvider"),await F_(e,new fd))),e._onlineComponents}function ZD(e){return iS(e).then(t=>t.syncEngine)}async function WD(e){const t=await iS(e),n=t.eventManager;return n.onListen=VD.bind(null,t.syncEngine),n.onUnlisten=UD.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=kD.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=LD.bind(null,t.syncEngine),n}function JD(e,t,n={}){const i=new Di;return e.asyncQueue.enqueueAndForget(async()=>function(r,a,l,u,h){const d=new KD({next:m=>{d.Nu(),a.enqueueAndForget(()=>RD(r,p));const E=m.docs.has(l);!E&&m.fromCache?h.reject(new H(L.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&m.fromCache&&u&&u.source==="server"?h.reject(new H(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(m)},error:m=>h.reject(m)}),p=new CD(Dm(l.path),d,{includeMetadataChanges:!0,qa:!0});return wD(r,p)}(await WD(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="firestore.googleapis.com",Y_=!0;class Q_{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new H(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rS,this.ssl=Y_}else this.host=t.host,this.ssl=t.ssl??Y_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=U1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<IN)throw new H(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}cC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sS(t.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new H(L.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new H(L.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new H(L.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Xm{constructor(t,n,i,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Q_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new H(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Q_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Jx;switch(i.type){case"firstParty":return new iC(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new H(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=G_.get(n);i&&(q("ComponentProvider","Removing Datastore"),G_.delete(n),i.terminate())}(this),Promise.resolve()}}function t4(e,t,n,i={}){var h;e=lo(e,Xm);const s=jr(t),r=e._getSettings(),a={...r,emulatorOptions:e._getEmulatorOptions()},l=`${t}:${n}`;s&&(eT(`https://${l}`),nT("Firestore",!0)),r.host!==rS&&r.host!==l&&Rr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...r,host:l,ssl:s,emulatorOptions:i};if(!ds(u,a)&&(e._setSettings(u),i.mockUserToken)){let d,p;if(typeof i.mockUserToken=="string")d=i.mockUserToken,p=ue.MOCK_USER;else{d=u2(i.mockUserToken,(h=e._app)==null?void 0:h.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new H(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ue(m)}e._authCredentials=new tC(new $T(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new $m(this.firestore,t,this._query)}}class $t{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new po(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new $t(this.firestore,t,this._key)}toJSON(){return{type:$t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,i){if(jo(n,$t._jsonSchema))return new $t(t,i||null,new F(It.fromString(n.referencePath)))}}$t._jsonSchemaVersion="firestore/documentReference/1.0",$t._jsonSchema={type:jt("string",$t._jsonSchemaVersion),referencePath:jt("string")};class po extends $m{constructor(t,n,i){super(t,n,Dm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new $t(this.firestore,null,new F(t))}withConverter(t){return new po(this.firestore,t,this._path)}}function Zm(e,t,...n){if(e=Pe(e),arguments.length===1&&(t=bm.newId()),uC("doc","path",t),e instanceof Xm){const i=It.fromString(t,...n);return o_(i),new $t(e,null,new F(i))}{if(!(e instanceof $t||e instanceof po))throw new H(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(It.fromString(t,...n));return o_(i),new $t(e.firestore,e instanceof po?e.converter:null,new F(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_="AsyncQueue";class X_{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new B1(this,"async_queue_retry"),this._c=()=>{const i=Fh();i&&q(K_,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const n=Fh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Fh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Di;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Fr(t))throw t;q(K_,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(i=>{throw this.nc=i,this.rc=!1,Qn("INTERNAL UNHANDLED ERROR: ",$_(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(t,n,i){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const s=Fm.createAndSchedule(this,t,n,i,r=>this.hc(r));return this.tc.push(s),s}uc(){this.nc&&Y(47125,{Pc:$_(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function $_(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class Wm extends Xm{constructor(t,n,i,s){super(t,n,i,s),this.type="firestore",this._queue=new X_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new X_(t),this._firestoreClient=void 0,await t}}}function e4(e,t){const n=typeof e=="object"?e:aT(),i=typeof e=="string"?e:Lu,s=mm(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=o2("firestore");r&&t4(s,...r)}return s}function aS(e){if(e._terminated)throw new H(L.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||n4(e),e._firestoreClient}function n4(e){var i,s,r;const t=e._freezeSettings(),n=function(l,u,h,d){return new TC(l,u,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,sS(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(e._databaseId,((i=e._app)==null?void 0:i.options.appId)||"",e._persistenceKey,t);e._componentsProvider||(s=t.localCache)!=null&&s._offlineComponentProvider&&((r=t.localCache)!=null&&r._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new XD(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ge(se.fromBase64String(t))}catch(n){throw new H(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ge(se.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ge._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(jo(t,Ge._jsonSchema))return Ge.fromBase64String(t.bytes)}}Ge._jsonSchemaVersion="firestore/bytes/1.0",Ge._jsonSchema={type:jt("string",Ge._jsonSchemaVersion),bytes:jt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new H(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ne(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new H(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new H(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return it(this._lat,t._lat)||it(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:pn._jsonSchemaVersion}}static fromJSON(t){if(jo(t,pn._jsonSchema))return new pn(t.latitude,t.longitude)}}pn._jsonSchemaVersion="firestore/geoPoint/1.0",pn._jsonSchema={type:jt("string",pn._jsonSchemaVersion),latitude:jt("number"),longitude:jt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,s){if(i.length!==s.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==s[r])return!1;return!0}(this._values,t._values)}toJSON(){return{type:yn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(jo(t,yn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new yn(t.vectorValues);throw new H(L.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}yn._jsonSchemaVersion="firestore/vectorValue/1.0",yn._jsonSchema={type:jt("string",yn._jsonSchemaVersion),vectorValues:jt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=/^__.*__$/;class s4{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new Rs(t,this.data,this.fieldMask,n,this.fieldTransforms):new zo(t,this.data,n,this.fieldTransforms)}}function lS(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y(40011,{Ac:e})}}class tg{constructor(t,n,i,s,r,a){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,r===void 0&&this.Rc(),this.fieldTransforms=r||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new tg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var s;const n=(s=this.path)==null?void 0:s.child(t),i=this.Vc({path:n,fc:!1});return i.gc(t),i}yc(t){var s;const n=(s=this.path)==null?void 0:s.child(t),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Ku(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(lS(this.Ac)&&i4.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class r4{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||Ic(t)}Cc(t,n,i,s=!1){return new tg({Ac:t,methodName:n,Dc:i,path:ne.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function a4(e){const t=e._freezeSettings(),n=Ic(e._databaseId);return new r4(e._databaseId,!!t.ignoreUndefinedProperties,n)}function o4(e,t,n,i,s,r={}){const a=e.Cc(r.merge||r.mergeFields?2:0,t,n,s);fS("Data must be an object, but it was:",a,i);const l=cS(i,a);let u,h;if(r.merge)u=new Je(a.fieldMask),h=a.fieldTransforms;else if(r.mergeFields){const d=[];for(const p of r.mergeFields){const m=l4(t,p,n);if(!a.contains(m))throw new H(L.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);c4(d,m)||d.push(m)}u=new Je(d),h=a.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,h=a.fieldTransforms;return new s4(new Fe(l),u,h)}function uS(e,t){if(hS(e=Pe(e)))return fS("Unsupported field value:",t,e),cS(e,t);if(e instanceof oS)return function(i,s){if(!lS(s.Ac))throw s.Sc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(i,s){const r=[];let a=0;for(const l of i){let u=uS(l,s.wc(a));u==null&&(u={nullValue:"NULL_VALUE"}),r.push(u),a++}return{arrayValue:{values:r}}}(e,t)}return function(i,s){if((i=Pe(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return GC(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=Tt.fromDate(i);return{timestampValue:Fu(s.serializer,r)}}if(i instanceof Tt){const r=new Tt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Fu(s.serializer,r)}}if(i instanceof pn)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ge)return{bytesValue:N1(s.serializer,i._byteString)};if(i instanceof $t){const r=s.databaseId,a=i.firestore._databaseId;if(!a.isEqual(r))throw s.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:km(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof yn)return function(a,l){return{mapValue:{fields:{[r1]:{stringValue:a1},[ju]:{arrayValue:{values:a.toArray().map(h=>{if(typeof h!="number")throw l.Sc("VectorValues must only contain numeric values.");return Om(l.serializer,h)})}}}}}}(i,s);throw s.Sc(`Unsupported field value: ${wm(i)}`)}(e,t)}function cS(e,t){const n={};return JT(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):bs(e,(i,s)=>{const r=uS(s,t.mc(i));r!=null&&(n[i]=r)}),{mapValue:{fields:n}}}function hS(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Tt||e instanceof pn||e instanceof Ge||e instanceof $t||e instanceof oS||e instanceof yn)}function fS(e,t,n){if(!hS(n)||!ZT(n)){const i=wm(n);throw i==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+i)}}function l4(e,t,n){if((t=Pe(t))instanceof Jm)return t._internalPath;if(typeof t=="string")return dS(e,t);throw Ku("Field path arguments must be of type string or ",e,!1,void 0,n)}const u4=new RegExp("[~\\*/\\[\\]]");function dS(e,t,n){if(t.search(u4)>=0)throw Ku(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Jm(...t.split("."))._internalPath}catch{throw Ku(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Ku(e,t,n,i,s){const r=i&&!i.isEmpty(),a=s!==void 0;let l=`Function ${t}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(r||a)&&(u+=" (found",r&&(u+=` in field ${i}`),a&&(u+=` in document ${s}`),u+=")"),new H(L.INVALID_ARGUMENT,l+e+u)}function c4(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(t,n,i,s,r){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new $t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new h4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(gS("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class h4 extends mS{data(){return super.data()}}function gS(e,t){return typeof t=="string"?dS(e,t):t instanceof Jm?t._internalPath:t._delegate._internalPath}class f4{convertValue(t,n="none"){switch(Li(t)){case 0:return null;case 1:return t.booleanValue;case 2:return kt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ui(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Y(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return bs(t,(s,r)=>{i[s]=this.convertValue(r,n)}),i}convertVectorValue(t){var i,s,r;const n=(r=(s=(i=t.fields)==null?void 0:i[ju].arrayValue)==null?void 0:s.values)==null?void 0:r.map(a=>kt(a.doubleValue));return new yn(n)}convertGeoPoint(t){return new pn(kt(t.latitude),kt(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=Ec(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(co(t));default:return null}}convertTimestamp(t){const n=Pi(t);return new Tt(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=It.fromString(t);ht(P1(i),9688,{name:t});const s=new ho(i.get(1),i.get(3)),r=new F(i.popFirst(5));return s.isEqual(n)||Qn(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(e,t,n){let i;return i=e?e.toFirestore(t):t,i}class Sa{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ls extends mS{constructor(t,n,i,s,r,a){super(t,n,i,s,a),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Wl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(gS("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new H(L.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=ls._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ls._jsonSchemaVersion="firestore/documentSnapshot/1.0",ls._jsonSchema={type:jt("string",ls._jsonSchemaVersion),bundleSource:jt("string","DocumentSnapshot"),bundleName:jt("string"),bundle:jt("string")};class Wl extends ls{data(t={}){return super.data(t)}}class Fa{constructor(t,n,i,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new Sa(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new Wl(this._firestore,this._userDataWriter,i.key,i,new Sa(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const u=new Wl(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Sa(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>r||l.type!==3).map(l=>{const u=new Wl(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Sa(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,d=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:m4(l.type),doc:u,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new H(L.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Fa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=bm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],s=[];return this.docs.forEach(r=>{r._document!==null&&(n.push(r._document),i.push(this._userDataWriter.convertObjectMap(r._document.data.value.mapValue.fields,"previous")),s.push(r.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function m4(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(e){e=lo(e,$t);const t=lo(e.firestore,Wm);return JD(aS(t),e._key).then(n=>_4(t,e,n))}Fa._jsonSchemaVersion="firestore/querySnapshot/1.0",Fa._jsonSchema={type:jt("string",Fa._jsonSchemaVersion),bundleSource:jt("string","QuerySnapshot"),bundleName:jt("string"),bundle:jt("string")};class p4 extends f4{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ge(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new $t(this.firestore,null,n)}}function pS(e,t,n){e=lo(e,$t);const i=lo(e.firestore,Wm),s=d4(e.converter,t);return y4(i,[o4(a4(i),"setDoc",e._key,s,e.converter!==null,n).toMutation(e._key,zn.none())])}function y4(e,t){return function(i,s){const r=new Di;return i.asyncQueue.enqueueAndForget(async()=>jD(await ZD(i),s,r)),r.promise}(aS(e),t)}function _4(e,t,n){const i=n.docs.get(t._key),s=new p4(e);return new ls(e,s,t._key,i,new Sa(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(s){qr=s})(zr),wr(new ms("firestore",(i,{instanceIdentifier:s,options:r})=>{const a=i.getProvider("app").getImmediate(),l=new Wm(new eC(i.getProvider("auth-internal")),new sC(a,i.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new H(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ho(h.options.projectId,d)}(a,s),a);return r={useFetchStreams:n,...r},l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),Ci(i_,s_,t),Ci(i_,s_,"esm2020")})();const v4={apiKey:"AIzaSyD_t9Kaj9eOjISp33Wqj_k9YqZETb21vBw",authDomain:"trainer-crm-be9ea.firebaseapp.com",projectId:"trainer-crm-be9ea",storageBucket:"trainer-crm-be9ea.firebasestorage.app",messagingSenderId:"499615107271",appId:"1:499615107271:web:370531703a115d4daa96e2"},yS=rT(v4),Xu=Zx(yS),eg=e4(yS),E4=()=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),T4=()=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),S4=()=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21a6 6 0 00-9-5.197m0 0A5.975 5.975 0 0112 13a5.975 5.975 0 013 1.803M15 21a9 9 0 00-9-5.197"})}),A4=()=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),b4=()=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),w4=()=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),_S=()=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[y.jsx("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),y.jsx("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"})]}),vS=()=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})}),ES=()=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),R4=()=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),I4=()=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 transition-transform duration-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),x4=()=>{const[e,t]=at.useState(""),[n,i]=at.useState(""),[s,r]=at.useState(!0),[a,l]=at.useState(""),u=async h=>{h.preventDefault(),l("");try{if(s)await PI(Xu,e,n);else{const p=(await kI(Xu,e,n)).user,m={blocks:[{id:0,name:" ",cost:0,trainingCount:0},{id:1,name:" 10 ",cost:25e3,trainingCount:10},{id:2,name:" 8 ",cost:2e4,trainingCount:8},{id:3,name:" 5 ",cost:14e3,trainingCount:5},{id:4,name:"",cost:3e3,trainingCount:1}],participants:[],attendance:{},rentAmount:5e4};await pS(Zm(eg,"users",p.uid),m)}}catch(d){l(d.message)}};return y.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:y.jsxs("div",{className:"w-full max-w-md p-8 space-y-6 bg-white rounded-lg shadow-md",children:[y.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800",children:s?"  VisitFlow":"  VisitFlow"}),y.jsxs("form",{onSubmit:u,className:"space-y-6",children:[y.jsx("input",{type:"email",value:e,onChange:h=>t(h.target.value),placeholder:"Email",className:"w-full px-4 py-2 text-gray-700 bg-gray-200 rounded-lg focus:outline-none focus:bg-white",required:!0}),y.jsx("input",{type:"password",value:n,onChange:h=>i(h.target.value),placeholder:"",className:"w-full px-4 py-2 text-gray-700 bg-gray-200 rounded-lg focus:outline-none focus:bg-white",required:!0}),y.jsx("button",{type:"submit",className:"w-full px-4 py-2 font-bold text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none",children:s?"":""}),a&&y.jsx("p",{className:"text-sm text-center text-red-500",children:a})]}),y.jsxs("p",{className:"text-sm text-center text-gray-600",children:[s?" ?":"  ?",y.jsx("button",{onClick:()=>r(!s),className:"ml-1 font-bold text-blue-600 hover:underline",children:s?"":""})]})]})})},TS=({show:e,onClose:t,title:n,children:i})=>e?y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:n}),y.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-800 text-2xl",children:""})]}),y.jsx("div",{children:i})]})}):null,SS=({show:e,onClose:t,onConfirm:n,title:i,children:s})=>e?y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm",children:[y.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:i}),y.jsx("div",{className:"text-gray-600 mb-6",children:s}),y.jsxs("div",{className:"flex justify-end space-x-3",children:[y.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300",children:""}),y.jsx("button",{onClick:n,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:""})]})]})}):null,Z_=({participants:e,blocks:t,attendance:n,selectedDate:i})=>{const s=i.getFullYear(),r=i.getMonth(),a=Object.keys(n).filter(u=>{const h=u.split("-");if(h.length!==4)return!1;const d=parseInt(h[1],10),p=parseInt(h[2],10);return n[u]===!0&&d===s&&p===r}).length,l=e.reduce((u,h)=>{const d=new Date(h.paymentDate);if(d.getFullYear()===s&&d.getMonth()===r){const p=t.find(m=>m.id===h.blockId);return u+(p?p.cost:0)}return u},0);return y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-baseline space-x-2 mb-6",children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:""}),y.jsxs("span",{className:"text-lg text-gray-500",children:["(",i.toLocaleString("ru-RU",{month:"long",year:"numeric"}),")"]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[y.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:" "}),y.jsx("p",{className:"text-4xl font-bold text-blue-600 mt-2",children:e.length})]}),y.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:" "}),y.jsx("p",{className:"text-4xl font-bold text-yellow-600 mt-2",children:a})]}),y.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:" ()"}),y.jsxs("p",{className:"text-4xl font-bold text-green-600 mt-2",children:[l.toLocaleString("ru-RU")," "]})]})]})]})},C4=()=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-orange-500 absolute top-0.5 right-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2.5",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 1v22M17 5H9.5a3.5 3.5 0 000 7h5m-5 7h5.5a3.5 3.5 0 000-7H9.5"})}),N4=({participants:e,setParticipants:t,blocks:n,attendance:i,setAttendance:s,selectedDate:r,setSelectedDate:a})=>{const[l,u]=at.useState(null),h=new Date(r.getFullYear(),r.getMonth()+1,0).getDate(),d=Array.from({length:h},(g,T)=>T+1),p=["","","","","","",""],E=(new Date(r.getFullYear(),r.getMonth(),1).getDay()+6)%7,D=(g,T)=>{const R=`${g}-${r.getFullYear()}-${r.getMonth()}-${T}`;s(k=>({...k,[R]:!k[R]}))},[M,V]=at.useState([]);at.useEffect(()=>{const g={};Object.keys(i).forEach(R=>{if(!i[R])return;const k=R.split("-");if(k.length!==4)return;const j=k[0];g[j]||(g[j]=[]),g[j].push({year:parseInt(k[1],10),month:parseInt(k[2],10),day:parseInt(k[3],10)})});const T=e.map(R=>{const k=n.find(x=>x.id===R.blockId)||{},j=k.trainingCount||0,S=g[R.id]||[],v=S.length,b=j-v,w=S.filter(x=>x.year===r.getFullYear()&&x.month===r.getMonth()).length;return{...R,blockName:k.name||"  ",attendedThisMonth:w,remainingSessions:b}});V(T)},[r,e,n,i]);const A=g=>{a(T=>{const R=new Date(T);return g(R),R})};return y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:" "}),y.jsxs("div",{className:"flex justify-between items-center mb-6 bg-white p-4 rounded-xl shadow-md",children:[y.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[y.jsx("button",{onClick:()=>A(g=>g.setFullYear(g.getFullYear()-1)),className:"px-2 py-2 bg-gray-300 text-gray-800 rounded-lg hover:bg-gray-400 font-bold",children:""}),y.jsx("button",{onClick:()=>A(g=>g.setMonth(g.getMonth()-1)),className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"<"})]}),y.jsx("h2",{className:"text-lg sm:text-2xl font-semibold w-36 sm:w-48 text-center capitalize",children:r.toLocaleString("ru-RU",{month:"long",year:"numeric"})}),y.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[y.jsx("button",{onClick:()=>A(g=>g.setMonth(g.getMonth()+1)),className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:">"}),y.jsx("button",{onClick:()=>A(g=>g.setFullYear(g.getFullYear()+1)),className:"px-2 py-2 bg-gray-300 text-gray-800 rounded-lg hover:bg-gray-400 font-bold",children:""})]})]}),y.jsx("div",{className:"space-y-4",children:M.map(g=>{const T=l===g.id;return y.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[y.jsxs("div",{className:"p-4 flex justify-between items-center cursor-pointer hover:bg-gray-50",onClick:()=>u(T?null:g.id),children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-bold text-gray-900",children:g.name}),y.jsx("p",{className:"text-sm text-gray-500",children:g.blockName})]}),y.jsxs("div",{className:"text-right",children:[y.jsxs("p",{className:"text-sm font-semibold text-blue-600",children:["   : ",g.attendedThisMonth]}),y.jsxs("p",{className:"text-sm font-bold text-orange-500",children:[" : ",g.remainingSessions]})]}),y.jsx("div",{className:`ml-4 transition-transform duration-300 ${T?"transform rotate-180":""}`,children:y.jsx(I4,{})})]}),T&&y.jsxs("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:[y.jsx("div",{className:"grid grid-cols-7 gap-1 text-center text-xs font-bold text-gray-500 mb-2",children:p.map(R=>y.jsx("div",{children:R},R))}),y.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[Array.from({length:E}).map((R,k)=>y.jsx("div",{},`empty-${k}`)),d.map(R=>{const k=`${g.id}-${r.getFullYear()}-${r.getMonth()}-${R}`,j=!!i[k],S=g.paymentDate?new Date(g.paymentDate):null,v=S&&S.getFullYear()===r.getFullYear()&&S.getMonth()===r.getMonth()&&S.getDate()===R;return y.jsxs("div",{className:`relative flex items-center justify-center p-2 rounded-lg cursor-pointer transition-colors ${j?"bg-blue-500 text-white":"bg-gray-200 hover:bg-gray-300"}`,onClick:()=>D(g.id,R),children:[v&&y.jsx(C4,{}),y.jsx("span",{className:"font-bold text-sm",children:R})]},R)})]})]})]},g.id)})})]})},D4=({participants:e,setParticipants:t,blocks:n})=>{const[i,s]=at.useState(!1),[r,a]=at.useState(null),[l,u]=at.useState(null),[h,d]=at.useState({name:"",blockId:"",paymentDate:""}),p=(A=null)=>{var T;a(A);const g=new Date().toISOString().split("T")[0];d(A?{...A}:{name:"",blockId:((T=n[0])==null?void 0:T.id)||"",paymentDate:g}),s(!0)},m=()=>{s(!1),a(null)},E=A=>{const{name:g,value:T}=A.target,R={...h,[g]:T};g==="blockId"&&parseInt(T,10)===0&&(R.paymentDate=""),d(R)},D=A=>{A.preventDefault();const g={...h,blockId:parseInt(h.blockId)};t(r?e.map(T=>T.id===r.id?{...T,...g}:T):[...e,{...g,id:Date.now()}]),m()},M=A=>{u(A)},V=()=>{l&&(t(e.filter(A=>A.id!==l)),u(null))};return y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:" "}),y.jsx("div",{className:"flex justify-end items-center mb-6",children:y.jsx("button",{onClick:()=>p(),className:"px-5 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:" "})}),y.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-x-auto",children:y.jsxs("table",{className:"min-w-full",children:[y.jsx("thead",{className:"bg-gray-100",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),y.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),y.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(A=>{var g;return y.jsxs("tr",{children:[y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:A.name}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.paymentDate?new Date(A.paymentDate).toLocaleDateString("ru-RU"):"---"}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((g=n.find(T=>T.id===A.blockId))==null?void 0:g.name)||"N/A"}),y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[y.jsx("button",{onClick:()=>p(A),className:"text-indigo-600 hover:text-indigo-900 mr-4",children:y.jsx(_S,{})}),y.jsx("button",{onClick:()=>M(A.id),className:"text-red-600 hover:text-red-900",children:y.jsx(vS,{})})]})]},A.id)})})]})}),y.jsx(TS,{show:i,onClose:m,title:r?" ":" ",children:y.jsxs("form",{onSubmit:D,className:"space-y-4",children:[y.jsx("input",{type:"text",name:"name",value:h.name,onChange:E,placeholder:"",className:"w-full p-2 border rounded-lg",required:!0}),y.jsxs("select",{name:"blockId",value:h.blockId||"",onChange:E,className:"w-full p-2 border rounded-lg bg-white",required:!0,children:[y.jsx("option",{value:"",disabled:!0,children:" "}),n.map(A=>y.jsx("option",{value:A.id,children:A.name},A.id))]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"paymentDate",className:"block text-sm font-medium text-gray-700",children:" "}),y.jsx("input",{type:"date",id:"paymentDate",name:"paymentDate",value:h.paymentDate,onChange:E,className:"w-full p-2 border rounded-lg",disabled:parseInt(h.blockId,10)===0,required:parseInt(h.blockId,10)!==0})]}),y.jsxs("div",{className:"flex justify-end space-x-3",children:[y.jsx("button",{type:"button",onClick:m,className:"px-4 py-2 bg-gray-200 rounded-lg",children:""}),y.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg",children:r?"":""})]})]})}),y.jsx(SS,{show:l!==null,onClose:()=>u(null),onConfirm:V,title:" ",children:" ,     ?"})]})},O4=({blocks:e,setBlocks:t,participants:n,setParticipants:i,rentAmount:s,setRentAmount:r})=>{const[a,l]=at.useState(!1),[u,h]=at.useState(null),[d,p]=at.useState(null),[m,E]=at.useState({name:"",cost:"",trainingCount:""}),D=(R=null)=>{h(R),E(R?{...R}:{name:"",cost:"",trainingCount:""}),l(!0)},M=()=>{l(!1),h(null)},V=R=>{const{name:k,value:j}=R.target;E(S=>({...S,[k]:j}))},A=R=>{R.preventDefault();const k={...m,cost:parseFloat(m.cost),trainingCount:parseInt(m.trainingCount,10)};t(u?e.map(j=>j.id===u.id?{...j,...k}:j):[...e,{...k,id:Date.now()}]),M()},g=R=>{R!==0&&p(R)},T=()=>{d&&(i(R=>R.map(k=>k.blockId===d?{...k,blockId:null}:k)),t(R=>R.filter(k=>k.id!==d)),p(null))};return y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:" "}),y.jsx("div",{className:"flex justify-end items-center mb-6",children:y.jsx("button",{onClick:()=>D(),className:"px-5 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:" "})}),y.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-x-auto",children:y.jsxs("table",{className:"min-w-full",children:[y.jsx("thead",{className:"bg-gray-100",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"- "}),y.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),y.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(R=>y.jsxs("tr",{children:[y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:R.name}),y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[R.cost.toLocaleString("ru-RU")," "]}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:R.trainingCount}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:R.id!==0&&y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>D(R),className:"text-indigo-600 hover:text-indigo-900 mr-4",children:y.jsx(_S,{})}),y.jsx("button",{onClick:()=>g(R.id),className:"text-red-600 hover:text-red-900",children:y.jsx(vS,{})})]})})]},R.id))})]})}),y.jsxs("div",{className:"mt-8 bg-white p-6 rounded-lg shadow-md",children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:""}),y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"   "}),y.jsx("input",{type:"number",value:s,onChange:R=>r(parseFloat(R.target.value)||0),className:"mt-1 block w-full p-2 border rounded-lg",placeholder:"  "})]}),y.jsx(TS,{show:a,onClose:M,title:u?" ":" ",children:y.jsxs("form",{onSubmit:A,className:"space-y-4",children:[y.jsx("input",{type:"text",name:"name",value:m.name,onChange:V,placeholder:" ",className:"w-full p-2 border rounded-lg",required:!0}),y.jsx("input",{type:"number",name:"cost",value:m.cost,onChange:V,placeholder:"",className:"w-full p-2 border rounded-lg",required:!0}),y.jsx("input",{type:"number",name:"trainingCount",value:m.trainingCount,onChange:V,placeholder:" ",className:"w-full p-2 border rounded-lg",required:!0}),y.jsxs("div",{className:"flex justify-end space-x-3",children:[y.jsx("button",{type:"button",onClick:M,className:"px-4 py-2 bg-gray-200 rounded-lg",children:""}),y.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg",children:u?"":""})]})]})}),y.jsx(SS,{show:d!==null,onClose:()=>p(null),onConfirm:T,title:" ",children:" ,     ?  ,    ,  ."})]})},M4=({onBack:e,detailType:t,reportData:n,totalSales:i,netProfit:s,rentAmount:r,totalTrainings:a,avgTrainingCost:l,reportDate:u,changeDate:h})=>{const d={participantSales:":   ",totalSales:":  ",netProfit:":  ",avgCost:":   "},p=()=>{switch(t){case"participantSales":return y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"min-w-full",children:[y.jsx("thead",{className:"bg-gray-100",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:" 1 "}),y.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:" ()"}),y.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:" ()"})]})}),y.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(m=>y.jsxs("tr",{children:[y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:m.name}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:m.blockName}),y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[m.costPerTraining.toFixed(2)," "]}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 text-center font-bold",children:m.attendedThisMonth}),y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-right font-bold",children:[m.salesThisMonth.toLocaleString("ru-RU",{minimumFractionDigits:2,maximumFractionDigits:2})," "]})]},m.id))})]})});case"totalSales":return y.jsxs("div",{className:"p-8 text-center border rounded-lg",children:[y.jsx("h3",{className:"text-lg font-medium text-gray-500",children:"   "}),y.jsxs("p",{className:"mt-2 text-5xl font-bold text-blue-600",children:[i.toLocaleString("ru-RU")," "]})]});case"netProfit":return y.jsx("div",{className:"p-8 border rounded-lg",children:y.jsxs("dl",{className:"divide-y divide-gray-200",children:[y.jsxs("div",{className:"flex justify-between py-3",children:[y.jsx("dt",{className:"text-lg text-gray-600",children:" "}),y.jsxs("dd",{className:"text-lg font-medium text-blue-600",children:[i.toLocaleString("ru-RU")," "]})]}),y.jsxs("div",{className:"flex justify-between py-3",children:[y.jsx("dt",{className:"text-lg text-gray-600",children:" "}),y.jsxs("dd",{className:"text-lg font-medium text-red-500",children:["- ",r.toLocaleString("ru-RU")," "]})]}),y.jsxs("div",{className:"flex justify-between py-4",children:[y.jsx("dt",{className:"text-xl font-bold text-gray-800",children:" "}),y.jsxs("dd",{className:`text-xl font-bold ${s>=0?"text-green-600":"text-red-600"}`,children:[s.toLocaleString("ru-RU")," "]})]})]})});case"avgCost":return y.jsx("div",{className:"p-8 border rounded-lg",children:y.jsxs("dl",{className:"divide-y divide-gray-200",children:[y.jsxs("div",{className:"flex justify-between py-3",children:[y.jsx("dt",{className:"text-lg text-gray-600",children:" "}),y.jsxs("dd",{className:"text-lg font-medium text-gray-800",children:[i.toLocaleString("ru-RU")," "]})]}),y.jsxs("div",{className:"flex justify-between py-3",children:[y.jsx("dt",{className:"text-lg text-gray-600",children:" "}),y.jsx("dd",{className:"text-lg font-medium text-gray-800",children:a})]}),y.jsxs("div",{className:"flex justify-between py-4",children:[y.jsx("dt",{className:"text-xl font-bold text-gray-800",children:"  "}),y.jsxs("dd",{className:"text-xl font-bold text-purple-600",children:[l.toLocaleString("ru-RU",{minimumFractionDigits:2,maximumFractionDigits:2})," "]})]})]})});default:return null}};return y.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[y.jsxs("button",{onClick:e,className:"flex items-center mb-6 px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300",children:[y.jsx(ES,{}),"  "]}),y.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:d[t]}),y.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[y.jsx("button",{onClick:()=>h(m=>m.setMonth(m.getMonth()-1)),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"<"}),y.jsx("h3",{className:"text-xl font-semibold w-48 text-center",children:u.toLocaleString("ru-RU",{month:"long",year:"numeric"})}),y.jsx("button",{onClick:()=>h(m=>m.setMonth(m.getMonth()+1)),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:">"})]}),p()]})},V4=({participants:e,blocks:t,attendance:n,rentAmount:i,selectedDate:s,setSelectedDate:r})=>{const[a,l]=at.useState("overview"),[u,h]=at.useState(null),d=s.getFullYear(),p=s.getMonth(),m=T=>{r(R=>{const k=new Date(R);return T(k),k})},E=T=>{h(T),l("details")},D=e.map(T=>{const R=t.find(v=>v.id===T.blockId);if(!R)return{salesThisMonth:0,id:T.id};const k=R.cost&&R.trainingCount?R.cost/R.trainingCount:0,j=Object.keys(n).filter(v=>{const b=v.split("-");return b.length===4&&parseInt(b[0],10)===T.id&&n[v]===!0&&parseInt(b[1],10)===d&&parseInt(b[2],10)===p}).length,S=k*j;return{...T,blockName:R.name,costPerTraining:k,attendedThisMonth:j,salesThisMonth:S}}).filter(T=>T.id),M=D.reduce((T,R)=>T+R.salesThisMonth,0),V=M-i,A=D.reduce((T,R)=>T+R.attendedThisMonth,0),g=A>0?M/A:0;return a==="details"?y.jsx(M4,{onBack:()=>l("overview"),detailType:u,reportData:D,totalSales:M,netProfit:V,rentAmount:i,totalTrainings:A,avgTrainingCost:g,reportDate:s,changeDate:m}):y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:""}),y.jsx("div",{className:"flex items-center space-x-2 mb-6",children:y.jsx("h3",{className:"text-xl font-semibold w-full text-center",children:s.toLocaleString("ru-RU",{month:"long",year:"numeric"})})}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[y.jsxs("div",{onClick:()=>E("totalSales"),className:"bg-white p-6 rounded-lg shadow-md hover:shadow-xl transition-shadow cursor-pointer",children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:" "}),y.jsxs("p",{className:"text-4xl font-bold text-blue-600 mt-2",children:[M.toLocaleString("ru-RU")," "]})]}),y.jsxs("div",{onClick:()=>E("netProfit"),className:"bg-white p-6 rounded-lg shadow-md hover:shadow-xl transition-shadow cursor-pointer",children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:" "}),y.jsxs("p",{className:`text-4xl font-bold mt-2 ${V>=0?"text-green-600":"text-red-600"}`,children:[V.toLocaleString("ru-RU")," "]})]}),y.jsxs("div",{onClick:()=>E("avgCost"),className:"bg-white p-6 rounded-lg shadow-md hover:shadow-xl transition-shadow cursor-pointer",children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"  "}),y.jsxs("p",{className:"text-4xl font-bold text-purple-600 mt-2",children:[g.toLocaleString("ru-RU",{minimumFractionDigits:2,maximumFractionDigits:2})," "]})]}),y.jsxs("div",{onClick:()=>E("participantSales"),className:"bg-white p-6 rounded-lg shadow-md hover:shadow-xl transition-shadow cursor-pointer",children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"  "}),y.jsx("p",{className:"text-gray-500 mt-2",children:",   "})]})]})]})},k4=({participants:e,blocks:t,attendance:n,rentAmount:i,selectedDate:s,setSelectedDate:r})=>{const[a,l]=at.useState("overview"),[u,h]=at.useState(""),d=g=>{h(g),l("details")},p=g=>{r(T=>{const R=new Date(T);return g(R),R})},E=(()=>{const g=s.getFullYear();return Array.from({length:12},(T,R)=>{const k=e.reduce((S,v)=>{const b=t.find(C=>C.id===v.blockId);if(!b||!b.cost||!b.trainingCount)return S;const w=b.cost/b.trainingCount,x=Object.keys(n).filter(C=>{const I=C.split("-");return I.length===4&&parseInt(I[0],10)===v.id&&n[C]&&parseInt(I[1],10)===g&&parseInt(I[2],10)===R}).length;return S+x*w},0),j=e.reduce((S,v)=>{const b=new Date(v.paymentDate);if(b.getFullYear()===g&&b.getMonth()===R){const w=t.find(x=>x.id===v.blockId);return S+(w?w.cost:0)}return S},0);return{month:new Date(g,R).toLocaleString("ru-RU",{month:"short"}),income:j-i,netProfit:k-i}})})(),D=E.reduce((g,T)=>T.netProfit>0?g+T.netProfit:g,0),M=E.reduce((g,T)=>T.income>0?g+T.income:g,0),V=Math.max(...E.flatMap(g=>[g.income,g.netProfit]),0),A=Math.min(...E.flatMap(g=>[g.income,g.netProfit]),0);if(a==="details"){const g=u==="netProfitByMonth",T=g?`     ${s.getFullYear()} `:` ()     ${s.getFullYear()} `,R=g?"netProfit":"income",k=" ( ):",j=g?D:M;return y.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[y.jsxs("button",{onClick:()=>l("overview"),className:"flex items-center mb-6 px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300",children:[y.jsx(ES,{}),"  "]}),y.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:T}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("div",{className:"w-full h-96 p-4 pt-10 border rounded-lg flex justify-between items-center relative",style:{minWidth:"600px"},children:[y.jsx("div",{className:"absolute top-1/2 left-0 w-full h-px bg-gray-300"}),E.map((S,v)=>{const b=S[R],w=b<0,x=Math.max(Math.abs(A),V,i),C=x===0?0:Math.abs(b)/x*100;return y.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center h-full relative px-1 group",children:[y.jsx("div",{className:`w-full h-1/2 flex flex-col ${w?"justify-start":"justify-end"} items-center`,children:!w&&y.jsxs(y.Fragment,{children:[y.jsx("span",{className:"text-xs font-semibold text-gray-600 mb-1",children:b.toLocaleString("ru-RU")}),y.jsxs("div",{className:"w-5/6 relative transition-transform duration-200 ease-in-out group-hover:-translate-y-1",style:{height:`${C/2}%`},children:[y.jsx("div",{className:"absolute inset-0 bg-green-400 border border-green-500"}),y.jsx("div",{className:"absolute top-0 left-0 w-full h-3 bg-green-500 opacity-70 transform -skew-x-[45deg] -translate-y-1.5"}),y.jsx("div",{className:"absolute top-0 right-0 w-3 h-full bg-green-600 opacity-70 transform -skew-y-[45deg] translate-x-1.5"})]})]})}),y.jsx("div",{className:`w-full h-1/2 flex flex-col ${w?"justify-start":"justify-end"} items-center`,children:w&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"w-5/6 relative transition-transform duration-200 ease-in-out group-hover:translate-y-1",style:{height:`${C/2}%`},children:[y.jsx("div",{className:"absolute inset-0 bg-red-400 border border-red-500"}),y.jsx("div",{className:"absolute bottom-0 left-0 w-full h-3 bg-red-500 opacity-70 transform -skew-x-[45deg] translate-y-1.5"}),y.jsx("div",{className:"absolute top-0 right-0 w-3 h-full bg-red-600 opacity-70 transform -skew-y-[45deg] translate-x-1.5"})]}),y.jsx("span",{className:"text-xs font-semibold text-gray-600 mt-1",children:b.toLocaleString("ru-RU")})]})}),y.jsx("span",{className:"absolute -bottom-1 text-xs",children:S.month.toUpperCase()})]},v)})]})}),y.jsx("div",{className:"mt-6 overflow-x-auto",children:y.jsxs("table",{className:"min-w-full",children:[y.jsx("thead",{className:"bg-gray-100",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),y.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:g?" ":" (  )"})]})}),y.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:E.map((S,v)=>y.jsxs("tr",{children:[y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:new Date(s.getFullYear(),v).toLocaleString("ru-RU",{month:"long"})}),y.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm text-right font-bold ${S[R]>=0?"text-green-600":"text-red-600"}`,children:[S[R].toLocaleString("ru-RU")," "]})]},v))}),y.jsx("tfoot",{className:"bg-gray-50",children:y.jsxs("tr",{children:[y.jsx("td",{className:"px-6 py-4 text-right text-sm font-bold text-gray-700 uppercase",children:k}),y.jsxs("td",{className:"px-6 py-4 text-right text-sm font-extrabold text-green-700",children:[j.toLocaleString("ru-RU")," "]})]})})]})})]})}return y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:""}),y.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[y.jsx("button",{onClick:()=>p(g=>g.setFullYear(g.getFullYear()-1)),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"<"}),y.jsx("h3",{className:"text-xl font-semibold w-48 text-center",children:s.getFullYear()}),y.jsx("button",{onClick:()=>p(g=>g.setFullYear(g.getFullYear()+1)),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:">"})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{onClick:()=>d("incomeByMonth"),className:"bg-white p-6 rounded-lg shadow-md hover:shadow-xl transition-shadow cursor-pointer",children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:" ()  "}),y.jsx("p",{className:"text-gray-500 mt-2",children:"  (  )  "})]}),y.jsxs("div",{onClick:()=>d("netProfitByMonth"),className:"bg-white p-6 rounded-lg shadow-md hover:shadow-xl transition-shadow cursor-pointer",children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"  ()  "}),y.jsx("p",{className:"text-gray-500 mt-2",children:"    "})]})]})]})},P4=({user:e,initialData:t})=>{const[n,i]=at.useState("dashboard"),[s,r]=at.useState(new Date),[a,l]=at.useState(!1),[u,h]=at.useState(t.blocks),[d,p]=at.useState(t.participants),[m,E]=at.useState(t.attendance),[D,M]=at.useState(t.rentAmount);at.useEffect(()=>{const T=async()=>{if(e){const k={blocks:u,participants:d,attendance:m,rentAmount:D};await pS(Zm(eg,"users",e.uid),k)}},R=setTimeout(()=>{T()},1e3);return()=>{clearTimeout(R)}},[u,d,m,D,e]);const V=async()=>{try{await zI(Xu)}catch(T){console.error(" :",T)}},A=()=>{const T={participants:d,setParticipants:p,blocks:u,setBlocks:h,attendance:m,setAttendance:E,rentAmount:D,setRentAmount:M,selectedDate:s,setSelectedDate:r};switch(n){case"dashboard":return y.jsx(Z_,{...T});case"calendar":return y.jsx(N4,{...T});case"participants":return y.jsx(D4,{...T});case"blocks":return y.jsx(O4,{...T});case"reports":return y.jsx(V4,{...T});case"charts":return y.jsx(k4,{...T});default:return y.jsx(Z_,{...T})}},g=({page:T,icon:R,children:k})=>y.jsxs("button",{onClick:()=>{i(T),l(!1)},className:`flex items-center space-x-3 px-4 py-3 rounded-lg w-full text-left transition-colors ${n===T?"bg-blue-600 text-white shadow-lg":"text-gray-600 hover:bg-gray-200"}`,children:[R,y.jsx("span",{className:"font-medium",children:k})]});return y.jsxs("div",{className:"relative min-h-screen md:flex bg-gray-100 font-sans",children:[y.jsxs("div",{className:"md:hidden flex justify-between items-center p-4 bg-white shadow-lg",children:[y.jsxs("div",{className:"text-2xl font-bold text-blue-700 flex items-center space-x-2",children:[y.jsx("span",{children:""}),y.jsx("span",{children:"VisitFlow"})]}),y.jsx("button",{onClick:()=>l(!a),className:"text-gray-600 hover:text-gray-800",children:y.jsx(R4,{})})]}),y.jsxs("aside",{className:`w-64 bg-white p-4 flex flex-col shadow-lg fixed inset-y-0 left-0 z-30 transform transition-transform duration-300 ease-in-out md:relative md:translate-x-0 ${a?"translate-x-0":"-translate-x-full"}`,children:[y.jsxs("div",{className:"text-2xl font-bold text-blue-700 mb-8 items-center space-x-2 hidden md:flex",children:[y.jsx("span",{children:""}),y.jsx("span",{children:"VisitFlow"})]}),y.jsx("nav",{className:"flex-grow",children:y.jsxs("div",{className:"flex flex-col space-y-2",children:[y.jsx(g,{page:"dashboard",icon:y.jsx(E4,{}),children:""}),y.jsx(g,{page:"calendar",icon:y.jsx(T4,{}),children:""}),y.jsx(g,{page:"participants",icon:y.jsx(S4,{}),children:""}),y.jsx(g,{page:"blocks",icon:y.jsx(A4,{}),children:""}),y.jsx(g,{page:"reports",icon:y.jsx(b4,{}),children:""}),y.jsx(g,{page:"charts",icon:y.jsx(w4,{}),children:""})]})}),y.jsx("div",{className:"mt-auto",children:y.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg bg-gray-100",children:[y.jsx("img",{className:"h-10 w-10 rounded-full",src:`https://placehold.co/100x100/E2E8F0/4A5568?text=${e.email[0].toUpperCase()}`,alt:"User"}),y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold text-gray-800 text-sm truncate",children:e.email}),y.jsx("button",{onClick:V,className:"text-sm text-blue-600 hover:underline",children:""})]})]})})]}),y.jsx("main",{className:"flex-1 p-4 sm:p-8 overflow-y-auto",children:A()})]})};function U4(){const[e,t]=at.useState(null),[n,i]=at.useState(!0),[s,r]=at.useState(null);return at.useEffect(()=>{const a=jI(Xu,async l=>{if(l){const u=Zm(eg,"users",l.uid),h=await g4(u);h.exists()?r(h.data()):console.log("No such document for user!"),t(l)}else t(null),r(null);i(!1)});return()=>a()},[]),n||e&&!s?y.jsx("div",{className:"flex justify-center items-center h-screen font-bold text-xl",children:"..."}):e?(console.log("  FIREBASE  :",s),y.jsx(P4,{user:e,initialData:s})):y.jsx(x4,{})}Ww.createRoot(document.getElementById("root")).render(y.jsx(_A.StrictMode,{children:y.jsx(U4,{})}));
