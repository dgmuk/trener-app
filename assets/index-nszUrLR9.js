(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function g_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var p_={exports:{}},Nu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sA=Symbol.for("react.transitional.element"),aA=Symbol.for("react.fragment");function y_(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var r in t)r!=="key"&&(n[r]=t[r])}else n=t;return t=n.ref,{$$typeof:sA,type:e,key:i,ref:t!==void 0?t:null,props:n}}Nu.Fragment=aA;Nu.jsx=y_;Nu.jsxs=y_;p_.exports=Nu;var g=p_.exports,__={exports:{}},W={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hf=Symbol.for("react.transitional.element"),oA=Symbol.for("react.portal"),lA=Symbol.for("react.fragment"),uA=Symbol.for("react.strict_mode"),cA=Symbol.for("react.profiler"),hA=Symbol.for("react.consumer"),fA=Symbol.for("react.context"),dA=Symbol.for("react.forward_ref"),mA=Symbol.for("react.suspense"),gA=Symbol.for("react.memo"),v_=Symbol.for("react.lazy"),Og=Symbol.iterator;function pA(e){return e===null||typeof e!="object"?null:(e=Og&&e[Og]||e["@@iterator"],typeof e=="function"?e:null)}var E_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T_=Object.assign,b_={};function Es(e,t,n){this.props=e,this.context=t,this.refs=b_,this.updater=n||E_}Es.prototype.isReactComponent={};Es.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Es.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function A_(){}A_.prototype=Es.prototype;function Ff(e,t,n){this.props=e,this.context=t,this.refs=b_,this.updater=n||E_}var Gf=Ff.prototype=new A_;Gf.constructor=Ff;T_(Gf,Es.prototype);Gf.isPureReactComponent=!0;var Mg=Array.isArray,St={H:null,A:null,T:null,S:null,V:null},S_=Object.prototype.hasOwnProperty;function Yf(e,t,n,i,r,s){return n=s.ref,{$$typeof:Hf,type:e,key:t,ref:n!==void 0?n:null,props:s}}function yA(e,t){return Yf(e.type,t,void 0,void 0,void 0,e.props)}function Kf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hf}function _A(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Vg=/\/+/g;function Dc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?_A(""+e.key):t.toString(36)}function kg(){}function vA(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(kg,kg):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Ar(e,t,n,i,r){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Hf:case oA:a=!0;break;case v_:return a=e._init,Ar(a(e._payload),t,n,i,r)}}if(a)return r=r(e),a=i===""?"."+Dc(e,0):i,Mg(r)?(n="",a!=null&&(n=a.replace(Vg,"$&/")+"/"),Ar(r,t,n,"",function(h){return h})):r!=null&&(Kf(r)&&(r=yA(r,n+(r.key==null||e&&e.key===r.key?"":(""+r.key).replace(Vg,"$&/")+"/")+a)),t.push(r)),1;a=0;var l=i===""?".":i+":";if(Mg(e))for(var u=0;u<e.length;u++)i=e[u],s=l+Dc(i,u),a+=Ar(i,t,n,s,r);else if(u=pA(e),typeof u=="function")for(e=u.call(e),u=0;!(i=e.next()).done;)i=i.value,s=l+Dc(i,u++),a+=Ar(i,t,n,s,r);else if(s==="object"){if(typeof e.then=="function")return Ar(vA(e),t,n,i,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return a}function Xo(e,t,n){if(e==null)return e;var i=[],r=0;return Ar(e,i,"","",function(s){return t.call(n,s,r++)}),i}function EA(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Pg=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function TA(){}W.Children={map:Xo,forEach:function(e,t,n){Xo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Xo(e,function(){t++}),t},toArray:function(e){return Xo(e,function(t){return t})||[]},only:function(e){if(!Kf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};W.Component=Es;W.Fragment=lA;W.Profiler=cA;W.PureComponent=Ff;W.StrictMode=uA;W.Suspense=mA;W.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=St;W.__COMPILER_RUNTIME={__proto__:null,c:function(e){return St.H.useMemoCache(e)}};W.cache=function(e){return function(){return e.apply(null,arguments)}};W.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=T_({},e.props),r=e.key,s=void 0;if(t!=null)for(a in t.ref!==void 0&&(s=void 0),t.key!==void 0&&(r=""+t.key),t)!S_.call(t,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&t.ref===void 0||(i[a]=t[a]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}return Yf(e.type,r,void 0,void 0,s,i)};W.createContext=function(e){return e={$$typeof:fA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:hA,_context:e},e};W.createElement=function(e,t,n){var i,r={},s=null;if(t!=null)for(i in t.key!==void 0&&(s=""+t.key),t)S_.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=t[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return Yf(e,s,void 0,void 0,null,r)};W.createRef=function(){return{current:null}};W.forwardRef=function(e){return{$$typeof:dA,render:e}};W.isValidElement=Kf;W.lazy=function(e){return{$$typeof:v_,_payload:{_status:-1,_result:e},_init:EA}};W.memo=function(e,t){return{$$typeof:gA,type:e,compare:t===void 0?null:t}};W.startTransition=function(e){var t=St.T,n={};St.T=n;try{var i=e(),r=St.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(TA,Pg)}catch(s){Pg(s)}finally{St.T=t}};W.unstable_useCacheRefresh=function(){return St.H.useCacheRefresh()};W.use=function(e){return St.H.use(e)};W.useActionState=function(e,t,n){return St.H.useActionState(e,t,n)};W.useCallback=function(e,t){return St.H.useCallback(e,t)};W.useContext=function(e){return St.H.useContext(e)};W.useDebugValue=function(){};W.useDeferredValue=function(e,t){return St.H.useDeferredValue(e,t)};W.useEffect=function(e,t,n){var i=St.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(e,t)};W.useId=function(){return St.H.useId()};W.useImperativeHandle=function(e,t,n){return St.H.useImperativeHandle(e,t,n)};W.useInsertionEffect=function(e,t){return St.H.useInsertionEffect(e,t)};W.useLayoutEffect=function(e,t){return St.H.useLayoutEffect(e,t)};W.useMemo=function(e,t){return St.H.useMemo(e,t)};W.useOptimistic=function(e,t){return St.H.useOptimistic(e,t)};W.useReducer=function(e,t,n){return St.H.useReducer(e,t,n)};W.useRef=function(e){return St.H.useRef(e)};W.useState=function(e){return St.H.useState(e)};W.useSyncExternalStore=function(e,t,n){return St.H.useSyncExternalStore(e,t,n)};W.useTransition=function(){return St.H.useTransition()};W.version="19.1.1";__.exports=W;var et=__.exports;const bA=g_(et);var w_={exports:{}},Du={},R_={exports:{}},x_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,K){var X=B.length;B.push(K);t:for(;0<X;){var Et=X-1>>>1,Ot=B[Et];if(0<r(Ot,K))B[Et]=K,B[X]=Ot,X=Et;else break t}}function n(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var K=B[0],X=B.pop();if(X!==K){B[0]=X;t:for(var Et=0,Ot=B.length,pr=Ot>>>1;Et<pr;){var Se=2*(Et+1)-1,Pt=B[Se],pn=Se+1,Je=B[pn];if(0>r(Pt,X))pn<Ot&&0>r(Je,Pt)?(B[Et]=Je,B[pn]=X,Et=pn):(B[Et]=Pt,B[Se]=X,Et=Se);else if(pn<Ot&&0>r(Je,X))B[Et]=Je,B[pn]=X,Et=pn;else break t}}return K}function r(B,K){var X=B.sortIndex-K.sortIndex;return X!==0?X:B.id-K.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],h=[],d=1,_=null,m=3,E=!1,D=!1,O=!1,V=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function x(B){for(var K=n(h);K!==null;){if(K.callback===null)i(h);else if(K.startTime<=B)i(h),K.sortIndex=K.expirationTime,t(u,K);else break;K=n(h)}}function k(B){if(O=!1,x(B),!D)if(n(u)!==null)D=!0,j||(j=!0,C());else{var K=n(h);K!==null&&Gt(k,K.startTime-B)}}var j=!1,A=-1,p=5,T=-1;function w(){return V?!0:!(e.unstable_now()-T<p)}function I(){if(V=!1,j){var B=e.unstable_now();T=B;var K=!0;try{t:{D=!1,O&&(O=!1,v(A),A=-1),E=!0;var X=m;try{e:{for(x(B),_=n(u);_!==null&&!(_.expirationTime>B&&w());){var Et=_.callback;if(typeof Et=="function"){_.callback=null,m=_.priorityLevel;var Ot=Et(_.expirationTime<=B);if(B=e.unstable_now(),typeof Ot=="function"){_.callback=Ot,x(B),K=!0;break e}_===n(u)&&i(u),x(B)}else i(u);_=n(u)}if(_!==null)K=!0;else{var pr=n(h);pr!==null&&Gt(k,pr.startTime-B),K=!1}}break t}finally{_=null,m=X,E=!1}K=void 0}}finally{K?C():j=!1}}}var C;if(typeof S=="function")C=function(){S(I)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,pt=R.port2;R.port1.onmessage=I,C=function(){pt.postMessage(null)}}else C=function(){b(I,0)};function Gt(B,K){A=b(function(){B(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):p=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(B){switch(m){case 1:case 2:case 3:var K=3;break;default:K=m}var X=m;m=K;try{return B()}finally{m=X}},e.unstable_requestPaint=function(){V=!0},e.unstable_runWithPriority=function(B,K){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var X=m;m=B;try{return K()}finally{m=X}},e.unstable_scheduleCallback=function(B,K,X){var Et=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?Et+X:Et):X=Et,B){case 1:var Ot=-1;break;case 2:Ot=250;break;case 5:Ot=1073741823;break;case 4:Ot=1e4;break;default:Ot=5e3}return Ot=X+Ot,B={id:d++,callback:K,priorityLevel:B,startTime:X,expirationTime:Ot,sortIndex:-1},X>Et?(B.sortIndex=X,t(h,B),n(u)===null&&B===n(h)&&(O?(v(A),A=-1):O=!0,Gt(k,X-Et))):(B.sortIndex=Ot,t(u,B),D||E||(D=!0,j||(j=!0,C()))),B},e.unstable_shouldYield=w,e.unstable_wrapCallback=function(B){var K=m;return function(){var X=m;m=K;try{return B.apply(this,arguments)}finally{m=X}}}})(x_);R_.exports=x_;var AA=R_.exports,I_={exports:{}},_e={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SA=et;function C_(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Qn(){}var ye={d:{f:Qn,r:function(){throw Error(C_(522))},D:Qn,C:Qn,L:Qn,m:Qn,X:Qn,S:Qn,M:Qn},p:0,findDOMNode:null},wA=Symbol.for("react.portal");function RA(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wA,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var ca=SA.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Ou(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}_e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ye;_e.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(C_(299));return RA(e,t,null,n)};_e.flushSync=function(e){var t=ca.T,n=ye.p;try{if(ca.T=null,ye.p=2,e)return e()}finally{ca.T=t,ye.p=n,ye.d.f()}};_e.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,ye.d.C(e,t))};_e.prefetchDNS=function(e){typeof e=="string"&&ye.d.D(e)};_e.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=Ou(n,t.crossOrigin),r=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?ye.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:s}):n==="script"&&ye.d.X(e,{crossOrigin:i,integrity:r,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};_e.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Ou(t.as,t.crossOrigin);ye.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&ye.d.M(e)};_e.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=Ou(n,t.crossOrigin);ye.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};_e.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Ou(t.as,t.crossOrigin);ye.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else ye.d.m(e)};_e.requestFormReset=function(e){ye.d.r(e)};_e.unstable_batchedUpdates=function(e,t){return e(t)};_e.useFormState=function(e,t,n){return ca.H.useFormState(e,t,n)};_e.useFormStatus=function(){return ca.H.useHostTransitionStatus()};_e.version="19.1.1";function N_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(N_)}catch(e){console.error(e)}}N_(),I_.exports=_e;var xA=I_.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ft=AA,D_=et,IA=xA;function P(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function O_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function eo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function M_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ug(e){if(eo(e)!==e)throw Error(P(188))}function CA(e){var t=e.alternate;if(!t){if(t=eo(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return Ug(r),e;if(s===i)return Ug(r),t;s=s.sibling}throw Error(P(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a)throw Error(P(189))}}if(n.alternate!==i)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function V_(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=V_(e),t!==null)return t;e=e.sibling}return null}var bt=Object.assign,NA=Symbol.for("react.element"),$o=Symbol.for("react.transitional.element"),ea=Symbol.for("react.portal"),Nr=Symbol.for("react.fragment"),k_=Symbol.for("react.strict_mode"),Ah=Symbol.for("react.profiler"),DA=Symbol.for("react.provider"),P_=Symbol.for("react.consumer"),An=Symbol.for("react.context"),Qf=Symbol.for("react.forward_ref"),Sh=Symbol.for("react.suspense"),wh=Symbol.for("react.suspense_list"),Xf=Symbol.for("react.memo"),Wn=Symbol.for("react.lazy"),Rh=Symbol.for("react.activity"),OA=Symbol.for("react.memo_cache_sentinel"),Lg=Symbol.iterator;function Ys(e){return e===null||typeof e!="object"?null:(e=Lg&&e[Lg]||e["@@iterator"],typeof e=="function"?e:null)}var MA=Symbol.for("react.client.reference");function xh(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===MA?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Nr:return"Fragment";case Ah:return"Profiler";case k_:return"StrictMode";case Sh:return"Suspense";case wh:return"SuspenseList";case Rh:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case ea:return"Portal";case An:return(e.displayName||"Context")+".Provider";case P_:return(e._context.displayName||"Context")+".Consumer";case Qf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Xf:return t=e.displayName||null,t!==null?t:xh(e.type)||"Memo";case Wn:t=e._payload,e=e._init;try{return xh(e(t))}catch{}}return null}var na=Array.isArray,Y=D_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct=IA.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Gi={pending:!1,data:null,method:null,action:null},Ih=[],Dr=-1;function mn(e){return{current:e}}function $t(e){0>Dr||(e.current=Ih[Dr],Ih[Dr]=null,Dr--)}function wt(e,t){Dr++,Ih[Dr]=e.current,e.current=t}var sn=mn(null),Na=mn(null),di=mn(null),Pl=mn(null);function Ul(e,t){switch(wt(di,t),wt(Na,e),wt(sn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Hp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Hp(t),e=J0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$t(sn),wt(sn,e)}function es(){$t(sn),$t(Na),$t(di)}function Ch(e){e.memoizedState!==null&&wt(Pl,e);var t=sn.current,n=J0(t,e.type);t!==n&&(wt(Na,e),wt(sn,n))}function Ll(e){Na.current===e&&($t(sn),$t(Na)),Pl.current===e&&($t(Pl),za._currentValue=Gi)}var Nh=Object.prototype.hasOwnProperty,$f=Ft.unstable_scheduleCallback,Oc=Ft.unstable_cancelCallback,VA=Ft.unstable_shouldYield,kA=Ft.unstable_requestPaint,an=Ft.unstable_now,PA=Ft.unstable_getCurrentPriorityLevel,U_=Ft.unstable_ImmediatePriority,L_=Ft.unstable_UserBlockingPriority,jl=Ft.unstable_NormalPriority,UA=Ft.unstable_LowPriority,j_=Ft.unstable_IdlePriority,LA=Ft.log,jA=Ft.unstable_setDisableYieldValue,no=null,Ne=null;function li(e){if(typeof LA=="function"&&jA(e),Ne&&typeof Ne.setStrictMode=="function")try{Ne.setStrictMode(no,e)}catch{}}var De=Math.clz32?Math.clz32:qA,zA=Math.log,BA=Math.LN2;function qA(e){return e>>>=0,e===0?32:31-(zA(e)/BA|0)|0}var Zo=256,Wo=4194304;function zi(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Mu(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var l=i&134217727;return l!==0?(i=l&~s,i!==0?r=zi(i):(a&=l,a!==0?r=zi(a):n||(n=l&~e,n!==0&&(r=zi(n))))):(l=i&~s,l!==0?r=zi(l):a!==0?r=zi(a):n||(n=i&~e,n!==0&&(r=zi(n)))),r===0?0:t!==0&&t!==r&&!(t&s)&&(s=r&-r,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:r}function io(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function HA(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function z_(){var e=Zo;return Zo<<=1,!(Zo&4194048)&&(Zo=256),e}function B_(){var e=Wo;return Wo<<=1,!(Wo&62914560)&&(Wo=4194304),e}function Mc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ro(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function FA(e,t,n,i,r,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,u=e.expirationTimes,h=e.hiddenUpdates;for(n=a&~n;0<n;){var d=31-De(n),_=1<<d;l[d]=0,u[d]=-1;var m=h[d];if(m!==null)for(h[d]=null,d=0;d<m.length;d++){var E=m[d];E!==null&&(E.lane&=-536870913)}n&=~_}i!==0&&q_(e,i,0),s!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=s&~(a&~t))}function q_(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-De(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&4194090}function H_(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-De(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function Zf(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Wf(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function F_(){var e=ct.p;return e!==0?e:(e=window.event,e===void 0?32:uE(e.type))}function GA(e,t){var n=ct.p;try{return ct.p=e,t()}finally{ct.p=n}}var Di=Math.random().toString(36).slice(2),he="__reactFiber$"+Di,be="__reactProps$"+Di,Ts="__reactContainer$"+Di,Dh="__reactEvents$"+Di,YA="__reactListeners$"+Di,KA="__reactHandles$"+Di,jg="__reactResources$"+Di,so="__reactMarker$"+Di;function Jf(e){delete e[he],delete e[be],delete e[Dh],delete e[YA],delete e[KA]}function Or(e){var t=e[he];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ts]||n[he]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Yp(e);e!==null;){if(n=e[he])return n;e=Yp(e)}return t}e=n,n=e.parentNode}return null}function bs(e){if(e=e[he]||e[Ts]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function ia(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(P(33))}function Hr(e){var t=e[jg];return t||(t=e[jg]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Qt(e){e[so]=!0}var G_=new Set,Y_={};function ur(e,t){ns(e,t),ns(e+"Capture",t)}function ns(e,t){for(Y_[e]=t,e=0;e<t.length;e++)G_.add(t[e])}var QA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zg={},Bg={};function XA(e){return Nh.call(Bg,e)?!0:Nh.call(zg,e)?!1:QA.test(e)?Bg[e]=!0:(zg[e]=!0,!1)}function gl(e,t,n){if(XA(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Jo(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function vn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}var Vc,qg;function Sr(e){if(Vc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Vc=t&&t[1]||"",qg=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vc+e+qg}var kc=!1;function Pc(e,t){if(!e||kc)return"";kc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var _=function(){throw Error()};if(Object.defineProperty(_.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_,[])}catch(E){var m=E}Reflect.construct(e,[],_)}else{try{_.call()}catch(E){m=E}e.call(_.prototype)}}else{try{throw Error()}catch(E){m=E}(_=e())&&typeof _.catch=="function"&&_.catch(function(){})}}catch(E){if(E&&m&&typeof E.stack=="string")return[E.stack,m.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),a=s[0],l=s[1];if(a&&l){var u=a.split(`
`),h=l.split(`
`);for(r=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;r<h.length&&!h[r].includes("DetermineComponentFrameRoot");)r++;if(i===u.length||r===h.length)for(i=u.length-1,r=h.length-1;1<=i&&0<=r&&u[i]!==h[r];)r--;for(;1<=i&&0<=r;i--,r--)if(u[i]!==h[r]){if(i!==1||r!==1)do if(i--,r--,0>r||u[i]!==h[r]){var d=`
`+u[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=r);break}}}finally{kc=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Sr(n):""}function $A(e){switch(e.tag){case 26:case 27:case 5:return Sr(e.type);case 16:return Sr("Lazy");case 13:return Sr("Suspense");case 19:return Sr("SuspenseList");case 0:case 15:return Pc(e.type,!1);case 11:return Pc(e.type.render,!1);case 1:return Pc(e.type,!0);case 31:return Sr("Activity");default:return""}}function Hg(e){try{var t="";do t+=$A(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function K_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ZA(e){var t=K_(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zl(e){e._valueTracker||(e._valueTracker=ZA(e))}function Q_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=K_(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Bl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var WA=/[\n"\\]/g;function ze(e){return e.replace(WA,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Oh(e,t,n,i,r,s,a,l){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ue(t)):e.value!==""+Ue(t)&&(e.value=""+Ue(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?Mh(e,a,Ue(t)):n!=null?Mh(e,a,Ue(n)):i!=null&&e.removeAttribute("value"),r==null&&s!=null&&(e.defaultChecked=!!s),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+Ue(l):e.removeAttribute("name")}function X_(e,t,n,i,r,s,a,l){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null))return;n=n!=null?""+Ue(n):"",t=t!=null?""+Ue(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=l?e.checked:!!i,e.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a)}function Mh(e,t,n){t==="number"&&Bl(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Fr(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Ue(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function $_(e,t,n){if(t!=null&&(t=""+Ue(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Ue(n):""}function Z_(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(P(92));if(na(i)){if(1<i.length)throw Error(P(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=Ue(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i)}function is(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var JA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fg(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||JA.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function W_(e,t,n){if(t!=null&&typeof t!="object")throw Error(P(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&Fg(e,r,i)}else for(var s in t)t.hasOwnProperty(s)&&Fg(e,s,t[s])}function td(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),eS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pl(e){return eS.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Vh=null;function ed(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mr=null,Gr=null;function Gg(e){var t=bs(e);if(t&&(e=t.stateNode)){var n=e[be]||null;t:switch(e=t.stateNode,t.type){case"input":if(Oh(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ze(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[be]||null;if(!r)throw Error(P(90));Oh(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&Q_(i)}break t;case"textarea":$_(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&Fr(e,!!n.multiple,t,!1)}}}var Uc=!1;function J_(e,t,n){if(Uc)return e(t,n);Uc=!0;try{var i=e(t);return i}finally{if(Uc=!1,(Mr!==null||Gr!==null)&&(Hu(),Mr&&(t=Mr,e=Gr,Gr=Mr=null,Gg(t),e)))for(t=0;t<e.length;t++)Gg(e[t])}}function Da(e,t){var n=e.stateNode;if(n===null)return null;var i=n[be]||null;if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kh=!1;if(kn)try{var Ks={};Object.defineProperty(Ks,"passive",{get:function(){kh=!0}}),window.addEventListener("test",Ks,Ks),window.removeEventListener("test",Ks,Ks)}catch{kh=!1}var ui=null,nd=null,yl=null;function tv(){if(yl)return yl;var e,t=nd,n=t.length,i,r="value"in ui?ui.value:ui.textContent,s=r.length;for(e=0;e<n&&t[e]===r[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===r[s-i];i++);return yl=r.slice(e,1<i?1-i:void 0)}function _l(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function tl(){return!0}function Yg(){return!1}function Ae(e){function t(n,i,r,s,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?tl:Yg,this.isPropagationStopped=Yg,this}return bt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=tl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=tl)},persist:function(){},isPersistent:tl}),t}var cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vu=Ae(cr),ao=bt({},cr,{view:0,detail:0}),nS=Ae(ao),Lc,jc,Qs,ku=bt({},ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:id,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qs&&(Qs&&e.type==="mousemove"?(Lc=e.screenX-Qs.screenX,jc=e.screenY-Qs.screenY):jc=Lc=0,Qs=e),Lc)},movementY:function(e){return"movementY"in e?e.movementY:jc}}),Kg=Ae(ku),iS=bt({},ku,{dataTransfer:0}),rS=Ae(iS),sS=bt({},ao,{relatedTarget:0}),zc=Ae(sS),aS=bt({},cr,{animationName:0,elapsedTime:0,pseudoElement:0}),oS=Ae(aS),lS=bt({},cr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uS=Ae(lS),cS=bt({},cr,{data:0}),Qg=Ae(cS),hS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dS[e])?!!t[e]:!1}function id(){return mS}var gS=bt({},ao,{key:function(e){if(e.key){var t=hS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_l(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:id,charCode:function(e){return e.type==="keypress"?_l(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_l(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pS=Ae(gS),yS=bt({},ku,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xg=Ae(yS),_S=bt({},ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:id}),vS=Ae(_S),ES=bt({},cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),TS=Ae(ES),bS=bt({},ku,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),AS=Ae(bS),SS=bt({},cr,{newState:0,oldState:0}),wS=Ae(SS),RS=[9,13,27,32],rd=kn&&"CompositionEvent"in window,ha=null;kn&&"documentMode"in document&&(ha=document.documentMode);var xS=kn&&"TextEvent"in window&&!ha,ev=kn&&(!rd||ha&&8<ha&&11>=ha),$g=" ",Zg=!1;function nv(e,t){switch(e){case"keyup":return RS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vr=!1;function IS(e,t){switch(e){case"compositionend":return iv(t);case"keypress":return t.which!==32?null:(Zg=!0,$g);case"textInput":return e=t.data,e===$g&&Zg?null:e;default:return null}}function CS(e,t){if(Vr)return e==="compositionend"||!rd&&nv(e,t)?(e=tv(),yl=nd=ui=null,Vr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ev&&t.locale!=="ko"?null:t.data;default:return null}}var NS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!NS[e.type]:t==="textarea"}function rv(e,t,n,i){Mr?Gr?Gr.push(i):Gr=[i]:Mr=i,t=su(t,"onChange"),0<t.length&&(n=new Vu("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var fa=null,Oa=null;function DS(e){$0(e,0)}function Pu(e){var t=ia(e);if(Q_(t))return e}function Jg(e,t){if(e==="change")return t}var sv=!1;if(kn){var Bc;if(kn){var qc="oninput"in document;if(!qc){var tp=document.createElement("div");tp.setAttribute("oninput","return;"),qc=typeof tp.oninput=="function"}Bc=qc}else Bc=!1;sv=Bc&&(!document.documentMode||9<document.documentMode)}function ep(){fa&&(fa.detachEvent("onpropertychange",av),Oa=fa=null)}function av(e){if(e.propertyName==="value"&&Pu(Oa)){var t=[];rv(t,Oa,e,ed(e)),J_(DS,t)}}function OS(e,t,n){e==="focusin"?(ep(),fa=t,Oa=n,fa.attachEvent("onpropertychange",av)):e==="focusout"&&ep()}function MS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pu(Oa)}function VS(e,t){if(e==="click")return Pu(t)}function kS(e,t){if(e==="input"||e==="change")return Pu(t)}function PS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ve=typeof Object.is=="function"?Object.is:PS;function Ma(e,t){if(Ve(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Nh.call(t,r)||!Ve(e[r],t[r]))return!1}return!0}function np(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ip(e,t){var n=np(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=np(n)}}function ov(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ov(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function lv(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Bl(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Bl(e.document)}return t}function sd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var US=kn&&"documentMode"in document&&11>=document.documentMode,kr=null,Ph=null,da=null,Uh=!1;function rp(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Uh||kr==null||kr!==Bl(i)||(i=kr,"selectionStart"in i&&sd(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),da&&Ma(da,i)||(da=i,i=su(Ph,"onSelect"),0<i.length&&(t=new Vu("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=kr)))}function ji(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Pr={animationend:ji("Animation","AnimationEnd"),animationiteration:ji("Animation","AnimationIteration"),animationstart:ji("Animation","AnimationStart"),transitionrun:ji("Transition","TransitionRun"),transitionstart:ji("Transition","TransitionStart"),transitioncancel:ji("Transition","TransitionCancel"),transitionend:ji("Transition","TransitionEnd")},Hc={},uv={};kn&&(uv=document.createElement("div").style,"AnimationEvent"in window||(delete Pr.animationend.animation,delete Pr.animationiteration.animation,delete Pr.animationstart.animation),"TransitionEvent"in window||delete Pr.transitionend.transition);function hr(e){if(Hc[e])return Hc[e];if(!Pr[e])return e;var t=Pr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in uv)return Hc[e]=t[n];return e}var cv=hr("animationend"),hv=hr("animationiteration"),fv=hr("animationstart"),LS=hr("transitionrun"),jS=hr("transitionstart"),zS=hr("transitioncancel"),dv=hr("transitionend"),mv=new Map,Lh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lh.push("scrollEnd");function We(e,t){mv.set(e,t),ur(t,[e])}var sp=new WeakMap;function Be(e,t){if(typeof e=="object"&&e!==null){var n=sp.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Hg(t)},sp.set(e,t),t)}return{value:e,source:t,stack:Hg(t)}}var Pe=[],Ur=0,ad=0;function Uu(){for(var e=Ur,t=ad=Ur=0;t<e;){var n=Pe[t];Pe[t++]=null;var i=Pe[t];Pe[t++]=null;var r=Pe[t];Pe[t++]=null;var s=Pe[t];if(Pe[t++]=null,i!==null&&r!==null){var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}s!==0&&gv(n,r,s)}}function Lu(e,t,n,i){Pe[Ur++]=e,Pe[Ur++]=t,Pe[Ur++]=n,Pe[Ur++]=i,ad|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function od(e,t,n,i){return Lu(e,t,n,i),ql(e)}function As(e,t){return Lu(e,null,null,t),ql(e)}function gv(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var r=!1,s=e.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(r=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,r&&t!==null&&(r=31-De(n),e=s.hiddenUpdates,i=e[r],i===null?e[r]=[t]:i.push(t),t.lane=n|536870912),s):null}function ql(e){if(50<Aa)throw Aa=0,af=null,Error(P(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Lr={};function BS(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ce(e,t,n,i){return new BS(e,t,n,i)}function ld(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Dn(e,t){var n=e.alternate;return n===null?(n=Ce(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function pv(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function vl(e,t,n,i,r,s){var a=0;if(i=e,typeof e=="function")ld(e)&&(a=1);else if(typeof e=="string")a=Hw(e,n,sn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case Rh:return e=Ce(31,n,t,r),e.elementType=Rh,e.lanes=s,e;case Nr:return Yi(n.children,r,s,t);case k_:a=8,r|=24;break;case Ah:return e=Ce(12,n,t,r|2),e.elementType=Ah,e.lanes=s,e;case Sh:return e=Ce(13,n,t,r),e.elementType=Sh,e.lanes=s,e;case wh:return e=Ce(19,n,t,r),e.elementType=wh,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case DA:case An:a=10;break t;case P_:a=9;break t;case Qf:a=11;break t;case Xf:a=14;break t;case Wn:a=16,i=null;break t}a=29,n=Error(P(130,e===null?"null":typeof e,"")),i=null}return t=Ce(a,n,t,r),t.elementType=e,t.type=i,t.lanes=s,t}function Yi(e,t,n,i){return e=Ce(7,e,i,t),e.lanes=n,e}function Fc(e,t,n){return e=Ce(6,e,null,t),e.lanes=n,e}function Gc(e,t,n){return t=Ce(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var jr=[],zr=0,Hl=null,Fl=0,Le=[],je=0,Ki=null,Sn=1,wn="";function Bi(e,t){jr[zr++]=Fl,jr[zr++]=Hl,Hl=e,Fl=t}function yv(e,t,n){Le[je++]=Sn,Le[je++]=wn,Le[je++]=Ki,Ki=e;var i=Sn;e=wn;var r=32-De(i)-1;i&=~(1<<r),n+=1;var s=32-De(t)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,Sn=1<<32-De(t)+r|n<<r|i,wn=s+e}else Sn=1<<s|n<<r|i,wn=e}function ud(e){e.return!==null&&(Bi(e,1),yv(e,1,0))}function cd(e){for(;e===Hl;)Hl=jr[--zr],jr[zr]=null,Fl=jr[--zr],jr[zr]=null;for(;e===Ki;)Ki=Le[--je],Le[je]=null,wn=Le[--je],Le[je]=null,Sn=Le[--je],Le[je]=null}var pe=null,Ct=null,ut=!1,Qi=null,en=!1,jh=Error(P(519));function Ji(e){var t=Error(P(418,""));throw Va(Be(t,e)),jh}function ap(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[he]=e,t[be]=i,n){case"dialog":tt("cancel",t),tt("close",t);break;case"iframe":case"object":case"embed":tt("load",t);break;case"video":case"audio":for(n=0;n<Ua.length;n++)tt(Ua[n],t);break;case"source":tt("error",t);break;case"img":case"image":case"link":tt("error",t),tt("load",t);break;case"details":tt("toggle",t);break;case"input":tt("invalid",t),X_(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),zl(t);break;case"select":tt("invalid",t);break;case"textarea":tt("invalid",t),Z_(t,i.value,i.defaultValue,i.children),zl(t)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||W0(t.textContent,n)?(i.popover!=null&&(tt("beforetoggle",t),tt("toggle",t)),i.onScroll!=null&&tt("scroll",t),i.onScrollEnd!=null&&tt("scrollend",t),i.onClick!=null&&(t.onclick=Yu),t=!0):t=!1,t||Ji(e)}function op(e){for(pe=e.return;pe;)switch(pe.tag){case 5:case 13:en=!1;return;case 27:case 3:en=!0;return;default:pe=pe.return}}function Xs(e){if(e!==pe)return!1;if(!ut)return op(e),ut=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||ff(e.type,e.memoizedProps)),n=!n),n&&Ct&&Ji(e),op(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){Ct=$e(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}Ct=null}}else t===27?(t=Ct,Oi(e.type)?(e=gf,gf=null,Ct=e):Ct=t):Ct=pe?$e(e.stateNode.nextSibling):null;return!0}function oo(){Ct=pe=null,ut=!1}function lp(){var e=Qi;return e!==null&&(Te===null?Te=e:Te.push.apply(Te,e),Qi=null),e}function Va(e){Qi===null?Qi=[e]:Qi.push(e)}var zh=mn(null),fr=null,Rn=null;function ti(e,t,n){wt(zh,t._currentValue),t._currentValue=n}function On(e){e._currentValue=zh.current,$t(zh)}function Bh(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function qh(e,t,n,i){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var s=r.dependencies;if(s!==null){var a=r.child;s=s.firstContext;t:for(;s!==null;){var l=s;s=r;for(var u=0;u<t.length;u++)if(l.context===t[u]){s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Bh(s.return,n,e),i||(a=null);break t}s=l.next}}else if(r.tag===18){if(a=r.return,a===null)throw Error(P(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Bh(a,n,e),a=null}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===e){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}}function lo(e,t,n,i){e=null;for(var r=t,s=!1;r!==null;){if(!s){if(r.flags&524288)s=!0;else if(r.flags&262144)break}if(r.tag===10){var a=r.alternate;if(a===null)throw Error(P(387));if(a=a.memoizedProps,a!==null){var l=r.type;Ve(r.pendingProps.value,a.value)||(e!==null?e.push(l):e=[l])}}else if(r===Pl.current){if(a=r.alternate,a===null)throw Error(P(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(za):e=[za])}r=r.return}e!==null&&qh(t,e,n,i),t.flags|=262144}function Gl(e){for(e=e.firstContext;e!==null;){if(!Ve(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function tr(e){fr=e,Rn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function fe(e){return _v(fr,e)}function el(e,t){return fr===null&&tr(e),_v(e,t)}function _v(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Rn===null){if(e===null)throw Error(P(308));Rn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Rn=Rn.next=t;return n}var qS=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},HS=Ft.unstable_scheduleCallback,FS=Ft.unstable_NormalPriority,zt={$$typeof:An,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hd(){return{controller:new qS,data:new Map,refCount:0}}function uo(e){e.refCount--,e.refCount===0&&HS(FS,function(){e.controller.abort()})}var ma=null,Hh=0,rs=0,Yr=null;function GS(e,t){if(ma===null){var n=ma=[];Hh=0,rs=Vd(),Yr={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Hh++,t.then(up,up),t}function up(){if(--Hh===0&&ma!==null){Yr!==null&&(Yr.status="fulfilled");var e=ma;ma=null,rs=0,Yr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function YS(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var cp=Y.S;Y.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&GS(e,t),cp!==null&&cp(e,t)};var Xi=mn(null);function fd(){var e=Xi.current;return e!==null?e:vt.pooledCache}function El(e,t){t===null?wt(Xi,Xi.current):wt(Xi,t.pool)}function vv(){var e=fd();return e===null?null:{parent:zt._currentValue,pool:e}}var co=Error(P(460)),Ev=Error(P(474)),ju=Error(P(542)),Fh={then:function(){}};function hp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function nl(){}function Tv(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(nl,nl),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,dp(e),e;default:if(typeof t.status=="string")t.then(nl,nl);else{if(e=vt,e!==null&&100<e.shellSuspendCounter)throw Error(P(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=i}},function(i){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,dp(e),e}throw ga=t,co}}var ga=null;function fp(){if(ga===null)throw Error(P(459));var e=ga;return ga=null,e}function dp(e){if(e===co||e===ju)throw Error(P(483))}var Jn=!1;function dd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function mi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function gi(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,ft&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=ql(e),gv(e,null,n),t}return Lu(e,i,t,n),ql(e)}function pa(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,H_(e,n)}}function Yc(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?r=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?r=s=t:s=s.next=t}else r=s=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Yh=!1;function ya(){if(Yh){var e=Yr;if(e!==null)throw e}}function _a(e,t,n,i){Yh=!1;var r=e.updateQueue;Jn=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var u=l,h=u.next;u.next=null,a===null?s=h:a.next=h,a=u;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=h:l.next=h,d.lastBaseUpdate=u))}if(s!==null){var _=r.baseState;a=0,d=h=u=null,l=s;do{var m=l.lane&-536870913,E=m!==l.lane;if(E?(at&m)===m:(i&m)===m){m!==0&&m===rs&&(Yh=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});t:{var D=e,O=l;m=t;var V=n;switch(O.tag){case 1:if(D=O.payload,typeof D=="function"){_=D.call(V,_,m);break t}_=D;break t;case 3:D.flags=D.flags&-65537|128;case 0:if(D=O.payload,m=typeof D=="function"?D.call(V,_,m):D,m==null)break t;_=bt({},_,m);break t;case 2:Jn=!0}}m=l.callback,m!==null&&(e.flags|=64,E&&(e.flags|=8192),E=r.callbacks,E===null?r.callbacks=[m]:E.push(m))}else E={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(h=d=E,u=_):d=d.next=E,a|=m;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;E=l,l=E.next,E.next=null,r.lastBaseUpdate=E,r.shared.pending=null}}while(!0);d===null&&(u=_),r.baseState=u,r.firstBaseUpdate=h,r.lastBaseUpdate=d,s===null&&(r.shared.lanes=0),xi|=a,e.lanes=a,e.memoizedState=_}}function bv(e,t){if(typeof e!="function")throw Error(P(191,e));e.call(t)}function Av(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)bv(n[e],t)}var ss=mn(null),Yl=mn(0);function mp(e,t){e=Ln,wt(Yl,e),wt(ss,t),Ln=e|t.baseLanes}function Kh(){wt(Yl,Ln),wt(ss,ss.current)}function md(){Ln=Yl.current,$t(ss),$t(Yl)}var wi=0,J=null,gt=null,Lt=null,Kl=!1,Kr=!1,er=!1,Ql=0,ka=0,Qr=null,KS=0;function Mt(){throw Error(P(321))}function gd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ve(e[n],t[n]))return!1;return!0}function pd(e,t,n,i,r,s){return wi=s,J=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Y.H=e===null||e.memoizedState===null?t0:e0,er=!1,s=n(i,r),er=!1,Kr&&(s=wv(t,n,i,r)),Sv(e),s}function Sv(e){Y.H=Xl;var t=gt!==null&&gt.next!==null;if(wi=0,Lt=gt=J=null,Kl=!1,ka=0,Qr=null,t)throw Error(P(300));e===null||Xt||(e=e.dependencies,e!==null&&Gl(e)&&(Xt=!0))}function wv(e,t,n,i){J=e;var r=0;do{if(Kr&&(Qr=null),ka=0,Kr=!1,25<=r)throw Error(P(301));if(r+=1,Lt=gt=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}Y.H=tw,s=t(n,i)}while(Kr);return s}function QS(){var e=Y.H,t=e.useState()[0];return t=typeof t.then=="function"?ho(t):t,e=e.useState()[0],(gt!==null?gt.memoizedState:null)!==e&&(J.flags|=1024),t}function yd(){var e=Ql!==0;return Ql=0,e}function _d(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function vd(e){if(Kl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Kl=!1}wi=0,Lt=gt=J=null,Kr=!1,ka=Ql=0,Qr=null}function ve(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?J.memoizedState=Lt=e:Lt=Lt.next=e,Lt}function jt(){if(gt===null){var e=J.alternate;e=e!==null?e.memoizedState:null}else e=gt.next;var t=Lt===null?J.memoizedState:Lt.next;if(t!==null)Lt=t,gt=e;else{if(e===null)throw J.alternate===null?Error(P(467)):Error(P(310));gt=e,e={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Lt===null?J.memoizedState=Lt=e:Lt=Lt.next=e}return Lt}function Ed(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ho(e){var t=ka;return ka+=1,Qr===null&&(Qr=[]),e=Tv(Qr,e,t),t=J,(Lt===null?t.memoizedState:Lt.next)===null&&(t=t.alternate,Y.H=t===null||t.memoizedState===null?t0:e0),e}function zu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ho(e);if(e.$$typeof===An)return fe(e)}throw Error(P(438,String(e)))}function Td(e){var t=null,n=J.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=J.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Ed(),J.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=OA;return t.index++,n}function Pn(e,t){return typeof t=="function"?t(e):t}function Tl(e){var t=jt();return bd(t,gt,e)}function bd(e,t,n){var i=e.queue;if(i===null)throw Error(P(311));i.lastRenderedReducer=n;var r=e.baseQueue,s=i.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}t.baseQueue=r=s,i.pending=null}if(s=e.baseState,r===null)e.memoizedState=s;else{t=r.next;var l=a=null,u=null,h=t,d=!1;do{var _=h.lane&-536870913;if(_!==h.lane?(at&_)===_:(wi&_)===_){var m=h.revertLane;if(m===0)u!==null&&(u=u.next={lane:0,revertLane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),_===rs&&(d=!0);else if((wi&m)===m){h=h.next,m===rs&&(d=!0);continue}else _={lane:0,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(l=u=_,a=s):u=u.next=_,J.lanes|=m,xi|=m;_=h.action,er&&n(s,_),s=h.hasEagerState?h.eagerState:n(s,_)}else m={lane:_,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(l=u=m,a=s):u=u.next=m,J.lanes|=_,xi|=_;h=h.next}while(h!==null&&h!==t);if(u===null?a=s:u.next=l,!Ve(s,e.memoizedState)&&(Xt=!0,d&&(n=Yr,n!==null)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=u,i.lastRenderedState=s}return r===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Kc(e){var t=jt(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do s=e(s,a.action),a=a.next;while(a!==r);Ve(s,t.memoizedState)||(Xt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function Rv(e,t,n){var i=J,r=jt(),s=ut;if(s){if(n===void 0)throw Error(P(407));n=n()}else n=t();var a=!Ve((gt||r).memoizedState,n);a&&(r.memoizedState=n,Xt=!0),r=r.queue;var l=Cv.bind(null,i,r,e);if(fo(2048,8,l,[e]),r.getSnapshot!==t||a||Lt!==null&&Lt.memoizedState.tag&1){if(i.flags|=2048,as(9,Bu(),Iv.bind(null,i,r,n,t),null),vt===null)throw Error(P(349));s||wi&124||xv(i,t,n)}return n}function xv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=J.updateQueue,t===null?(t=Ed(),J.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Iv(e,t,n,i){t.value=n,t.getSnapshot=i,Nv(t)&&Dv(e)}function Cv(e,t,n){return n(function(){Nv(t)&&Dv(e)})}function Nv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ve(e,n)}catch{return!0}}function Dv(e){var t=As(e,2);t!==null&&Me(t,e,2)}function Qh(e){var t=ve();if(typeof e=="function"){var n=e;if(e=n(),er){li(!0);try{n()}finally{li(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:e},t}function Ov(e,t,n,i){return e.baseState=n,bd(e,gt,typeof i=="function"?i:Pn)}function XS(e,t,n,i,r){if(qu(e))throw Error(P(485));if(e=t.action,e!==null){var s={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};Y.T!==null?n(!0):s.isTransition=!1,i(s),n=t.pending,n===null?(s.next=t.pending=s,Mv(t,s)):(s.next=n.next,t.pending=n.next=s)}}function Mv(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var s=Y.T,a={};Y.T=a;try{var l=n(r,i),u=Y.S;u!==null&&u(a,l),gp(e,t,l)}catch(h){Xh(e,t,h)}finally{Y.T=s}}else try{s=n(r,i),gp(e,t,s)}catch(h){Xh(e,t,h)}}function gp(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){pp(e,t,i)},function(i){return Xh(e,t,i)}):pp(e,t,n)}function pp(e,t,n){t.status="fulfilled",t.value=n,Vv(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Mv(e,n)))}function Xh(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,Vv(t),t=t.next;while(t!==i)}e.action=null}function Vv(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function kv(e,t){return t}function yp(e,t){if(ut){var n=vt.formState;if(n!==null){t:{var i=J;if(ut){if(Ct){e:{for(var r=Ct,s=en;r.nodeType!==8;){if(!s){r=null;break e}if(r=$e(r.nextSibling),r===null){r=null;break e}}s=r.data,r=s==="F!"||s==="F"?r:null}if(r){Ct=$e(r.nextSibling),i=r.data==="F!";break t}}Ji(i)}i=!1}i&&(t=n[0])}}return n=ve(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kv,lastRenderedState:t},n.queue=i,n=Zv.bind(null,J,i),i.dispatch=n,i=Qh(!1),s=Rd.bind(null,J,!1,i.queue),i=ve(),r={state:t,dispatch:null,action:e,pending:null},i.queue=r,n=XS.bind(null,J,r,s,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function _p(e){var t=jt();return Pv(t,gt,e)}function Pv(e,t,n){if(t=bd(e,t,kv)[0],e=Tl(Pn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=ho(t)}catch(a){throw a===co?ju:a}else i=t;t=jt();var r=t.queue,s=r.dispatch;return n!==t.memoizedState&&(J.flags|=2048,as(9,Bu(),$S.bind(null,r,n),null)),[i,s,e]}function $S(e,t){e.action=t}function vp(e){var t=jt(),n=gt;if(n!==null)return Pv(t,n,e);jt(),t=t.memoizedState,n=jt();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function as(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=J.updateQueue,t===null&&(t=Ed(),J.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Bu(){return{destroy:void 0,resource:void 0}}function Uv(){return jt().memoizedState}function bl(e,t,n,i){var r=ve();i=i===void 0?null:i,J.flags|=e,r.memoizedState=as(1|t,Bu(),n,i)}function fo(e,t,n,i){var r=jt();i=i===void 0?null:i;var s=r.memoizedState.inst;gt!==null&&i!==null&&gd(i,gt.memoizedState.deps)?r.memoizedState=as(t,s,n,i):(J.flags|=e,r.memoizedState=as(1|t,s,n,i))}function Ep(e,t){bl(8390656,8,e,t)}function Lv(e,t){fo(2048,8,e,t)}function jv(e,t){return fo(4,2,e,t)}function zv(e,t){return fo(4,4,e,t)}function Bv(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qv(e,t,n){n=n!=null?n.concat([e]):null,fo(4,4,Bv.bind(null,t,e),n)}function Ad(){}function Hv(e,t){var n=jt();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&gd(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Fv(e,t){var n=jt();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&gd(t,i[1]))return i[0];if(i=e(),er){li(!0);try{e()}finally{li(!1)}}return n.memoizedState=[i,t],i}function Sd(e,t,n){return n===void 0||wi&1073741824?e.memoizedState=t:(e.memoizedState=n,e=V0(),J.lanes|=e,xi|=e,n)}function Gv(e,t,n,i){return Ve(n,t)?n:ss.current!==null?(e=Sd(e,n,i),Ve(e,t)||(Xt=!0),e):wi&42?(e=V0(),J.lanes|=e,xi|=e,t):(Xt=!0,e.memoizedState=n)}function Yv(e,t,n,i,r){var s=ct.p;ct.p=s!==0&&8>s?s:8;var a=Y.T,l={};Y.T=l,Rd(e,!1,t,n);try{var u=r(),h=Y.S;if(h!==null&&h(l,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=YS(u,i);va(e,t,d,Oe(e))}else va(e,t,i,Oe(e))}catch(_){va(e,t,{then:function(){},status:"rejected",reason:_},Oe())}finally{ct.p=s,Y.T=a}}function ZS(){}function $h(e,t,n,i){if(e.tag!==5)throw Error(P(476));var r=Kv(e).queue;Yv(e,r,t,Gi,n===null?ZS:function(){return Qv(e),n(i)})}function Kv(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Gi,baseState:Gi,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:Gi},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Qv(e){var t=Kv(e).next.queue;va(e,t,{},Oe())}function wd(){return fe(za)}function Xv(){return jt().memoizedState}function $v(){return jt().memoizedState}function WS(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Oe();e=mi(n);var i=gi(t,e,n);i!==null&&(Me(i,t,n),pa(i,t,n)),t={cache:hd()},e.payload=t;return}t=t.return}}function JS(e,t,n){var i=Oe();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},qu(e)?Wv(t,n):(n=od(e,t,n,i),n!==null&&(Me(n,e,i),Jv(n,t,i)))}function Zv(e,t,n){var i=Oe();va(e,t,n,i)}function va(e,t,n,i){var r={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(qu(e))Wv(t,r);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,n);if(r.hasEagerState=!0,r.eagerState=l,Ve(l,a))return Lu(e,t,r,0),vt===null&&Uu(),!1}catch{}finally{}if(n=od(e,t,r,i),n!==null)return Me(n,e,i),Jv(n,t,i),!0}return!1}function Rd(e,t,n,i){if(i={lane:2,revertLane:Vd(),action:i,hasEagerState:!1,eagerState:null,next:null},qu(e)){if(t)throw Error(P(479))}else t=od(e,n,i,2),t!==null&&Me(t,e,2)}function qu(e){var t=e.alternate;return e===J||t!==null&&t===J}function Wv(e,t){Kr=Kl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Jv(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,H_(e,n)}}var Xl={readContext:fe,use:zu,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useLayoutEffect:Mt,useInsertionEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useSyncExternalStore:Mt,useId:Mt,useHostTransitionStatus:Mt,useFormState:Mt,useActionState:Mt,useOptimistic:Mt,useMemoCache:Mt,useCacheRefresh:Mt},t0={readContext:fe,use:zu,useCallback:function(e,t){return ve().memoizedState=[e,t===void 0?null:t],e},useContext:fe,useEffect:Ep,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,bl(4194308,4,Bv.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bl(4194308,4,e,t)},useInsertionEffect:function(e,t){bl(4,2,e,t)},useMemo:function(e,t){var n=ve();t=t===void 0?null:t;var i=e();if(er){li(!0);try{e()}finally{li(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=ve();if(n!==void 0){var r=n(t);if(er){li(!0);try{n(t)}finally{li(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=JS.bind(null,J,e),[i.memoizedState,e]},useRef:function(e){var t=ve();return e={current:e},t.memoizedState=e},useState:function(e){e=Qh(e);var t=e.queue,n=Zv.bind(null,J,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ad,useDeferredValue:function(e,t){var n=ve();return Sd(n,e,t)},useTransition:function(){var e=Qh(!1);return e=Yv.bind(null,J,e.queue,!0,!1),ve().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=J,r=ve();if(ut){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),vt===null)throw Error(P(349));at&124||xv(i,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,Ep(Cv.bind(null,i,s,e),[e]),i.flags|=2048,as(9,Bu(),Iv.bind(null,i,s,n,t),null),n},useId:function(){var e=ve(),t=vt.identifierPrefix;if(ut){var n=wn,i=Sn;n=(i&~(1<<32-De(i)-1)).toString(32)+n,t="«"+t+"R"+n,n=Ql++,0<n&&(t+="H"+n.toString(32)),t+="»"}else n=KS++,t="«"+t+"r"+n.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:wd,useFormState:yp,useActionState:yp,useOptimistic:function(e){var t=ve();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Rd.bind(null,J,!0,n),n.dispatch=t,[e,t]},useMemoCache:Td,useCacheRefresh:function(){return ve().memoizedState=WS.bind(null,J)}},e0={readContext:fe,use:zu,useCallback:Hv,useContext:fe,useEffect:Lv,useImperativeHandle:qv,useInsertionEffect:jv,useLayoutEffect:zv,useMemo:Fv,useReducer:Tl,useRef:Uv,useState:function(){return Tl(Pn)},useDebugValue:Ad,useDeferredValue:function(e,t){var n=jt();return Gv(n,gt.memoizedState,e,t)},useTransition:function(){var e=Tl(Pn)[0],t=jt().memoizedState;return[typeof e=="boolean"?e:ho(e),t]},useSyncExternalStore:Rv,useId:Xv,useHostTransitionStatus:wd,useFormState:_p,useActionState:_p,useOptimistic:function(e,t){var n=jt();return Ov(n,gt,e,t)},useMemoCache:Td,useCacheRefresh:$v},tw={readContext:fe,use:zu,useCallback:Hv,useContext:fe,useEffect:Lv,useImperativeHandle:qv,useInsertionEffect:jv,useLayoutEffect:zv,useMemo:Fv,useReducer:Kc,useRef:Uv,useState:function(){return Kc(Pn)},useDebugValue:Ad,useDeferredValue:function(e,t){var n=jt();return gt===null?Sd(n,e,t):Gv(n,gt.memoizedState,e,t)},useTransition:function(){var e=Kc(Pn)[0],t=jt().memoizedState;return[typeof e=="boolean"?e:ho(e),t]},useSyncExternalStore:Rv,useId:Xv,useHostTransitionStatus:wd,useFormState:vp,useActionState:vp,useOptimistic:function(e,t){var n=jt();return gt!==null?Ov(n,gt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Td,useCacheRefresh:$v},Xr=null,Pa=0;function il(e){var t=Pa;return Pa+=1,Xr===null&&(Xr=[]),Tv(Xr,e,t)}function $s(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function rl(e,t){throw t.$$typeof===NA?Error(P(525)):(e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Tp(e){var t=e._init;return t(e._payload)}function n0(e){function t(b,v){if(e){var S=b.deletions;S===null?(b.deletions=[v],b.flags|=16):S.push(v)}}function n(b,v){if(!e)return null;for(;v!==null;)t(b,v),v=v.sibling;return null}function i(b){for(var v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function r(b,v){return b=Dn(b,v),b.index=0,b.sibling=null,b}function s(b,v,S){return b.index=S,e?(S=b.alternate,S!==null?(S=S.index,S<v?(b.flags|=67108866,v):S):(b.flags|=67108866,v)):(b.flags|=1048576,v)}function a(b){return e&&b.alternate===null&&(b.flags|=67108866),b}function l(b,v,S,x){return v===null||v.tag!==6?(v=Fc(S,b.mode,x),v.return=b,v):(v=r(v,S),v.return=b,v)}function u(b,v,S,x){var k=S.type;return k===Nr?d(b,v,S.props.children,x,S.key):v!==null&&(v.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Wn&&Tp(k)===v.type)?(v=r(v,S.props),$s(v,S),v.return=b,v):(v=vl(S.type,S.key,S.props,null,b.mode,x),$s(v,S),v.return=b,v)}function h(b,v,S,x){return v===null||v.tag!==4||v.stateNode.containerInfo!==S.containerInfo||v.stateNode.implementation!==S.implementation?(v=Gc(S,b.mode,x),v.return=b,v):(v=r(v,S.children||[]),v.return=b,v)}function d(b,v,S,x,k){return v===null||v.tag!==7?(v=Yi(S,b.mode,x,k),v.return=b,v):(v=r(v,S),v.return=b,v)}function _(b,v,S){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=Fc(""+v,b.mode,S),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case $o:return S=vl(v.type,v.key,v.props,null,b.mode,S),$s(S,v),S.return=b,S;case ea:return v=Gc(v,b.mode,S),v.return=b,v;case Wn:var x=v._init;return v=x(v._payload),_(b,v,S)}if(na(v)||Ys(v))return v=Yi(v,b.mode,S,null),v.return=b,v;if(typeof v.then=="function")return _(b,il(v),S);if(v.$$typeof===An)return _(b,el(b,v),S);rl(b,v)}return null}function m(b,v,S,x){var k=v!==null?v.key:null;if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return k!==null?null:l(b,v,""+S,x);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case $o:return S.key===k?u(b,v,S,x):null;case ea:return S.key===k?h(b,v,S,x):null;case Wn:return k=S._init,S=k(S._payload),m(b,v,S,x)}if(na(S)||Ys(S))return k!==null?null:d(b,v,S,x,null);if(typeof S.then=="function")return m(b,v,il(S),x);if(S.$$typeof===An)return m(b,v,el(b,S),x);rl(b,S)}return null}function E(b,v,S,x,k){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return b=b.get(S)||null,l(v,b,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case $o:return b=b.get(x.key===null?S:x.key)||null,u(v,b,x,k);case ea:return b=b.get(x.key===null?S:x.key)||null,h(v,b,x,k);case Wn:var j=x._init;return x=j(x._payload),E(b,v,S,x,k)}if(na(x)||Ys(x))return b=b.get(S)||null,d(v,b,x,k,null);if(typeof x.then=="function")return E(b,v,S,il(x),k);if(x.$$typeof===An)return E(b,v,S,el(v,x),k);rl(v,x)}return null}function D(b,v,S,x){for(var k=null,j=null,A=v,p=v=0,T=null;A!==null&&p<S.length;p++){A.index>p?(T=A,A=null):T=A.sibling;var w=m(b,A,S[p],x);if(w===null){A===null&&(A=T);break}e&&A&&w.alternate===null&&t(b,A),v=s(w,v,p),j===null?k=w:j.sibling=w,j=w,A=T}if(p===S.length)return n(b,A),ut&&Bi(b,p),k;if(A===null){for(;p<S.length;p++)A=_(b,S[p],x),A!==null&&(v=s(A,v,p),j===null?k=A:j.sibling=A,j=A);return ut&&Bi(b,p),k}for(A=i(A);p<S.length;p++)T=E(A,b,p,S[p],x),T!==null&&(e&&T.alternate!==null&&A.delete(T.key===null?p:T.key),v=s(T,v,p),j===null?k=T:j.sibling=T,j=T);return e&&A.forEach(function(I){return t(b,I)}),ut&&Bi(b,p),k}function O(b,v,S,x){if(S==null)throw Error(P(151));for(var k=null,j=null,A=v,p=v=0,T=null,w=S.next();A!==null&&!w.done;p++,w=S.next()){A.index>p?(T=A,A=null):T=A.sibling;var I=m(b,A,w.value,x);if(I===null){A===null&&(A=T);break}e&&A&&I.alternate===null&&t(b,A),v=s(I,v,p),j===null?k=I:j.sibling=I,j=I,A=T}if(w.done)return n(b,A),ut&&Bi(b,p),k;if(A===null){for(;!w.done;p++,w=S.next())w=_(b,w.value,x),w!==null&&(v=s(w,v,p),j===null?k=w:j.sibling=w,j=w);return ut&&Bi(b,p),k}for(A=i(A);!w.done;p++,w=S.next())w=E(A,b,p,w.value,x),w!==null&&(e&&w.alternate!==null&&A.delete(w.key===null?p:w.key),v=s(w,v,p),j===null?k=w:j.sibling=w,j=w);return e&&A.forEach(function(C){return t(b,C)}),ut&&Bi(b,p),k}function V(b,v,S,x){if(typeof S=="object"&&S!==null&&S.type===Nr&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case $o:t:{for(var k=S.key;v!==null;){if(v.key===k){if(k=S.type,k===Nr){if(v.tag===7){n(b,v.sibling),x=r(v,S.props.children),x.return=b,b=x;break t}}else if(v.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Wn&&Tp(k)===v.type){n(b,v.sibling),x=r(v,S.props),$s(x,S),x.return=b,b=x;break t}n(b,v);break}else t(b,v);v=v.sibling}S.type===Nr?(x=Yi(S.props.children,b.mode,x,S.key),x.return=b,b=x):(x=vl(S.type,S.key,S.props,null,b.mode,x),$s(x,S),x.return=b,b=x)}return a(b);case ea:t:{for(k=S.key;v!==null;){if(v.key===k)if(v.tag===4&&v.stateNode.containerInfo===S.containerInfo&&v.stateNode.implementation===S.implementation){n(b,v.sibling),x=r(v,S.children||[]),x.return=b,b=x;break t}else{n(b,v);break}else t(b,v);v=v.sibling}x=Gc(S,b.mode,x),x.return=b,b=x}return a(b);case Wn:return k=S._init,S=k(S._payload),V(b,v,S,x)}if(na(S))return D(b,v,S,x);if(Ys(S)){if(k=Ys(S),typeof k!="function")throw Error(P(150));return S=k.call(S),O(b,v,S,x)}if(typeof S.then=="function")return V(b,v,il(S),x);if(S.$$typeof===An)return V(b,v,el(b,S),x);rl(b,S)}return typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint"?(S=""+S,v!==null&&v.tag===6?(n(b,v.sibling),x=r(v,S),x.return=b,b=x):(n(b,v),x=Fc(S,b.mode,x),x.return=b,b=x),a(b)):n(b,v)}return function(b,v,S,x){try{Pa=0;var k=V(b,v,S,x);return Xr=null,k}catch(A){if(A===co||A===ju)throw A;var j=Ce(29,A,null,b.mode);return j.lanes=x,j.return=b,j}finally{}}}var os=n0(!0),i0=n0(!1),Ge=mn(null),on=null;function ei(e){var t=e.alternate;wt(Bt,Bt.current&1),wt(Ge,e),on===null&&(t===null||ss.current!==null||t.memoizedState!==null)&&(on=e)}function r0(e){if(e.tag===22){if(wt(Bt,Bt.current),wt(Ge,e),on===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(on=e)}}else ni()}function ni(){wt(Bt,Bt.current),wt(Ge,Ge.current)}function xn(e){$t(Ge),on===e&&(on=null),$t(Bt)}var Bt=mn(0);function $l(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||mf(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Qc(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:bt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Zh={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Oe(),r=mi(i);r.payload=t,n!=null&&(r.callback=n),t=gi(e,r,i),t!==null&&(Me(t,e,i),pa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Oe(),r=mi(i);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=gi(e,r,i),t!==null&&(Me(t,e,i),pa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Oe(),i=mi(n);i.tag=2,t!=null&&(i.callback=t),t=gi(e,i,n),t!==null&&(Me(t,e,n),pa(t,e,n))}};function bp(e,t,n,i,r,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,a):t.prototype&&t.prototype.isPureReactComponent?!Ma(n,i)||!Ma(r,s):!0}function Ap(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Zh.enqueueReplaceState(t,t.state,null)}function nr(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=bt({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}var Zl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function s0(e){Zl(e)}function a0(e){console.error(e)}function o0(e){Zl(e)}function Wl(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Sp(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Wh(e,t,n){return n=mi(n),n.tag=3,n.payload={element:null},n.callback=function(){Wl(e,t)},n}function l0(e){return e=mi(e),e.tag=3,e}function u0(e,t,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=i.value;e.payload=function(){return r(s)},e.callback=function(){Sp(t,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){Sp(t,n,i),typeof r!="function"&&(pi===null?pi=new Set([this]):pi.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function ew(e,t,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&lo(t,n,r,!0),n=Ge.current,n!==null){switch(n.tag){case 13:return on===null?of():n.alternate===null&&Nt===0&&(Nt=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===Fh?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),sh(e,i,r)),!1;case 22:return n.flags|=65536,i===Fh?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),sh(e,i,r)),!1}throw Error(P(435,n.tag))}return sh(e,i,r),of(),!1}if(ut)return t=Ge.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==jh&&(e=Error(P(422),{cause:i}),Va(Be(e,n)))):(i!==jh&&(t=Error(P(423),{cause:i}),Va(Be(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,i=Be(i,n),r=Wh(e.stateNode,i,r),Yc(e,r),Nt!==4&&(Nt=2)),!1;var s=Error(P(520),{cause:i});if(s=Be(s,n),ba===null?ba=[s]:ba.push(s),Nt!==4&&(Nt=2),t===null)return!0;i=Be(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=Wh(n.stateNode,i,e),Yc(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(pi===null||!pi.has(s))))return n.flags|=65536,r&=-r,n.lanes|=r,r=l0(r),u0(r,e,n,i),Yc(n,r),!1}n=n.return}while(n!==null);return!1}var c0=Error(P(461)),Xt=!1;function Wt(e,t,n,i){t.child=e===null?i0(t,null,n,i):os(t,e.child,n,i)}function wp(e,t,n,i,r){n=n.render;var s=t.ref;if("ref"in i){var a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}else a=i;return tr(t),i=pd(e,t,n,a,s,r),l=yd(),e!==null&&!Xt?(_d(e,t,r),Un(e,t,r)):(ut&&l&&ud(t),t.flags|=1,Wt(e,t,i,r),t.child)}function Rp(e,t,n,i,r){if(e===null){var s=n.type;return typeof s=="function"&&!ld(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,h0(e,t,s,i,r)):(e=vl(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!xd(e,r)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ma,n(a,i)&&e.ref===t.ref)return Un(e,t,r)}return t.flags|=1,e=Dn(s,i),e.ref=t.ref,e.return=t,t.child=e}function h0(e,t,n,i,r){if(e!==null){var s=e.memoizedProps;if(Ma(s,i)&&e.ref===t.ref)if(Xt=!1,t.pendingProps=i=s,xd(e,r))e.flags&131072&&(Xt=!0);else return t.lanes=e.lanes,Un(e,t,r)}return Jh(e,t,n,i,r)}function f0(e,t,n){var i=t.pendingProps,r=i.children,s=e!==null?e.memoizedState:null;if(i.mode==="hidden"){if(t.flags&128){if(i=s!==null?s.baseLanes|n:n,e!==null){for(r=t.child=e.child,s=0;r!==null;)s=s|r.lanes|r.childLanes,r=r.sibling;t.childLanes=s&~i}else t.childLanes=0,t.child=null;return xp(e,t,i,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&El(t,s!==null?s.cachePool:null),s!==null?mp(t,s):Kh(),r0(t);else return t.lanes=t.childLanes=536870912,xp(e,t,s!==null?s.baseLanes|n:n,n)}else s!==null?(El(t,s.cachePool),mp(t,s),ni(),t.memoizedState=null):(e!==null&&El(t,null),Kh(),ni());return Wt(e,t,r,n),t.child}function xp(e,t,n,i){var r=fd();return r=r===null?null:{parent:zt._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&El(t,null),Kh(),r0(t),e!==null&&lo(e,t,i,!0),null}function Al(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(P(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Jh(e,t,n,i,r){return tr(t),n=pd(e,t,n,i,void 0,r),i=yd(),e!==null&&!Xt?(_d(e,t,r),Un(e,t,r)):(ut&&i&&ud(t),t.flags|=1,Wt(e,t,n,r),t.child)}function Ip(e,t,n,i,r,s){return tr(t),t.updateQueue=null,n=wv(t,i,n,r),Sv(e),i=yd(),e!==null&&!Xt?(_d(e,t,s),Un(e,t,s)):(ut&&i&&ud(t),t.flags|=1,Wt(e,t,n,s),t.child)}function Cp(e,t,n,i,r){if(tr(t),t.stateNode===null){var s=Lr,a=n.contextType;typeof a=="object"&&a!==null&&(s=fe(a)),s=new n(i,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Zh,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=i,s.state=t.memoizedState,s.refs={},dd(t),a=n.contextType,s.context=typeof a=="object"&&a!==null?fe(a):Lr,s.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Qc(t,n,a,i),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&Zh.enqueueReplaceState(s,s.state,null),_a(t,i,s,r),ya(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){s=t.stateNode;var l=t.memoizedProps,u=nr(n,l);s.props=u;var h=s.context,d=n.contextType;a=Lr,typeof d=="object"&&d!==null&&(a=fe(d));var _=n.getDerivedStateFromProps;d=typeof _=="function"||typeof s.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l||h!==a)&&Ap(t,s,i,a),Jn=!1;var m=t.memoizedState;s.state=m,_a(t,i,s,r),ya(),h=t.memoizedState,l||m!==h||Jn?(typeof _=="function"&&(Qc(t,n,_,i),h=t.memoizedState),(u=Jn||bp(t,n,u,i,m,h,a))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=h),s.props=i,s.state=h,s.context=a,i=u):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,Gh(e,t),a=t.memoizedProps,d=nr(n,a),s.props=d,_=t.pendingProps,m=s.context,h=n.contextType,u=Lr,typeof h=="object"&&h!==null&&(u=fe(h)),l=n.getDerivedStateFromProps,(h=typeof l=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==_||m!==u)&&Ap(t,s,i,u),Jn=!1,m=t.memoizedState,s.state=m,_a(t,i,s,r),ya();var E=t.memoizedState;a!==_||m!==E||Jn||e!==null&&e.dependencies!==null&&Gl(e.dependencies)?(typeof l=="function"&&(Qc(t,n,l,i),E=t.memoizedState),(d=Jn||bp(t,n,d,i,m,E,u)||e!==null&&e.dependencies!==null&&Gl(e.dependencies))?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,E,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,E,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=E),s.props=i,s.state=E,s.context=u,i=d):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),i=!1)}return s=i,Al(e,t),i=(t.flags&128)!==0,s||i?(s=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&i?(t.child=os(t,e.child,null,r),t.child=os(t,null,n,r)):Wt(e,t,n,r),t.memoizedState=s.state,e=t.child):e=Un(e,t,r),e}function Np(e,t,n,i){return oo(),t.flags|=256,Wt(e,t,n,i),t.child}var Xc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $c(e){return{baseLanes:e,cachePool:vv()}}function Zc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=He),e}function d0(e,t,n){var i=t.pendingProps,r=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(Bt.current&2)!==0),a&&(r=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(ut){if(r?ei(t):ni(),ut){var l=Ct,u;if(u=l){t:{for(u=l,l=en;u.nodeType!==8;){if(!l){l=null;break t}if(u=$e(u.nextSibling),u===null){l=null;break t}}l=u}l!==null?(t.memoizedState={dehydrated:l,treeContext:Ki!==null?{id:Sn,overflow:wn}:null,retryLane:536870912,hydrationErrors:null},u=Ce(18,null,null,0),u.stateNode=l,u.return=t,t.child=u,pe=t,Ct=null,u=!0):u=!1}u||Ji(t)}if(l=t.memoizedState,l!==null&&(l=l.dehydrated,l!==null))return mf(l)?t.lanes=32:t.lanes=536870912,null;xn(t)}return l=i.children,i=i.fallback,r?(ni(),r=t.mode,l=Jl({mode:"hidden",children:l},r),i=Yi(i,r,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,r=t.child,r.memoizedState=$c(n),r.childLanes=Zc(e,a,n),t.memoizedState=Xc,i):(ei(t),tf(t,l))}if(u=e.memoizedState,u!==null&&(l=u.dehydrated,l!==null)){if(s)t.flags&256?(ei(t),t.flags&=-257,t=Wc(e,t,n)):t.memoizedState!==null?(ni(),t.child=e.child,t.flags|=128,t=null):(ni(),r=i.fallback,l=t.mode,i=Jl({mode:"visible",children:i.children},l),r=Yi(r,l,n,null),r.flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,os(t,e.child,null,n),i=t.child,i.memoizedState=$c(n),i.childLanes=Zc(e,a,n),t.memoizedState=Xc,t=r);else if(ei(t),mf(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var h=a.dgst;a=h,i=Error(P(419)),i.stack="",i.digest=a,Va({value:i,source:null,stack:null}),t=Wc(e,t,n)}else if(Xt||lo(e,t,n,!1),a=(n&e.childLanes)!==0,Xt||a){if(a=vt,a!==null&&(i=n&-n,i=i&42?1:Zf(i),i=i&(a.suspendedLanes|n)?0:i,i!==0&&i!==u.retryLane))throw u.retryLane=i,As(e,i),Me(a,e,i),c0;l.data==="$?"||of(),t=Wc(e,t,n)}else l.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,Ct=$e(l.nextSibling),pe=t,ut=!0,Qi=null,en=!1,e!==null&&(Le[je++]=Sn,Le[je++]=wn,Le[je++]=Ki,Sn=e.id,wn=e.overflow,Ki=t),t=tf(t,i.children),t.flags|=4096);return t}return r?(ni(),r=i.fallback,l=t.mode,u=e.child,h=u.sibling,i=Dn(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,h!==null?r=Dn(h,r):(r=Yi(r,l,n,null),r.flags|=2),r.return=t,i.return=t,i.sibling=r,t.child=i,i=r,r=t.child,l=e.child.memoizedState,l===null?l=$c(n):(u=l.cachePool,u!==null?(h=zt._currentValue,u=u.parent!==h?{parent:h,pool:h}:u):u=vv(),l={baseLanes:l.baseLanes|n,cachePool:u}),r.memoizedState=l,r.childLanes=Zc(e,a,n),t.memoizedState=Xc,i):(ei(t),n=e.child,e=n.sibling,n=Dn(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function tf(e,t){return t=Jl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Jl(e,t){return e=Ce(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Wc(e,t,n){return os(t,e.child,null,n),e=tf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Dp(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Bh(e.return,t,n)}function Jc(e,t,n,i,r){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function m0(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;if(Wt(e,t,i.children,n),i=Bt.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Dp(e,n,t);else if(e.tag===19)Dp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(wt(Bt,i),r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&$l(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Jc(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&$l(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Jc(t,!0,n,null,s);break;case"together":Jc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Un(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),xi|=t.lanes,!(n&t.childLanes))if(e!==null){if(lo(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=Dn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Dn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function xd(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Gl(e)))}function nw(e,t,n){switch(t.tag){case 3:Ul(t,t.stateNode.containerInfo),ti(t,zt,e.memoizedState.cache),oo();break;case 27:case 5:Ch(t);break;case 4:Ul(t,t.stateNode.containerInfo);break;case 10:ti(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(ei(t),t.flags|=128,null):n&t.child.childLanes?d0(e,t,n):(ei(t),e=Un(e,t,n),e!==null?e.sibling:null);ei(t);break;case 19:var r=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(lo(e,t,n,!1),i=(n&t.childLanes)!==0),r){if(i)return m0(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),wt(Bt,Bt.current),i)break;return null;case 22:case 23:return t.lanes=0,f0(e,t,n);case 24:ti(t,zt,e.memoizedState.cache)}return Un(e,t,n)}function g0(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Xt=!0;else{if(!xd(e,n)&&!(t.flags&128))return Xt=!1,nw(e,t,n);Xt=!!(e.flags&131072)}else Xt=!1,ut&&t.flags&1048576&&yv(t,Fl,t.index);switch(t.lanes=0,t.tag){case 16:t:{e=t.pendingProps;var i=t.elementType,r=i._init;if(i=r(i._payload),t.type=i,typeof i=="function")ld(i)?(e=nr(i,e),t.tag=1,t=Cp(null,t,i,e,n)):(t.tag=0,t=Jh(null,t,i,e,n));else{if(i!=null){if(r=i.$$typeof,r===Qf){t.tag=11,t=wp(null,t,i,e,n);break t}else if(r===Xf){t.tag=14,t=Rp(null,t,i,e,n);break t}}throw t=xh(i)||i,Error(P(306,t,""))}}return t;case 0:return Jh(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,r=nr(i,t.pendingProps),Cp(e,t,i,r,n);case 3:t:{if(Ul(t,t.stateNode.containerInfo),e===null)throw Error(P(387));i=t.pendingProps;var s=t.memoizedState;r=s.element,Gh(e,t),_a(t,i,null,n);var a=t.memoizedState;if(i=a.cache,ti(t,zt,i),i!==s.cache&&qh(t,[zt],n,!0),ya(),i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Np(e,t,i,n);break t}else if(i!==r){r=Be(Error(P(424)),t),Va(r),t=Np(e,t,i,n);break t}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ct=$e(e.firstChild),pe=t,ut=!0,Qi=null,en=!0,n=i0(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(oo(),i===r){t=Un(e,t,n);break t}Wt(e,t,i,n)}t=t.child}return t;case 26:return Al(e,t),e===null?(n=Qp(t.type,null,t.pendingProps,null))?t.memoizedState=n:ut||(n=t.type,e=t.pendingProps,i=au(di.current).createElement(n),i[he]=t,i[be]=e,ne(i,n,e),Qt(i),t.stateNode=i):t.memoizedState=Qp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ch(t),e===null&&ut&&(i=t.stateNode=eE(t.type,t.pendingProps,di.current),pe=t,en=!0,r=Ct,Oi(t.type)?(gf=r,Ct=$e(i.firstChild)):Ct=r),Wt(e,t,t.pendingProps.children,n),Al(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ut&&((r=i=Ct)&&(i=Nw(i,t.type,t.pendingProps,en),i!==null?(t.stateNode=i,pe=t,Ct=$e(i.firstChild),en=!1,r=!0):r=!1),r||Ji(t)),Ch(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,ff(r,s)?i=null:a!==null&&ff(r,a)&&(t.flags|=32),t.memoizedState!==null&&(r=pd(e,t,QS,null,null,n),za._currentValue=r),Al(e,t),Wt(e,t,i,n),t.child;case 6:return e===null&&ut&&((e=n=Ct)&&(n=Dw(n,t.pendingProps,en),n!==null?(t.stateNode=n,pe=t,Ct=null,e=!0):e=!1),e||Ji(t)),null;case 13:return d0(e,t,n);case 4:return Ul(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=os(t,null,i,n):Wt(e,t,i,n),t.child;case 11:return wp(e,t,t.type,t.pendingProps,n);case 7:return Wt(e,t,t.pendingProps,n),t.child;case 8:return Wt(e,t,t.pendingProps.children,n),t.child;case 12:return Wt(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,ti(t,t.type,i.value),Wt(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,tr(t),r=fe(r),i=i(r),t.flags|=1,Wt(e,t,i,n),t.child;case 14:return Rp(e,t,t.type,t.pendingProps,n);case 15:return h0(e,t,t.type,t.pendingProps,n);case 19:return m0(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},e===null?(n=Jl(i,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=Dn(e.child,i),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return f0(e,t,n);case 24:return tr(t),i=fe(zt),e===null?(r=fd(),r===null&&(r=vt,s=hd(),r.pooledCache=s,s.refCount++,s!==null&&(r.pooledCacheLanes|=n),r=s),t.memoizedState={parent:i,cache:r},dd(t),ti(t,zt,r)):(e.lanes&n&&(Gh(e,t),_a(t,null,null,n),ya()),r=e.memoizedState,s=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),ti(t,zt,i)):(i=s.cache,ti(t,zt,i),i!==r.cache&&qh(t,[zt],n,!0))),Wt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(P(156,t.tag))}function En(e){e.flags|=4}function Op(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!rE(t)){if(t=Ge.current,t!==null&&((at&4194048)===at?on!==null:(at&62914560)!==at&&!(at&536870912)||t!==on))throw ga=Fh,Ev;e.flags|=8192}}function sl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?B_():536870912,e.lanes|=t,ls|=t)}function Zs(e,t){if(!ut)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function iw(e,t,n){var i=t.pendingProps;switch(cd(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(t),null;case 1:return Rt(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),On(zt),es(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Xs(t)?En(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,lp())),Rt(t),null;case 26:return n=t.memoizedState,e===null?(En(t),n!==null?(Rt(t),Op(t,n)):(Rt(t),t.flags&=-16777217)):n?n!==e.memoizedState?(En(t),Rt(t),Op(t,n)):(Rt(t),t.flags&=-16777217):(e.memoizedProps!==i&&En(t),Rt(t),t.flags&=-16777217),null;case 27:Ll(t),n=di.current;var r=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==i&&En(t);else{if(!i){if(t.stateNode===null)throw Error(P(166));return Rt(t),null}e=sn.current,Xs(t)?ap(t):(e=eE(r,i,n),t.stateNode=e,En(t))}return Rt(t),null;case 5:if(Ll(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&En(t);else{if(!i){if(t.stateNode===null)throw Error(P(166));return Rt(t),null}if(e=sn.current,Xs(t))ap(t);else{switch(r=au(di.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e=typeof i.is=="string"?r.createElement(n,{is:i.is}):r.createElement(n)}}e[he]=t,e[be]=i;t:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break t;for(;r.sibling===null;){if(r.return===null||r.return===t)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;t:switch(ne(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&En(t)}}return Rt(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&En(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(P(166));if(e=di.current,Xs(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,r=pe,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}e[he]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||W0(e.nodeValue,n)),e||Ji(t)}else e=au(e).createTextNode(i),e[he]=t,t.stateNode=e}return Rt(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Xs(t),i!==null&&i.dehydrated!==null){if(e===null){if(!r)throw Error(P(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(P(317));r[he]=t}else oo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Rt(t),r=!1}else r=lp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(xn(t),t):(xn(t),null)}if(xn(t),t.flags&128)return t.lanes=n,t;if(n=i!==null,e=e!==null&&e.memoizedState!==null,n){i=t.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool);var s=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==r&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),sl(t,t.updateQueue),Rt(t),null;case 4:return es(),e===null&&kd(t.stateNode.containerInfo),Rt(t),null;case 10:return On(t.type),Rt(t),null;case 19:if($t(Bt),r=t.memoizedState,r===null)return Rt(t),null;if(i=(t.flags&128)!==0,s=r.rendering,s===null)if(i)Zs(r,!1);else{if(Nt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=$l(e),s!==null){for(t.flags|=128,Zs(r,!1),e=s.updateQueue,t.updateQueue=e,sl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)pv(n,e),n=n.sibling;return wt(Bt,Bt.current&1|2),t.child}e=e.sibling}r.tail!==null&&an()>eu&&(t.flags|=128,i=!0,Zs(r,!1),t.lanes=4194304)}else{if(!i)if(e=$l(s),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,sl(t,e),Zs(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!ut)return Rt(t),null}else 2*an()-r.renderingStartTime>eu&&n!==536870912&&(t.flags|=128,i=!0,Zs(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(e=r.last,e!==null?e.sibling=s:t.child=s,r.last=s)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=an(),t.sibling=null,e=Bt.current,wt(Bt,i?e&1|2:e&1),t):(Rt(t),null);case 22:case 23:return xn(t),md(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(Rt(t),t.subtreeFlags&6&&(t.flags|=8192)):Rt(t),n=t.updateQueue,n!==null&&sl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&$t(Xi),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),On(zt),Rt(t),null;case 25:return null;case 30:return null}throw Error(P(156,t.tag))}function rw(e,t){switch(cd(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return On(zt),es(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ll(t),null;case 13:if(xn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));oo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $t(Bt),null;case 4:return es(),null;case 10:return On(t.type),null;case 22:case 23:return xn(t),md(),e!==null&&$t(Xi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return On(zt),null;case 25:return null;default:return null}}function p0(e,t){switch(cd(t),t.tag){case 3:On(zt),es();break;case 26:case 27:case 5:Ll(t);break;case 4:es();break;case 13:xn(t);break;case 19:$t(Bt);break;case 10:On(t.type);break;case 22:case 23:xn(t),md(),e!==null&&$t(Xi);break;case 24:On(zt)}}function mo(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var s=n.create,a=n.inst;i=s(),a.destroy=i}n=n.next}while(n!==r)}}catch(l){_t(t,t.return,l)}}function Ri(e,t,n){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var s=r.next;i=s;do{if((i.tag&e)===e){var a=i.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,r=t;var u=n,h=l;try{h()}catch(d){_t(r,u,d)}}}i=i.next}while(i!==s)}}catch(d){_t(t,t.return,d)}}function y0(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Av(t,n)}catch(i){_t(e,e.return,i)}}}function _0(e,t,n){n.props=nr(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){_t(e,t,i)}}function Ea(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(r){_t(e,t,r)}}function nn(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){_t(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){_t(e,t,r)}else n.current=null}function v0(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){_t(e,e.return,r)}}function th(e,t,n){try{var i=e.stateNode;ww(i,e.type,n,t),i[be]=t}catch(r){_t(e,e.return,r)}}function E0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Oi(e.type)||e.tag===4}function eh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||E0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Oi(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ef(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Yu));else if(i!==4&&(i===27&&Oi(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(ef(e,t,n),e=e.sibling;e!==null;)ef(e,t,n),e=e.sibling}function tu(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Oi(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(tu(e,t,n),e=e.sibling;e!==null;)tu(e,t,n),e=e.sibling}function T0(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ne(t,i,n),t[he]=e,t[be]=n}catch(s){_t(e,e.return,s)}}var bn=!1,Vt=!1,nh=!1,Mp=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function sw(e,t){if(e=e.containerInfo,cf=cu,e=lv(e),sd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break t}var a=0,l=-1,u=-1,h=0,d=0,_=e,m=null;e:for(;;){for(var E;_!==n||r!==0&&_.nodeType!==3||(l=a+r),_!==s||i!==0&&_.nodeType!==3||(u=a+i),_.nodeType===3&&(a+=_.nodeValue.length),(E=_.firstChild)!==null;)m=_,_=E;for(;;){if(_===e)break e;if(m===n&&++h===r&&(l=a),m===s&&++d===i&&(u=a),(E=_.nextSibling)!==null)break;_=m,m=_.parentNode}_=E}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(hf={focusedElem:e,selectionRange:n},cu=!1,Kt=t;Kt!==null;)if(t=Kt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Kt=e;else for(;Kt!==null;){switch(t=Kt,s=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,r=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var D=nr(n.type,r,n.elementType===n.type);e=i.getSnapshotBeforeUpdate(D,s),i.__reactInternalSnapshotBeforeUpdate=e}catch(O){_t(n,n.return,O)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)df(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":df(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(P(163))}if(e=t.sibling,e!==null){e.return=t.return,Kt=e;break}Kt=t.return}}function b0(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(e,n),i&4&&mo(5,n);break;case 1:if(Xn(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){_t(n,n.return,a)}else{var r=nr(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){_t(n,n.return,a)}}i&64&&y0(n),i&512&&Ea(n,n.return);break;case 3:if(Xn(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Av(e,t)}catch(a){_t(n,n.return,a)}}break;case 27:t===null&&i&4&&T0(n);case 26:case 5:Xn(e,n),t===null&&i&4&&v0(n),i&512&&Ea(n,n.return);break;case 12:Xn(e,n);break;case 13:Xn(e,n),i&4&&w0(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=mw.bind(null,n),Ow(e,n))));break;case 22:if(i=n.memoizedState!==null||bn,!i){t=t!==null&&t.memoizedState!==null||Vt,r=bn;var s=Vt;bn=i,(Vt=t)&&!s?Zn(e,n,(n.subtreeFlags&8772)!==0):Xn(e,n),bn=r,Vt=s}break;case 30:break;default:Xn(e,n)}}function A0(e){var t=e.alternate;t!==null&&(e.alternate=null,A0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Jf(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var At=null,Ee=!1;function Tn(e,t,n){for(n=n.child;n!==null;)S0(e,t,n),n=n.sibling}function S0(e,t,n){if(Ne&&typeof Ne.onCommitFiberUnmount=="function")try{Ne.onCommitFiberUnmount(no,n)}catch{}switch(n.tag){case 26:Vt||nn(n,t),Tn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Vt||nn(n,t);var i=At,r=Ee;Oi(n.type)&&(At=n.stateNode,Ee=!1),Tn(e,t,n),Sa(n.stateNode),At=i,Ee=r;break;case 5:Vt||nn(n,t);case 6:if(i=At,r=Ee,At=null,Tn(e,t,n),At=i,Ee=r,At!==null)if(Ee)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(n.stateNode)}catch(s){_t(n,t,s)}else try{At.removeChild(n.stateNode)}catch(s){_t(n,t,s)}break;case 18:At!==null&&(Ee?(e=At,Gp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Ha(e)):Gp(At,n.stateNode));break;case 4:i=At,r=Ee,At=n.stateNode.containerInfo,Ee=!0,Tn(e,t,n),At=i,Ee=r;break;case 0:case 11:case 14:case 15:Vt||Ri(2,n,t),Vt||Ri(4,n,t),Tn(e,t,n);break;case 1:Vt||(nn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&_0(n,t,i)),Tn(e,t,n);break;case 21:Tn(e,t,n);break;case 22:Vt=(i=Vt)||n.memoizedState!==null,Tn(e,t,n),Vt=i;break;default:Tn(e,t,n)}}function w0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ha(e)}catch(n){_t(t,t.return,n)}}function aw(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Mp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Mp),t;default:throw Error(P(435,e.tag))}}function ih(e,t){var n=aw(e);t.forEach(function(i){var r=gw.bind(null,e,i);n.has(i)||(n.add(i),i.then(r,r))})}function Re(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],s=e,a=t,l=a;t:for(;l!==null;){switch(l.tag){case 27:if(Oi(l.type)){At=l.stateNode,Ee=!1;break t}break;case 5:At=l.stateNode,Ee=!1;break t;case 3:case 4:At=l.stateNode.containerInfo,Ee=!0;break t}l=l.return}if(At===null)throw Error(P(160));S0(s,a,r),At=null,Ee=!1,s=r.alternate,s!==null&&(s.return=null),r.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)R0(t,e),t=t.sibling}var Qe=null;function R0(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Re(t,e),xe(e),i&4&&(Ri(3,e,e.return),mo(3,e),Ri(5,e,e.return));break;case 1:Re(t,e),xe(e),i&512&&(Vt||n===null||nn(n,n.return)),i&64&&bn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=Qe;if(Re(t,e),xe(e),i&512&&(Vt||n===null||nn(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){t:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;e:switch(i){case"title":s=r.getElementsByTagName("title")[0],(!s||s[so]||s[he]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=r.createElement(i),r.head.insertBefore(s,r.querySelector("head > title"))),ne(s,i,n),s[he]=e,Qt(s),i=s;break t;case"link":var a=$p("link","href",r).get(i+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(s=a[l],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break e}}s=r.createElement(i),ne(s,i,n),r.head.appendChild(s);break;case"meta":if(a=$p("meta","content",r).get(i+(n.content||""))){for(l=0;l<a.length;l++)if(s=a[l],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break e}}s=r.createElement(i),ne(s,i,n),r.head.appendChild(s);break;default:throw Error(P(468,i))}s[he]=e,Qt(s),i=s}e.stateNode=i}else Zp(r,e.type,e.stateNode);else e.stateNode=Xp(r,i,e.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?Zp(r,e.type,e.stateNode):Xp(r,i,e.memoizedProps)):i===null&&e.stateNode!==null&&th(e,e.memoizedProps,n.memoizedProps)}break;case 27:Re(t,e),xe(e),i&512&&(Vt||n===null||nn(n,n.return)),n!==null&&i&4&&th(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Re(t,e),xe(e),i&512&&(Vt||n===null||nn(n,n.return)),e.flags&32){r=e.stateNode;try{is(r,"")}catch(E){_t(e,e.return,E)}}i&4&&e.stateNode!=null&&(r=e.memoizedProps,th(e,r,n!==null?n.memoizedProps:r)),i&1024&&(nh=!0);break;case 6:if(Re(t,e),xe(e),i&4){if(e.stateNode===null)throw Error(P(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(E){_t(e,e.return,E)}}break;case 3:if(Rl=null,r=Qe,Qe=ou(t.containerInfo),Re(t,e),Qe=r,xe(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Ha(t.containerInfo)}catch(E){_t(e,e.return,E)}nh&&(nh=!1,x0(e));break;case 4:i=Qe,Qe=ou(e.stateNode.containerInfo),Re(t,e),xe(e),Qe=i;break;case 12:Re(t,e),xe(e);break;case 13:Re(t,e),xe(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Od=an()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,ih(e,i)));break;case 22:r=e.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,h=bn,d=Vt;if(bn=h||r,Vt=d||u,Re(t,e),Vt=d,bn=h,xe(e),i&8192)t:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||u||bn||Vt||qi(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){u=n=t;try{if(s=u.stateNode,r)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var _=u.memoizedProps.style,m=_!=null&&_.hasOwnProperty("display")?_.display:null;l.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(E){_t(u,u.return,E)}}}else if(t.tag===6){if(n===null){u=t;try{u.stateNode.nodeValue=r?"":u.memoizedProps}catch(E){_t(u,u.return,E)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,ih(e,n))));break;case 19:Re(t,e),xe(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,ih(e,i)));break;case 30:break;case 21:break;default:Re(t,e),xe(e)}}function xe(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(E0(i)){n=i;break}i=i.return}if(n==null)throw Error(P(160));switch(n.tag){case 27:var r=n.stateNode,s=eh(e);tu(e,s,r);break;case 5:var a=n.stateNode;n.flags&32&&(is(a,""),n.flags&=-33);var l=eh(e);tu(e,l,a);break;case 3:case 4:var u=n.stateNode.containerInfo,h=eh(e);ef(e,h,u);break;default:throw Error(P(161))}}catch(d){_t(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function x0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;x0(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Xn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)b0(e,t.alternate,t),t=t.sibling}function qi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ri(4,t,t.return),qi(t);break;case 1:nn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&_0(t,t.return,n),qi(t);break;case 27:Sa(t.stateNode);case 26:case 5:nn(t,t.return),qi(t);break;case 22:t.memoizedState===null&&qi(t);break;case 30:qi(t);break;default:qi(t)}e=e.sibling}}function Zn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,r=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:Zn(r,s,n),mo(4,s);break;case 1:if(Zn(r,s,n),i=s,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(h){_t(i,i.return,h)}if(i=s,r=i.updateQueue,r!==null){var l=i.stateNode;try{var u=r.shared.hiddenCallbacks;if(u!==null)for(r.shared.hiddenCallbacks=null,r=0;r<u.length;r++)bv(u[r],l)}catch(h){_t(i,i.return,h)}}n&&a&64&&y0(s),Ea(s,s.return);break;case 27:T0(s);case 26:case 5:Zn(r,s,n),n&&i===null&&a&4&&v0(s),Ea(s,s.return);break;case 12:Zn(r,s,n);break;case 13:Zn(r,s,n),n&&a&4&&w0(r,s);break;case 22:s.memoizedState===null&&Zn(r,s,n),Ea(s,s.return);break;case 30:break;default:Zn(r,s,n)}t=t.sibling}}function Id(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&uo(n))}function Cd(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&uo(e))}function tn(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)I0(e,t,n,i),t=t.sibling}function I0(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:tn(e,t,n,i),r&2048&&mo(9,t);break;case 1:tn(e,t,n,i);break;case 3:tn(e,t,n,i),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&uo(e)));break;case 12:if(r&2048){tn(e,t,n,i),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,l=s.onPostCommit;typeof l=="function"&&l(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){_t(t,t.return,u)}}else tn(e,t,n,i);break;case 13:tn(e,t,n,i);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,t.memoizedState!==null?s._visibility&2?tn(e,t,n,i):Ta(e,t):s._visibility&2?tn(e,t,n,i):(s._visibility|=2,wr(e,t,n,i,(t.subtreeFlags&10256)!==0)),r&2048&&Id(a,t);break;case 24:tn(e,t,n,i),r&2048&&Cd(t.alternate,t);break;default:tn(e,t,n,i)}}function wr(e,t,n,i,r){for(r=r&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var s=e,a=t,l=n,u=i,h=a.flags;switch(a.tag){case 0:case 11:case 15:wr(s,a,l,u,r),mo(8,a);break;case 23:break;case 22:var d=a.stateNode;a.memoizedState!==null?d._visibility&2?wr(s,a,l,u,r):Ta(s,a):(d._visibility|=2,wr(s,a,l,u,r)),r&&h&2048&&Id(a.alternate,a);break;case 24:wr(s,a,l,u,r),r&&h&2048&&Cd(a.alternate,a);break;default:wr(s,a,l,u,r)}t=t.sibling}}function Ta(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:Ta(n,i),r&2048&&Id(i.alternate,i);break;case 24:Ta(n,i),r&2048&&Cd(i.alternate,i);break;default:Ta(n,i)}t=t.sibling}}var ra=8192;function Tr(e){if(e.subtreeFlags&ra)for(e=e.child;e!==null;)C0(e),e=e.sibling}function C0(e){switch(e.tag){case 26:Tr(e),e.flags&ra&&e.memoizedState!==null&&Gw(Qe,e.memoizedState,e.memoizedProps);break;case 5:Tr(e);break;case 3:case 4:var t=Qe;Qe=ou(e.stateNode.containerInfo),Tr(e),Qe=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=ra,ra=16777216,Tr(e),ra=t):Tr(e));break;default:Tr(e)}}function N0(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ws(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Kt=i,O0(i,e)}N0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)D0(e),e=e.sibling}function D0(e){switch(e.tag){case 0:case 11:case 15:Ws(e),e.flags&2048&&Ri(9,e,e.return);break;case 3:Ws(e);break;case 12:Ws(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Sl(e)):Ws(e);break;default:Ws(e)}}function Sl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Kt=i,O0(i,e)}N0(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ri(8,t,t.return),Sl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Sl(t));break;default:Sl(t)}e=e.sibling}}function O0(e,t){for(;Kt!==null;){var n=Kt;switch(n.tag){case 0:case 11:case 15:Ri(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:uo(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Kt=i;else t:for(n=e;Kt!==null;){i=Kt;var r=i.sibling,s=i.return;if(A0(i),i===n){Kt=null;break t}if(r!==null){r.return=s,Kt=r;break t}Kt=s}}}var ow={getCacheForType:function(e){var t=fe(zt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},lw=typeof WeakMap=="function"?WeakMap:Map,ft=0,vt=null,nt=null,at=0,ht=0,Ie=null,ci=!1,Ss=!1,Nd=!1,Ln=0,Nt=0,xi=0,$i=0,Dd=0,He=0,ls=0,ba=null,Te=null,nf=!1,Od=0,eu=1/0,nu=null,pi=null,te=0,yi=null,us=null,$r=0,rf=0,sf=null,M0=null,Aa=0,af=null;function Oe(){if(ft&2&&at!==0)return at&-at;if(Y.T!==null){var e=rs;return e!==0?e:Vd()}return F_()}function V0(){He===0&&(He=!(at&536870912)||ut?z_():536870912);var e=Ge.current;return e!==null&&(e.flags|=32),He}function Me(e,t,n){(e===vt&&(ht===2||ht===9)||e.cancelPendingCommit!==null)&&(cs(e,0),hi(e,at,He,!1)),ro(e,n),(!(ft&2)||e!==vt)&&(e===vt&&(!(ft&2)&&($i|=n),Nt===4&&hi(e,at,He,!1)),gn(e))}function k0(e,t,n){if(ft&6)throw Error(P(327));var i=!n&&(t&124)===0&&(t&e.expiredLanes)===0||io(e,t),r=i?hw(e,t):rh(e,t,!0),s=i;do{if(r===0){Ss&&!i&&hi(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!uw(n)){r=rh(e,t,!1),s=!1;continue}if(r===2){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;t:{var l=e;r=ba;var u=l.current.memoizedState.isDehydrated;if(u&&(cs(l,a).flags|=256),a=rh(l,a,!1),a!==2){if(Nd&&!u){l.errorRecoveryDisabledLanes|=s,$i|=s,r=4;break t}s=Te,Te=r,s!==null&&(Te===null?Te=s:Te.push.apply(Te,s))}r=a}if(s=!1,r!==2)continue}}if(r===1){cs(e,0),hi(e,t,0,!0);break}t:{switch(i=e,s=r,s){case 0:case 1:throw Error(P(345));case 4:if((t&4194048)!==t)break;case 6:hi(i,t,He,!ci);break t;case 2:Te=null;break;case 3:case 5:break;default:throw Error(P(329))}if((t&62914560)===t&&(r=Od+300-an(),10<r)){if(hi(i,t,He,!ci),Mu(i,0,!0)!==0)break t;i.timeoutHandle=tE(Vp.bind(null,i,n,Te,nu,nf,t,He,$i,ls,ci,s,2,-0,0),r);break t}Vp(i,n,Te,nu,nf,t,He,$i,ls,ci,s,0,-0,0)}}break}while(!0);gn(e)}function Vp(e,t,n,i,r,s,a,l,u,h,d,_,m,E){if(e.timeoutHandle=-1,_=t.subtreeFlags,(_&8192||(_&16785408)===16785408)&&(ja={stylesheets:null,count:0,unsuspend:Fw},C0(t),_=Yw(),_!==null)){e.cancelPendingCommit=_(Pp.bind(null,e,t,s,n,i,r,a,l,u,d,1,m,E)),hi(e,s,a,!h);return}Pp(e,t,s,n,i,r,a,l,u)}function uw(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!Ve(s(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function hi(e,t,n,i){t&=~Dd,t&=~$i,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var s=31-De(r),a=1<<s;i[s]=-1,r&=~a}n!==0&&q_(e,n,t)}function Hu(){return ft&6?!0:(go(0),!1)}function Md(){if(nt!==null){if(ht===0)var e=nt.return;else e=nt,Rn=fr=null,vd(e),Xr=null,Pa=0,e=nt;for(;e!==null;)p0(e.alternate,e),e=e.return;nt=null}}function cs(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,xw(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Md(),vt=e,nt=n=Dn(e.current,null),at=t,ht=0,Ie=null,ci=!1,Ss=io(e,t),Nd=!1,ls=He=Dd=$i=xi=Nt=0,Te=ba=null,nf=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var r=31-De(i),s=1<<r;t|=e[r],i&=~s}return Ln=t,Uu(),n}function P0(e,t){J=null,Y.H=Xl,t===co||t===ju?(t=fp(),ht=3):t===Ev?(t=fp(),ht=4):ht=t===c0?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ie=t,nt===null&&(Nt=1,Wl(e,Be(t,e.current)))}function U0(){var e=Y.H;return Y.H=Xl,e===null?Xl:e}function L0(){var e=Y.A;return Y.A=ow,e}function of(){Nt=4,ci||(at&4194048)!==at&&Ge.current!==null||(Ss=!0),!(xi&134217727)&&!($i&134217727)||vt===null||hi(vt,at,He,!1)}function rh(e,t,n){var i=ft;ft|=2;var r=U0(),s=L0();(vt!==e||at!==t)&&(nu=null,cs(e,t)),t=!1;var a=Nt;t:do try{if(ht!==0&&nt!==null){var l=nt,u=Ie;switch(ht){case 8:Md(),a=6;break t;case 3:case 2:case 9:case 6:Ge.current===null&&(t=!0);var h=ht;if(ht=0,Ie=null,Br(e,l,u,h),n&&Ss){a=0;break t}break;default:h=ht,ht=0,Ie=null,Br(e,l,u,h)}}cw(),a=Nt;break}catch(d){P0(e,d)}while(!0);return t&&e.shellSuspendCounter++,Rn=fr=null,ft=i,Y.H=r,Y.A=s,nt===null&&(vt=null,at=0,Uu()),a}function cw(){for(;nt!==null;)j0(nt)}function hw(e,t){var n=ft;ft|=2;var i=U0(),r=L0();vt!==e||at!==t?(nu=null,eu=an()+500,cs(e,t)):Ss=io(e,t);t:do try{if(ht!==0&&nt!==null){t=nt;var s=Ie;e:switch(ht){case 1:ht=0,Ie=null,Br(e,t,s,1);break;case 2:case 9:if(hp(s)){ht=0,Ie=null,kp(t);break}t=function(){ht!==2&&ht!==9||vt!==e||(ht=7),gn(e)},s.then(t,t);break t;case 3:ht=7;break t;case 4:ht=5;break t;case 7:hp(s)?(ht=0,Ie=null,kp(t)):(ht=0,Ie=null,Br(e,t,s,7));break;case 5:var a=null;switch(nt.tag){case 26:a=nt.memoizedState;case 5:case 27:var l=nt;if(!a||rE(a)){ht=0,Ie=null;var u=l.sibling;if(u!==null)nt=u;else{var h=l.return;h!==null?(nt=h,Fu(h)):nt=null}break e}}ht=0,Ie=null,Br(e,t,s,5);break;case 6:ht=0,Ie=null,Br(e,t,s,6);break;case 8:Md(),Nt=6;break t;default:throw Error(P(462))}}fw();break}catch(d){P0(e,d)}while(!0);return Rn=fr=null,Y.H=i,Y.A=r,ft=n,nt!==null?0:(vt=null,at=0,Uu(),Nt)}function fw(){for(;nt!==null&&!VA();)j0(nt)}function j0(e){var t=g0(e.alternate,e,Ln);e.memoizedProps=e.pendingProps,t===null?Fu(e):nt=t}function kp(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ip(n,t,t.pendingProps,t.type,void 0,at);break;case 11:t=Ip(n,t,t.pendingProps,t.type.render,t.ref,at);break;case 5:vd(t);default:p0(n,t),t=nt=pv(t,Ln),t=g0(n,t,Ln)}e.memoizedProps=e.pendingProps,t===null?Fu(e):nt=t}function Br(e,t,n,i){Rn=fr=null,vd(t),Xr=null,Pa=0;var r=t.return;try{if(ew(e,r,t,n,at)){Nt=1,Wl(e,Be(n,e.current)),nt=null;return}}catch(s){if(r!==null)throw nt=r,s;Nt=1,Wl(e,Be(n,e.current)),nt=null;return}t.flags&32768?(ut||i===1?e=!0:Ss||at&536870912?e=!1:(ci=e=!0,(i===2||i===9||i===3||i===6)&&(i=Ge.current,i!==null&&i.tag===13&&(i.flags|=16384))),z0(t,e)):Fu(t)}function Fu(e){var t=e;do{if(t.flags&32768){z0(t,ci);return}e=t.return;var n=iw(t.alternate,t,Ln);if(n!==null){nt=n;return}if(t=t.sibling,t!==null){nt=t;return}nt=t=e}while(t!==null);Nt===0&&(Nt=5)}function z0(e,t){do{var n=rw(e.alternate,e);if(n!==null){n.flags&=32767,nt=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){nt=e;return}nt=e=n}while(e!==null);Nt=6,nt=null}function Pp(e,t,n,i,r,s,a,l,u){e.cancelPendingCommit=null;do Gu();while(te!==0);if(ft&6)throw Error(P(327));if(t!==null){if(t===e.current)throw Error(P(177));if(s=t.lanes|t.childLanes,s|=ad,FA(e,n,s,a,l,u),e===vt&&(nt=vt=null,at=0),us=t,yi=e,$r=n,rf=s,sf=r,M0=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,pw(jl,function(){return G0(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=Y.T,Y.T=null,r=ct.p,ct.p=2,a=ft,ft|=4;try{sw(e,t,n)}finally{ft=a,ct.p=r,Y.T=i}}te=1,B0(),q0(),H0()}}function B0(){if(te===1){te=0;var e=yi,t=us,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=Y.T,Y.T=null;var i=ct.p;ct.p=2;var r=ft;ft|=4;try{R0(t,e);var s=hf,a=lv(e.containerInfo),l=s.focusedElem,u=s.selectionRange;if(a!==l&&l&&l.ownerDocument&&ov(l.ownerDocument.documentElement,l)){if(u!==null&&sd(l)){var h=u.start,d=u.end;if(d===void 0&&(d=h),"selectionStart"in l)l.selectionStart=h,l.selectionEnd=Math.min(d,l.value.length);else{var _=l.ownerDocument||document,m=_&&_.defaultView||window;if(m.getSelection){var E=m.getSelection(),D=l.textContent.length,O=Math.min(u.start,D),V=u.end===void 0?O:Math.min(u.end,D);!E.extend&&O>V&&(a=V,V=O,O=a);var b=ip(l,O),v=ip(l,V);if(b&&v&&(E.rangeCount!==1||E.anchorNode!==b.node||E.anchorOffset!==b.offset||E.focusNode!==v.node||E.focusOffset!==v.offset)){var S=_.createRange();S.setStart(b.node,b.offset),E.removeAllRanges(),O>V?(E.addRange(S),E.extend(v.node,v.offset)):(S.setEnd(v.node,v.offset),E.addRange(S))}}}}for(_=[],E=l;E=E.parentNode;)E.nodeType===1&&_.push({element:E,left:E.scrollLeft,top:E.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<_.length;l++){var x=_[l];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}cu=!!cf,hf=cf=null}finally{ft=r,ct.p=i,Y.T=n}}e.current=t,te=2}}function q0(){if(te===2){te=0;var e=yi,t=us,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=Y.T,Y.T=null;var i=ct.p;ct.p=2;var r=ft;ft|=4;try{b0(e,t.alternate,t)}finally{ft=r,ct.p=i,Y.T=n}}te=3}}function H0(){if(te===4||te===3){te=0,kA();var e=yi,t=us,n=$r,i=M0;t.subtreeFlags&10256||t.flags&10256?te=5:(te=0,us=yi=null,F0(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(pi=null),Wf(n),t=t.stateNode,Ne&&typeof Ne.onCommitFiberRoot=="function")try{Ne.onCommitFiberRoot(no,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=Y.T,r=ct.p,ct.p=2,Y.T=null;try{for(var s=e.onRecoverableError,a=0;a<i.length;a++){var l=i[a];s(l.value,{componentStack:l.stack})}}finally{Y.T=t,ct.p=r}}$r&3&&Gu(),gn(e),r=e.pendingLanes,n&4194090&&r&42?e===af?Aa++:(Aa=0,af=e):Aa=0,go(0)}}function F0(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,uo(t)))}function Gu(e){return B0(),q0(),H0(),G0()}function G0(){if(te!==5)return!1;var e=yi,t=rf;rf=0;var n=Wf($r),i=Y.T,r=ct.p;try{ct.p=32>n?32:n,Y.T=null,n=sf,sf=null;var s=yi,a=$r;if(te=0,us=yi=null,$r=0,ft&6)throw Error(P(331));var l=ft;if(ft|=4,D0(s.current),I0(s,s.current,a,n),ft=l,go(0,!1),Ne&&typeof Ne.onPostCommitFiberRoot=="function")try{Ne.onPostCommitFiberRoot(no,s)}catch{}return!0}finally{ct.p=r,Y.T=i,F0(e,t)}}function Up(e,t,n){t=Be(n,t),t=Wh(e.stateNode,t,2),e=gi(e,t,2),e!==null&&(ro(e,2),gn(e))}function _t(e,t,n){if(e.tag===3)Up(e,e,n);else for(;t!==null;){if(t.tag===3){Up(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(pi===null||!pi.has(i))){e=Be(n,e),n=l0(2),i=gi(t,n,2),i!==null&&(u0(n,i,t,e),ro(i,2),gn(i));break}}t=t.return}}function sh(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new lw;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(Nd=!0,r.add(n),e=dw.bind(null,e,t,n),t.then(e,e))}function dw(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,vt===e&&(at&n)===n&&(Nt===4||Nt===3&&(at&62914560)===at&&300>an()-Od?!(ft&2)&&cs(e,0):Dd|=n,ls===at&&(ls=0)),gn(e)}function Y0(e,t){t===0&&(t=B_()),e=As(e,t),e!==null&&(ro(e,t),gn(e))}function mw(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Y0(e,n)}function gw(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(P(314))}i!==null&&i.delete(t),Y0(e,n)}function pw(e,t){return $f(e,t)}var iu=null,Rr=null,lf=!1,ru=!1,ah=!1,Zi=0;function gn(e){e!==Rr&&e.next===null&&(Rr===null?iu=Rr=e:Rr=Rr.next=e),ru=!0,lf||(lf=!0,_w())}function go(e,t){if(!ah&&ru){ah=!0;do for(var n=!1,i=iu;i!==null;){if(e!==0){var r=i.pendingLanes;if(r===0)var s=0;else{var a=i.suspendedLanes,l=i.pingedLanes;s=(1<<31-De(42|e)+1)-1,s&=r&~(a&~l),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Lp(i,s))}else s=at,s=Mu(i,i===vt?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(s&3)||io(i,s)||(n=!0,Lp(i,s));i=i.next}while(n);ah=!1}}function yw(){K0()}function K0(){ru=lf=!1;var e=0;Zi!==0&&(Rw()&&(e=Zi),Zi=0);for(var t=an(),n=null,i=iu;i!==null;){var r=i.next,s=Q0(i,t);s===0?(i.next=null,n===null?iu=r:n.next=r,r===null&&(Rr=n)):(n=i,(e!==0||s&3)&&(ru=!0)),i=r}go(e)}function Q0(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var a=31-De(s),l=1<<a,u=r[a];u===-1?(!(l&n)||l&i)&&(r[a]=HA(l,t)):u<=t&&(e.expiredLanes|=l),s&=~l}if(t=vt,n=at,n=Mu(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(ht===2||ht===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Oc(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||io(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Oc(i),Wf(n)){case 2:case 8:n=L_;break;case 32:n=jl;break;case 268435456:n=j_;break;default:n=jl}return i=X0.bind(null,e),n=$f(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Oc(i),e.callbackPriority=2,e.callbackNode=null,2}function X0(e,t){if(te!==0&&te!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Gu()&&e.callbackNode!==n)return null;var i=at;return i=Mu(e,e===vt?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(k0(e,i,t),Q0(e,an()),e.callbackNode!=null&&e.callbackNode===n?X0.bind(null,e):null)}function Lp(e,t){if(Gu())return null;k0(e,t,!0)}function _w(){Iw(function(){ft&6?$f(U_,yw):K0()})}function Vd(){return Zi===0&&(Zi=z_()),Zi}function jp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:pl(""+e)}function zp(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function vw(e,t,n,i,r){if(t==="submit"&&n&&n.stateNode===r){var s=jp((r[be]||null).action),a=i.submitter;a&&(t=(t=a[be]||null)?jp(t.formAction):a.getAttribute("formAction"),t!==null&&(s=t,a=null));var l=new Vu("action","action",null,i,r);e.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Zi!==0){var u=a?zp(r,a):new FormData(r);$h(n,{pending:!0,data:u,method:r.method,action:s},null,u)}}else typeof s=="function"&&(l.preventDefault(),u=a?zp(r,a):new FormData(r),$h(n,{pending:!0,data:u,method:r.method,action:s},s,u))},currentTarget:r}]})}}for(var oh=0;oh<Lh.length;oh++){var lh=Lh[oh],Ew=lh.toLowerCase(),Tw=lh[0].toUpperCase()+lh.slice(1);We(Ew,"on"+Tw)}We(cv,"onAnimationEnd");We(hv,"onAnimationIteration");We(fv,"onAnimationStart");We("dblclick","onDoubleClick");We("focusin","onFocus");We("focusout","onBlur");We(LS,"onTransitionRun");We(jS,"onTransitionStart");We(zS,"onTransitionCancel");We(dv,"onTransitionEnd");ns("onMouseEnter",["mouseout","mouseover"]);ns("onMouseLeave",["mouseout","mouseover"]);ns("onPointerEnter",["pointerout","pointerover"]);ns("onPointerLeave",["pointerout","pointerover"]);ur("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ur("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ur("onBeforeInput",["compositionend","keypress","textInput","paste"]);ur("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ur("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ur("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ua="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ua));function $0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;t:{var s=void 0;if(t)for(var a=i.length-1;0<=a;a--){var l=i[a],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==s&&r.isPropagationStopped())break t;s=l,r.currentTarget=h;try{s(r)}catch(d){Zl(d)}r.currentTarget=null,s=u}else for(a=0;a<i.length;a++){if(l=i[a],u=l.instance,h=l.currentTarget,l=l.listener,u!==s&&r.isPropagationStopped())break t;s=l,r.currentTarget=h;try{s(r)}catch(d){Zl(d)}r.currentTarget=null,s=u}}}}function tt(e,t){var n=t[Dh];n===void 0&&(n=t[Dh]=new Set);var i=e+"__bubble";n.has(i)||(Z0(t,e,2,!1),n.add(i))}function uh(e,t,n){var i=0;t&&(i|=4),Z0(n,e,i,t)}var al="_reactListening"+Math.random().toString(36).slice(2);function kd(e){if(!e[al]){e[al]=!0,G_.forEach(function(n){n!=="selectionchange"&&(bw.has(n)||uh(n,!1,e),uh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[al]||(t[al]=!0,uh("selectionchange",!1,t))}}function Z0(e,t,n,i){switch(uE(t)){case 2:var r=Xw;break;case 8:r=$w;break;default:r=jd}n=r.bind(null,t,n,e),r=void 0,!kh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function ch(e,t,n,i,r){var s=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===r)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===r)return;a=a.return}for(;l!==null;){if(a=Or(l),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){i=s=a;continue t}l=l.parentNode}}i=i.return}J_(function(){var h=s,d=ed(n),_=[];t:{var m=mv.get(e);if(m!==void 0){var E=Vu,D=e;switch(e){case"keypress":if(_l(n)===0)break t;case"keydown":case"keyup":E=pS;break;case"focusin":D="focus",E=zc;break;case"focusout":D="blur",E=zc;break;case"beforeblur":case"afterblur":E=zc;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=Kg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=rS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=vS;break;case cv:case hv:case fv:E=oS;break;case dv:E=TS;break;case"scroll":case"scrollend":E=nS;break;case"wheel":E=AS;break;case"copy":case"cut":case"paste":E=uS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=Xg;break;case"toggle":case"beforetoggle":E=wS}var O=(t&4)!==0,V=!O&&(e==="scroll"||e==="scrollend"),b=O?m!==null?m+"Capture":null:m;O=[];for(var v=h,S;v!==null;){var x=v;if(S=x.stateNode,x=x.tag,x!==5&&x!==26&&x!==27||S===null||b===null||(x=Da(v,b),x!=null&&O.push(La(v,x,S))),V)break;v=v.return}0<O.length&&(m=new E(m,D,null,n,d),_.push({event:m,listeners:O}))}}if(!(t&7)){t:{if(m=e==="mouseover"||e==="pointerover",E=e==="mouseout"||e==="pointerout",m&&n!==Vh&&(D=n.relatedTarget||n.fromElement)&&(Or(D)||D[Ts]))break t;if((E||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,E?(D=n.relatedTarget||n.toElement,E=h,D=D?Or(D):null,D!==null&&(V=eo(D),O=D.tag,D!==V||O!==5&&O!==27&&O!==6)&&(D=null)):(E=null,D=h),E!==D)){if(O=Kg,x="onMouseLeave",b="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(O=Xg,x="onPointerLeave",b="onPointerEnter",v="pointer"),V=E==null?m:ia(E),S=D==null?m:ia(D),m=new O(x,v+"leave",E,n,d),m.target=V,m.relatedTarget=S,x=null,Or(d)===h&&(O=new O(b,v+"enter",D,n,d),O.target=S,O.relatedTarget=V,x=O),V=x,E&&D)e:{for(O=E,b=D,v=0,S=O;S;S=br(S))v++;for(S=0,x=b;x;x=br(x))S++;for(;0<v-S;)O=br(O),v--;for(;0<S-v;)b=br(b),S--;for(;v--;){if(O===b||b!==null&&O===b.alternate)break e;O=br(O),b=br(b)}O=null}else O=null;E!==null&&Bp(_,m,E,O,!1),D!==null&&V!==null&&Bp(_,V,D,O,!0)}}t:{if(m=h?ia(h):window,E=m.nodeName&&m.nodeName.toLowerCase(),E==="select"||E==="input"&&m.type==="file")var k=Jg;else if(Wg(m))if(sv)k=kS;else{k=MS;var j=OS}else E=m.nodeName,!E||E.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?h&&td(h.elementType)&&(k=Jg):k=VS;if(k&&(k=k(e,h))){rv(_,k,n,d);break t}j&&j(e,m,h),e==="focusout"&&h&&m.type==="number"&&h.memoizedProps.value!=null&&Mh(m,"number",m.value)}switch(j=h?ia(h):window,e){case"focusin":(Wg(j)||j.contentEditable==="true")&&(kr=j,Ph=h,da=null);break;case"focusout":da=Ph=kr=null;break;case"mousedown":Uh=!0;break;case"contextmenu":case"mouseup":case"dragend":Uh=!1,rp(_,n,d);break;case"selectionchange":if(US)break;case"keydown":case"keyup":rp(_,n,d)}var A;if(rd)t:{switch(e){case"compositionstart":var p="onCompositionStart";break t;case"compositionend":p="onCompositionEnd";break t;case"compositionupdate":p="onCompositionUpdate";break t}p=void 0}else Vr?nv(e,n)&&(p="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(p="onCompositionStart");p&&(ev&&n.locale!=="ko"&&(Vr||p!=="onCompositionStart"?p==="onCompositionEnd"&&Vr&&(A=tv()):(ui=d,nd="value"in ui?ui.value:ui.textContent,Vr=!0)),j=su(h,p),0<j.length&&(p=new Qg(p,e,null,n,d),_.push({event:p,listeners:j}),A?p.data=A:(A=iv(n),A!==null&&(p.data=A)))),(A=xS?IS(e,n):CS(e,n))&&(p=su(h,"onBeforeInput"),0<p.length&&(j=new Qg("onBeforeInput","beforeinput",null,n,d),_.push({event:j,listeners:p}),j.data=A)),vw(_,e,h,n,d)}$0(_,t)})}function La(e,t,n){return{instance:e,listener:t,currentTarget:n}}function su(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,s=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||s===null||(r=Da(e,n),r!=null&&i.unshift(La(e,r,s)),r=Da(e,t),r!=null&&i.push(La(e,r,s))),e.tag===3)return i;e=e.return}return[]}function br(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Bp(e,t,n,i,r){for(var s=t._reactName,a=[];n!==null&&n!==i;){var l=n,u=l.alternate,h=l.stateNode;if(l=l.tag,u!==null&&u===i)break;l!==5&&l!==26&&l!==27||h===null||(u=h,r?(h=Da(n,s),h!=null&&a.unshift(La(n,h,u))):r||(h=Da(n,s),h!=null&&a.push(La(n,h,u)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Aw=/\r\n?/g,Sw=/\u0000|\uFFFD/g;function qp(e){return(typeof e=="string"?e:""+e).replace(Aw,`
`).replace(Sw,"")}function W0(e,t){return t=qp(t),qp(e)===t}function Yu(){}function mt(e,t,n,i,r,s){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||is(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&is(e,""+i);break;case"className":Jo(e,"class",i);break;case"tabIndex":Jo(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Jo(e,n,i);break;case"style":W_(e,i,s);break;case"data":if(t!=="object"){Jo(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=pl(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&mt(e,t,"name",r.name,r,null),mt(e,t,"formEncType",r.formEncType,r,null),mt(e,t,"formMethod",r.formMethod,r,null),mt(e,t,"formTarget",r.formTarget,r,null)):(mt(e,t,"encType",r.encType,r,null),mt(e,t,"method",r.method,r,null),mt(e,t,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=pl(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Yu);break;case"onScroll":i!=null&&tt("scroll",e);break;case"onScrollEnd":i!=null&&tt("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(P(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(P(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=pl(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":tt("beforetoggle",e),tt("toggle",e),gl(e,"popover",i);break;case"xlinkActuate":vn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":vn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":vn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":vn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":vn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":vn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":vn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":vn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":vn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":gl(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=tS.get(n)||n,gl(e,n,i))}}function uf(e,t,n,i,r,s){switch(n){case"style":W_(e,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(P(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(P(60));e.innerHTML=n}}break;case"children":typeof i=="string"?is(e,i):(typeof i=="number"||typeof i=="bigint")&&is(e,""+i);break;case"onScroll":i!=null&&tt("scroll",e);break;case"onScrollEnd":i!=null&&tt("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Yu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Y_.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),s=e[be]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,r),typeof i=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r);break t}n in e?e[n]=i:i===!0?e.setAttribute(n,""):gl(e,n,i)}}}function ne(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tt("error",e),tt("load",e);var i=!1,r=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(P(137,t));default:mt(e,t,s,a,n,null)}}r&&mt(e,t,"srcSet",n.srcSet,n,null),i&&mt(e,t,"src",n.src,n,null);return;case"input":tt("invalid",e);var l=s=a=r=null,u=null,h=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":r=d;break;case"type":a=d;break;case"checked":u=d;break;case"defaultChecked":h=d;break;case"value":s=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(P(137,t));break;default:mt(e,t,i,d,n,null)}}X_(e,s,l,u,h,a,r,!1),zl(e);return;case"select":tt("invalid",e),i=a=s=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":s=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:mt(e,t,r,l,n,null)}t=s,n=a,e.multiple=!!i,t!=null?Fr(e,!!i,t,!1):n!=null&&Fr(e,!!i,n,!0);return;case"textarea":tt("invalid",e),s=r=i=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":r=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(P(91));break;default:mt(e,t,a,l,n,null)}Z_(e,i,r,s),zl(e);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:mt(e,t,u,i,n,null)}return;case"dialog":tt("beforetoggle",e),tt("toggle",e),tt("cancel",e),tt("close",e);break;case"iframe":case"object":tt("load",e);break;case"video":case"audio":for(i=0;i<Ua.length;i++)tt(Ua[i],e);break;case"image":tt("error",e),tt("load",e);break;case"details":tt("toggle",e);break;case"embed":case"source":case"link":tt("error",e),tt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(i=n[h],i!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(P(137,t));default:mt(e,t,h,i,n,null)}return;default:if(td(t)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&uf(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&mt(e,t,l,i,n,null))}function ww(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,a=null,l=null,u=null,h=null,d=null;for(E in n){var _=n[E];if(n.hasOwnProperty(E)&&_!=null)switch(E){case"checked":break;case"value":break;case"defaultValue":u=_;default:i.hasOwnProperty(E)||mt(e,t,E,null,i,_)}}for(var m in i){var E=i[m];if(_=n[m],i.hasOwnProperty(m)&&(E!=null||_!=null))switch(m){case"type":s=E;break;case"name":r=E;break;case"checked":h=E;break;case"defaultChecked":d=E;break;case"value":a=E;break;case"defaultValue":l=E;break;case"children":case"dangerouslySetInnerHTML":if(E!=null)throw Error(P(137,t));break;default:E!==_&&mt(e,t,m,E,i,_)}}Oh(e,a,l,u,h,d,s,r);return;case"select":E=a=l=m=null;for(s in n)if(u=n[s],n.hasOwnProperty(s)&&u!=null)switch(s){case"value":break;case"multiple":E=u;default:i.hasOwnProperty(s)||mt(e,t,s,null,i,u)}for(r in i)if(s=i[r],u=n[r],i.hasOwnProperty(r)&&(s!=null||u!=null))switch(r){case"value":m=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==u&&mt(e,t,r,s,i,u)}t=l,n=a,i=E,m!=null?Fr(e,!!n,m,!1):!!i!=!!n&&(t!=null?Fr(e,!!n,t,!0):Fr(e,!!n,n?[]:"",!1));return;case"textarea":E=m=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:mt(e,t,l,null,i,r)}for(a in i)if(r=i[a],s=n[a],i.hasOwnProperty(a)&&(r!=null||s!=null))switch(a){case"value":m=r;break;case"defaultValue":E=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(P(91));break;default:r!==s&&mt(e,t,a,r,i,s)}$_(e,m,E);return;case"option":for(var D in n)if(m=n[D],n.hasOwnProperty(D)&&m!=null&&!i.hasOwnProperty(D))switch(D){case"selected":e.selected=!1;break;default:mt(e,t,D,null,i,m)}for(u in i)if(m=i[u],E=n[u],i.hasOwnProperty(u)&&m!==E&&(m!=null||E!=null))switch(u){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:mt(e,t,u,m,i,E)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var O in n)m=n[O],n.hasOwnProperty(O)&&m!=null&&!i.hasOwnProperty(O)&&mt(e,t,O,null,i,m);for(h in i)if(m=i[h],E=n[h],i.hasOwnProperty(h)&&m!==E&&(m!=null||E!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(P(137,t));break;default:mt(e,t,h,m,i,E)}return;default:if(td(t)){for(var V in n)m=n[V],n.hasOwnProperty(V)&&m!==void 0&&!i.hasOwnProperty(V)&&uf(e,t,V,void 0,i,m);for(d in i)m=i[d],E=n[d],!i.hasOwnProperty(d)||m===E||m===void 0&&E===void 0||uf(e,t,d,m,i,E);return}}for(var b in n)m=n[b],n.hasOwnProperty(b)&&m!=null&&!i.hasOwnProperty(b)&&mt(e,t,b,null,i,m);for(_ in i)m=i[_],E=n[_],!i.hasOwnProperty(_)||m===E||m==null&&E==null||mt(e,t,_,m,i,E)}var cf=null,hf=null;function au(e){return e.nodeType===9?e:e.ownerDocument}function Hp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function J0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function ff(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var hh=null;function Rw(){var e=window.event;return e&&e.type==="popstate"?e===hh?!1:(hh=e,!0):(hh=null,!1)}var tE=typeof setTimeout=="function"?setTimeout:void 0,xw=typeof clearTimeout=="function"?clearTimeout:void 0,Fp=typeof Promise=="function"?Promise:void 0,Iw=typeof queueMicrotask=="function"?queueMicrotask:typeof Fp<"u"?function(e){return Fp.resolve(null).then(e).catch(Cw)}:tE;function Cw(e){setTimeout(function(){throw e})}function Oi(e){return e==="head"}function Gp(e,t){var n=t,i=0,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(0<i&&8>i){n=i;var a=e.ownerDocument;if(n&1&&Sa(a.documentElement),n&2&&Sa(a.body),n&4)for(n=a.head,Sa(n),a=n.firstChild;a;){var l=a.nextSibling,u=a.nodeName;a[so]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=l}}if(r===0){e.removeChild(s),Ha(t);return}r--}else n==="$"||n==="$?"||n==="$!"?r++:i=n.charCodeAt(0)-48;else i=0;n=s}while(n);Ha(t)}function df(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":df(n),Jf(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Nw(e,t,n,i){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[so])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=$e(e.nextSibling),e===null)break}return null}function Dw(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=$e(e.nextSibling),e===null))return null;return e}function mf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Ow(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function $e(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var gf=null;function Yp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function eE(e,t,n){switch(t=au(n),e){case"html":if(e=t.documentElement,!e)throw Error(P(452));return e;case"head":if(e=t.head,!e)throw Error(P(453));return e;case"body":if(e=t.body,!e)throw Error(P(454));return e;default:throw Error(P(451))}}function Sa(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Jf(e)}var Ye=new Map,Kp=new Set;function ou(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Hn=ct.d;ct.d={f:Mw,r:Vw,D:kw,C:Pw,L:Uw,m:Lw,X:zw,S:jw,M:Bw};function Mw(){var e=Hn.f(),t=Hu();return e||t}function Vw(e){var t=bs(e);t!==null&&t.tag===5&&t.type==="form"?Qv(t):Hn.r(e)}var ws=typeof document>"u"?null:document;function nE(e,t,n){var i=ws;if(i&&typeof t=="string"&&t){var r=ze(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),Kp.has(r)||(Kp.add(r),e={rel:e,crossOrigin:n,href:t},i.querySelector(r)===null&&(t=i.createElement("link"),ne(t,"link",e),Qt(t),i.head.appendChild(t)))}}function kw(e){Hn.D(e),nE("dns-prefetch",e,null)}function Pw(e,t){Hn.C(e,t),nE("preconnect",e,t)}function Uw(e,t,n){Hn.L(e,t,n);var i=ws;if(i&&e&&t){var r='link[rel="preload"][as="'+ze(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+ze(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+ze(n.imageSizes)+'"]')):r+='[href="'+ze(e)+'"]';var s=r;switch(t){case"style":s=hs(e);break;case"script":s=Rs(e)}Ye.has(s)||(e=bt({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Ye.set(s,e),i.querySelector(r)!==null||t==="style"&&i.querySelector(po(s))||t==="script"&&i.querySelector(yo(s))||(t=i.createElement("link"),ne(t,"link",e),Qt(t),i.head.appendChild(t)))}}function Lw(e,t){Hn.m(e,t);var n=ws;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+ze(i)+'"][href="'+ze(e)+'"]',s=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Rs(e)}if(!Ye.has(s)&&(e=bt({rel:"modulepreload",href:e},t),Ye.set(s,e),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(yo(s)))return}i=n.createElement("link"),ne(i,"link",e),Qt(i),n.head.appendChild(i)}}}function jw(e,t,n){Hn.S(e,t,n);var i=ws;if(i&&e){var r=Hr(i).hoistableStyles,s=hs(e);t=t||"default";var a=r.get(s);if(!a){var l={loading:0,preload:null};if(a=i.querySelector(po(s)))l.loading=5;else{e=bt({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ye.get(s))&&Pd(e,n);var u=a=i.createElement("link");Qt(u),ne(u,"link",e),u._p=new Promise(function(h,d){u.onload=h,u.onerror=d}),u.addEventListener("load",function(){l.loading|=1}),u.addEventListener("error",function(){l.loading|=2}),l.loading|=4,wl(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:l},r.set(s,a)}}}function zw(e,t){Hn.X(e,t);var n=ws;if(n&&e){var i=Hr(n).hoistableScripts,r=Rs(e),s=i.get(r);s||(s=n.querySelector(yo(r)),s||(e=bt({src:e,async:!0},t),(t=Ye.get(r))&&Ud(e,t),s=n.createElement("script"),Qt(s),ne(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function Bw(e,t){Hn.M(e,t);var n=ws;if(n&&e){var i=Hr(n).hoistableScripts,r=Rs(e),s=i.get(r);s||(s=n.querySelector(yo(r)),s||(e=bt({src:e,async:!0,type:"module"},t),(t=Ye.get(r))&&Ud(e,t),s=n.createElement("script"),Qt(s),ne(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function Qp(e,t,n,i){var r=(r=di.current)?ou(r):null;if(!r)throw Error(P(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=hs(n.href),n=Hr(r).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=hs(n.href);var s=Hr(r).hoistableStyles,a=s.get(e);if(a||(r=r.ownerDocument||r,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,a),(s=r.querySelector(po(e)))&&!s._p&&(a.instance=s,a.state.loading=5),Ye.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ye.set(e,n),s||qw(r,e,n,a.state))),t&&i===null)throw Error(P(528,""));return a}if(t&&i!==null)throw Error(P(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Rs(n),n=Hr(r).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(P(444,e))}}function hs(e){return'href="'+ze(e)+'"'}function po(e){return'link[rel="stylesheet"]['+e+"]"}function iE(e){return bt({},e,{"data-precedence":e.precedence,precedence:null})}function qw(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),ne(t,"link",n),Qt(t),e.head.appendChild(t))}function Rs(e){return'[src="'+ze(e)+'"]'}function yo(e){return"script[async]"+e}function Xp(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+ze(n.href)+'"]');if(i)return t.instance=i,Qt(i),i;var r=bt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Qt(i),ne(i,"style",r),wl(i,n.precedence,e),t.instance=i;case"stylesheet":r=hs(n.href);var s=e.querySelector(po(r));if(s)return t.state.loading|=4,t.instance=s,Qt(s),s;i=iE(n),(r=Ye.get(r))&&Pd(i,r),s=(e.ownerDocument||e).createElement("link"),Qt(s);var a=s;return a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),ne(s,"link",i),t.state.loading|=4,wl(s,n.precedence,e),t.instance=s;case"script":return s=Rs(n.src),(r=e.querySelector(yo(s)))?(t.instance=r,Qt(r),r):(i=n,(r=Ye.get(s))&&(i=bt({},n),Ud(i,r)),e=e.ownerDocument||e,r=e.createElement("script"),Qt(r),ne(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(P(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,wl(i,n.precedence,e));return t.instance}function wl(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,s=r,a=0;a<i.length;a++){var l=i[a];if(l.dataset.precedence===t)s=l;else if(s!==r)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Pd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ud(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Rl=null;function $p(e,t,n){if(Rl===null){var i=new Map,r=Rl=new Map;r.set(n,i)}else r=Rl,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var s=n[r];if(!(s[so]||s[he]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(t)||"";a=e+a;var l=i.get(a);l?l.push(s):i.set(a,[s])}}return i}function Zp(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Hw(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function rE(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var ja=null;function Fw(){}function Gw(e,t,n){if(ja===null)throw Error(P(475));var i=ja;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var r=hs(n.href),s=e.querySelector(po(r));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(i.count++,i=lu.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=s,Qt(s);return}s=e.ownerDocument||e,n=iE(n),(r=Ye.get(r))&&Pd(n,r),s=s.createElement("link"),Qt(s);var a=s;a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),ne(s,"link",n),t.instance=s}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(i.count++,t=lu.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}function Yw(){if(ja===null)throw Error(P(475));var e=ja;return e.stylesheets&&e.count===0&&pf(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&pf(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function lu(){if(this.count--,this.count===0){if(this.stylesheets)pf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var uu=null;function pf(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,uu=new Map,t.forEach(Kw,e),uu=null,lu.call(e))}function Kw(e,t){if(!(t.state.loading&4)){var n=uu.get(e);if(n)var i=n.get(null);else{n=new Map,uu.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var a=r[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}r=t.instance,a=r.getAttribute("data-precedence"),s=n.get(a)||i,s===i&&n.set(null,r),n.set(a,r),this.count++,i=lu.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),s?s.parentNode.insertBefore(r,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var za={$$typeof:An,Provider:null,Consumer:null,_currentValue:Gi,_currentValue2:Gi,_threadCount:0};function Qw(e,t,n,i,r,s,a,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mc(0),this.hiddenUpdates=Mc(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function sE(e,t,n,i,r,s,a,l,u,h,d,_){return e=new Qw(e,t,n,a,l,u,h,_),t=1,s===!0&&(t|=24),s=Ce(3,null,null,t),e.current=s,s.stateNode=e,t=hd(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:t},dd(s),e}function aE(e){return e?(e=Lr,e):Lr}function oE(e,t,n,i,r,s){r=aE(r),i.context===null?i.context=r:i.pendingContext=r,i=mi(t),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=gi(e,i,t),n!==null&&(Me(n,e,t),pa(n,e,t))}function Wp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ld(e,t){Wp(e,t),(e=e.alternate)&&Wp(e,t)}function lE(e){if(e.tag===13){var t=As(e,67108864);t!==null&&Me(t,e,67108864),Ld(e,67108864)}}var cu=!0;function Xw(e,t,n,i){var r=Y.T;Y.T=null;var s=ct.p;try{ct.p=2,jd(e,t,n,i)}finally{ct.p=s,Y.T=r}}function $w(e,t,n,i){var r=Y.T;Y.T=null;var s=ct.p;try{ct.p=8,jd(e,t,n,i)}finally{ct.p=s,Y.T=r}}function jd(e,t,n,i){if(cu){var r=yf(i);if(r===null)ch(e,t,i,hu,n),Jp(e,i);else if(Ww(r,e,t,n,i))i.stopPropagation();else if(Jp(e,i),t&4&&-1<Zw.indexOf(e)){for(;r!==null;){var s=bs(r);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=zi(s.pendingLanes);if(a!==0){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var u=1<<31-De(a);l.entanglements[1]|=u,a&=~u}gn(s),!(ft&6)&&(eu=an()+500,go(0))}}break;case 13:l=As(s,2),l!==null&&Me(l,s,2),Hu(),Ld(s,2)}if(s=yf(i),s===null&&ch(e,t,i,hu,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else ch(e,t,i,null,n)}}function yf(e){return e=ed(e),zd(e)}var hu=null;function zd(e){if(hu=null,e=Or(e),e!==null){var t=eo(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=M_(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return hu=e,null}function uE(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(PA()){case U_:return 2;case L_:return 8;case jl:case UA:return 32;case j_:return 268435456;default:return 32}default:return 32}}var _f=!1,_i=null,vi=null,Ei=null,Ba=new Map,qa=new Map,ii=[],Zw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jp(e,t){switch(e){case"focusin":case"focusout":_i=null;break;case"dragenter":case"dragleave":vi=null;break;case"mouseover":case"mouseout":Ei=null;break;case"pointerover":case"pointerout":Ba.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qa.delete(t.pointerId)}}function Js(e,t,n,i,r,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},t!==null&&(t=bs(t),t!==null&&lE(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function Ww(e,t,n,i,r){switch(t){case"focusin":return _i=Js(_i,e,t,n,i,r),!0;case"dragenter":return vi=Js(vi,e,t,n,i,r),!0;case"mouseover":return Ei=Js(Ei,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return Ba.set(s,Js(Ba.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,qa.set(s,Js(qa.get(s)||null,e,t,n,i,r)),!0}return!1}function cE(e){var t=Or(e.target);if(t!==null){var n=eo(t);if(n!==null){if(t=n.tag,t===13){if(t=M_(n),t!==null){e.blockedOn=t,GA(e.priority,function(){if(n.tag===13){var i=Oe();i=Zf(i);var r=As(n,i);r!==null&&Me(r,n,i),Ld(n,i)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=yf(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Vh=i,n.target.dispatchEvent(i),Vh=null}else return t=bs(n),t!==null&&lE(t),e.blockedOn=n,!1;t.shift()}return!0}function ty(e,t,n){xl(e)&&n.delete(t)}function Jw(){_f=!1,_i!==null&&xl(_i)&&(_i=null),vi!==null&&xl(vi)&&(vi=null),Ei!==null&&xl(Ei)&&(Ei=null),Ba.forEach(ty),qa.forEach(ty)}function ol(e,t){e.blockedOn===t&&(e.blockedOn=null,_f||(_f=!0,Ft.unstable_scheduleCallback(Ft.unstable_NormalPriority,Jw)))}var ll=null;function ey(e){ll!==e&&(ll=e,Ft.unstable_scheduleCallback(Ft.unstable_NormalPriority,function(){ll===e&&(ll=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if(typeof i!="function"){if(zd(i||n)===null)continue;break}var s=bs(n);s!==null&&(e.splice(t,3),t-=3,$h(s,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function Ha(e){function t(u){return ol(u,e)}_i!==null&&ol(_i,e),vi!==null&&ol(vi,e),Ei!==null&&ol(Ei,e),Ba.forEach(t),qa.forEach(t);for(var n=0;n<ii.length;n++){var i=ii[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<ii.length&&(n=ii[0],n.blockedOn===null);)cE(n),n.blockedOn===null&&ii.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],s=n[i+1],a=r[be]||null;if(typeof s=="function")a||ey(n);else if(a){var l=null;if(s&&s.hasAttribute("formAction")){if(r=s,a=s[be]||null)l=a.formAction;else if(zd(r)!==null)continue}else l=a.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),ey(n)}}}function Bd(e){this._internalRoot=e}Ku.prototype.render=Bd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));var n=t.current,i=Oe();oE(n,i,e,t,null,null)};Ku.prototype.unmount=Bd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;oE(e.current,2,null,e,null,null),Hu(),t[Ts]=null}};function Ku(e){this._internalRoot=e}Ku.prototype.unstable_scheduleHydration=function(e){if(e){var t=F_();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ii.length&&t!==0&&t<ii[n].priority;n++);ii.splice(n,0,e),n===0&&cE(e)}};var ny=D_.version;if(ny!=="19.1.1")throw Error(P(527,ny,"19.1.1"));ct.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=CA(t),e=e!==null?V_(e):null,e=e===null?null:e.stateNode,e};var t1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ul.isDisabled&&ul.supportsFiber)try{no=ul.inject(t1),Ne=ul}catch{}}Du.createRoot=function(e,t){if(!O_(e))throw Error(P(299));var n=!1,i="",r=s0,s=a0,a=o0,l=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(l=t.unstable_transitionCallbacks)),t=sE(e,1,!1,null,null,n,i,r,s,a,l,null),e[Ts]=t.current,kd(e),new Bd(t)};Du.hydrateRoot=function(e,t,n){if(!O_(e))throw Error(P(299));var i=!1,r="",s=s0,a=a0,l=o0,u=null,h=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(u=n.unstable_transitionCallbacks),n.formState!==void 0&&(h=n.formState)),t=sE(e,1,!0,t,n??null,i,r,s,a,l,u,h),t.context=aE(null),n=t.current,i=Oe(),i=Zf(i),r=mi(i),r.callback=null,gi(n,r,i),n=i,t.current.lanes=n,ro(t,n),gn(t),e[Ts]=t.current,kd(e),new Ku(t)};Du.version="19.1.1";function hE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hE)}catch(e){console.error(e)}}hE(),w_.exports=Du;var e1=w_.exports;const n1=g_(e1);var iy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},i1=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=e[n++],a=e[n++],l=e[n++],u=((r&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],a=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return t.join("")},dE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const s=e[r],a=r+1<e.length,l=a?e[r+1]:0,u=r+2<e.length,h=u?e[r+2]:0,d=s>>2,_=(s&3)<<4|l>>4;let m=(l&15)<<2|h>>6,E=h&63;u||(E=64,a||(m=64)),i.push(n[d],n[_],n[m],n[E])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(fE(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):i1(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const s=n[e.charAt(r++)],l=r<e.length?n[e.charAt(r)]:0;++r;const h=r<e.length?n[e.charAt(r)]:64;++r;const _=r<e.length?n[e.charAt(r)]:64;if(++r,s==null||l==null||h==null||_==null)throw new r1;const m=s<<2|l>>4;if(i.push(m),h!==64){const E=l<<4&240|h>>2;if(i.push(E),_!==64){const D=h<<6&192|_;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class r1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s1=function(e){const t=fE(e);return dE.encodeByteArray(t,!0)},fu=function(e){return s1(e).replace(/\./g,"")},mE=function(e){try{return dE.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=()=>a1().__FIREBASE_DEFAULTS__,l1=()=>{if(typeof process>"u"||typeof iy>"u")return;const e=iy.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},u1=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&mE(e[1]);return t&&JSON.parse(t)},Qu=()=>{try{return o1()||l1()||u1()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},gE=e=>{var t,n;return(n=(t=Qu())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},c1=e=>{const t=gE(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},pE=()=>{var e;return(e=Qu())===null||e===void 0?void 0:e.config},yE=e=>{var t;return(t=Qu())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[fu(JSON.stringify(n)),fu(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function d1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(de())}function m1(){var e;const t=(e=Qu())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function g1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function p1(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function y1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _1(){const e=de();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function v1(){return!m1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function E1(){try{return typeof indexedDB=="object"}catch{return!1}}function T1(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;t(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="FirebaseError";class Fn extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=b1,Object.setPrototypeOf(this,Fn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_o.prototype.create)}}class _o{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,s=this.errors[t],a=s?A1(s,i):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new Fn(r,l,i)}}function A1(e,t){return e.replace(S1,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const S1=/\{\$([^}]+)}/g;function w1(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function du(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const s=e[r],a=t[r];if(ry(s)&&ry(a)){if(!du(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function ry(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function sa(e){const t={};return e.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(s)}}),t}function aa(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function R1(e,t){const n=new x1(e,t);return n.subscribe.bind(n)}class x1{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");I1(t,["next","error","complete"])?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=fh),r.error===void 0&&(r.error=fh),r.complete===void 0&&(r.complete=fh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function I1(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function fh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(e){return e&&e._delegate?e._delegate:e}class ir{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new h1;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(D1(t))try{this.getOrInitializeService({instanceIdentifier:Hi})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=Hi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Hi){return this.instances.has(t)}getOptions(t=Hi){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);i===l&&a.resolve(r)}return r}onInit(t,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&t(a,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:N1(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Hi){return this.component?this.component.multipleInstances?t:Hi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function N1(e){return e===Hi?void 0:e}function D1(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new C1(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(rt||(rt={}));const M1={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},V1=rt.INFO,k1={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},P1=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=k1[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class qd{constructor(t){this.name=t,this._logLevel=V1,this._logHandler=P1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in rt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?M1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...t),this._logHandler(this,rt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...t),this._logHandler(this,rt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...t),this._logHandler(this,rt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...t),this._logHandler(this,rt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...t),this._logHandler(this,rt.ERROR,...t)}}const U1=(e,t)=>t.some(n=>e instanceof n);let sy,ay;function L1(){return sy||(sy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function j1(){return ay||(ay=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _E=new WeakMap,vf=new WeakMap,vE=new WeakMap,dh=new WeakMap,Hd=new WeakMap;function z1(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",a)},s=()=>{n(Ti(e.result)),r()},a=()=>{i(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&_E.set(n,e)}).catch(()=>{}),Hd.set(t,e),t}function B1(e){if(vf.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",a),e.removeEventListener("abort",a)},s=()=>{n(),r()},a=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",a),e.addEventListener("abort",a)});vf.set(e,t)}let Ef={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return vf.get(e);if(t==="objectStoreNames")return e.objectStoreNames||vE.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ti(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function q1(e){Ef=e(Ef)}function H1(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(mh(this),t,...n);return vE.set(i,t.sort?t.sort():[t]),Ti(i)}:j1().includes(e)?function(...t){return e.apply(mh(this),t),Ti(_E.get(this))}:function(...t){return Ti(e.apply(mh(this),t))}}function F1(e){return typeof e=="function"?H1(e):(e instanceof IDBTransaction&&B1(e),U1(e,L1())?new Proxy(e,Ef):e)}function Ti(e){if(e instanceof IDBRequest)return z1(e);if(dh.has(e))return dh.get(e);const t=F1(e);return t!==e&&(dh.set(e,t),Hd.set(t,e)),t}const mh=e=>Hd.get(e);function G1(e,t,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(e,t),l=Ti(a);return i&&a.addEventListener("upgradeneeded",u=>{i(Ti(a.result),u.oldVersion,u.newVersion,Ti(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const Y1=["get","getKey","getAll","getAllKeys","count"],K1=["put","add","delete","clear"],gh=new Map;function oy(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(gh.get(t))return gh.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=K1.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||Y1.includes(n)))return;const s=async function(a,...l){const u=this.transaction(a,r?"readwrite":"readonly");let h=u.store;return i&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),r&&u.done]))[0]};return gh.set(t,s),s}q1(e=>({...e,get:(t,n,i)=>oy(t,n)||e.get(t,n,i),has:(t,n)=>!!oy(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(X1(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function X1(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Tf="@firebase/app",ly="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jn=new qd("@firebase/app"),$1="@firebase/app-compat",Z1="@firebase/analytics-compat",W1="@firebase/analytics",J1="@firebase/app-check-compat",tR="@firebase/app-check",eR="@firebase/auth",nR="@firebase/auth-compat",iR="@firebase/database",rR="@firebase/data-connect",sR="@firebase/database-compat",aR="@firebase/functions",oR="@firebase/functions-compat",lR="@firebase/installations",uR="@firebase/installations-compat",cR="@firebase/messaging",hR="@firebase/messaging-compat",fR="@firebase/performance",dR="@firebase/performance-compat",mR="@firebase/remote-config",gR="@firebase/remote-config-compat",pR="@firebase/storage",yR="@firebase/storage-compat",_R="@firebase/firestore",vR="@firebase/vertexai-preview",ER="@firebase/firestore-compat",TR="firebase",bR="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf="[DEFAULT]",AR={[Tf]:"fire-core",[$1]:"fire-core-compat",[W1]:"fire-analytics",[Z1]:"fire-analytics-compat",[tR]:"fire-app-check",[J1]:"fire-app-check-compat",[eR]:"fire-auth",[nR]:"fire-auth-compat",[iR]:"fire-rtdb",[rR]:"fire-data-connect",[sR]:"fire-rtdb-compat",[aR]:"fire-fn",[oR]:"fire-fn-compat",[lR]:"fire-iid",[uR]:"fire-iid-compat",[cR]:"fire-fcm",[hR]:"fire-fcm-compat",[fR]:"fire-perf",[dR]:"fire-perf-compat",[mR]:"fire-rc",[gR]:"fire-rc-compat",[pR]:"fire-gcs",[yR]:"fire-gcs-compat",[_R]:"fire-fst",[ER]:"fire-fst-compat",[vR]:"fire-vertex","fire-js":"fire-js",[TR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu=new Map,SR=new Map,Af=new Map;function uy(e,t){try{e.container.addComponent(t)}catch(n){jn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function fs(e){const t=e.name;if(Af.has(t))return jn.debug(`There were multiple attempts to register component ${t}.`),!1;Af.set(t,e);for(const n of mu.values())uy(n,e);for(const n of SR.values())uy(n,e);return!0}function Fd(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function rn(e){return e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bi=new _o("app","Firebase",wR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ir("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw bi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=bR;function EE(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:bf,automaticDataCollectionEnabled:!1},t),r=i.name;if(typeof r!="string"||!r)throw bi.create("bad-app-name",{appName:String(r)});if(n||(n=pE()),!n)throw bi.create("no-options");const s=mu.get(r);if(s){if(du(n,s.options)&&du(i,s.config))return s;throw bi.create("duplicate-app",{appName:r})}const a=new O1(r);for(const u of Af.values())a.addComponent(u);const l=new RR(n,i,a);return mu.set(r,l),l}function TE(e=bf){const t=mu.get(e);if(!t&&e===bf&&pE())return EE();if(!t)throw bi.create("no-app",{appName:e});return t}function Ai(e,t,n){var i;let r=(i=AR[e])!==null&&i!==void 0?i:e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const l=[`Unable to register library "${r}" with version "${t}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),jn.warn(l.join(" "));return}fs(new ir(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR="firebase-heartbeat-database",IR=1,Fa="firebase-heartbeat-store";let ph=null;function bE(){return ph||(ph=G1(xR,IR,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Fa)}catch(n){console.warn(n)}}}}).catch(e=>{throw bi.create("idb-open",{originalErrorMessage:e.message})})),ph}async function CR(e){try{const n=(await bE()).transaction(Fa),i=await n.objectStore(Fa).get(AE(e));return await n.done,i}catch(t){if(t instanceof Fn)jn.warn(t.message);else{const n=bi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});jn.warn(n.message)}}}async function cy(e,t){try{const i=(await bE()).transaction(Fa,"readwrite");await i.objectStore(Fa).put(t,AE(e)),await i.done}catch(n){if(n instanceof Fn)jn.warn(n.message);else{const i=bi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});jn.warn(i.message)}}}function AE(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=1024,DR=30*24*60*60*1e3;class OR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new VR(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=hy();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=DR}),this._storage.overwrite(this._heartbeatsCache))}catch(i){jn.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=hy(),{heartbeatsToSend:i,unsentEntries:r}=MR(this._heartbeatsCache.heartbeats),s=fu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return jn.warn(n),""}}}function hy(){return new Date().toISOString().substring(0,10)}function MR(e,t=NR){const n=[];let i=e.slice();for(const r of e){const s=n.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),fy(n)>t){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),fy(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class VR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return E1()?T1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await CR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return cy(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return cy(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function fy(e){return fu(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(e){fs(new ir("platform-logger",t=>new Q1(t),"PRIVATE")),fs(new ir("heartbeat",t=>new OR(t),"PRIVATE")),Ai(Tf,ly,e),Ai(Tf,ly,"esm2017"),Ai("fire-js","")}kR("");var PR="firebase",UR="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ai(PR,UR,"app");function Gd(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}function SE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LR=SE,wE=new _o("auth","Firebase",SE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu=new qd("@firebase/auth");function jR(e,...t){gu.logLevel<=rt.WARN&&gu.warn(`Auth (${xs}): ${e}`,...t)}function Il(e,...t){gu.logLevel<=rt.ERROR&&gu.error(`Auth (${xs}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(e,...t){throw Yd(e,...t)}function ln(e,...t){return Yd(e,...t)}function RE(e,t,n){const i=Object.assign(Object.assign({},LR()),{[t]:n});return new _o("auth","Firebase",i).create(t,{appName:e.name})}function Mn(e){return RE(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Yd(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return wE.create(e,...t)}function G(e,t,...n){if(!e)throw Yd(t,...n)}function In(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Il(t),new Error(t)}function zn(e,t){e||In(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function zR(){return dy()==="http:"||dy()==="https:"}function dy(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zR()||p1()||"connection"in navigator)?navigator.onLine:!0}function qR(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(t,n){this.shortDelay=t,this.longDelay=n,zn(n>t,"Short delay should be less than long delay!"),this.isMobile=d1()||y1()}get(){return BR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(e,t){zn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;In("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;In("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;In("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=new Eo(3e4,6e4);function Mi(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Vi(e,t,n,i,r={}){return IE(e,r,async()=>{let s={},a={};i&&(t==="GET"?a=i:s={body:JSON.stringify(i)});const l=vo(Object.assign({key:e.config.apiKey},a)).slice(1),u=await e._getAdditionalHeaders();u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode);const h=Object.assign({method:t,headers:u},s);return g1()||(h.referrerPolicy="no-referrer"),xE.fetch()(CE(e,e.config.apiHost,n,l),h)})}async function IE(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},HR),t);try{const r=new YR(e),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw cl(e,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[u,h]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw cl(e,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw cl(e,"email-already-in-use",a);if(u==="USER_DISABLED")throw cl(e,"user-disabled",a);const d=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw RE(e,d,h);Ze(e,d)}}catch(r){if(r instanceof Fn)throw r;Ze(e,"network-request-failed",{message:String(r)})}}async function To(e,t,n,i,r={}){const s=await Vi(e,t,n,i,r);return"mfaPendingCredential"in s&&Ze(e,"multi-factor-auth-required",{_serverResponse:s}),s}function CE(e,t,n,i){const r=`${t}${n}?${i}`;return e.config.emulator?Kd(e.config,r):`${e.config.apiScheme}://${r}`}function GR(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class YR{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(ln(this.auth,"network-request-failed")),FR.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function cl(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=ln(e,t,i);return r.customData._tokenResponse=n,r}function my(e){return e!==void 0&&e.enterprise!==void 0}class KR{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return GR(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function QR(e,t){return Vi(e,"GET","/v2/recaptchaConfig",Mi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XR(e,t){return Vi(e,"POST","/v1/accounts:delete",t)}async function NE(e,t){return Vi(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function $R(e,t=!1){const n=ke(e),i=await n.getIdToken(t),r=Qd(i);G(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:wa(yh(r.auth_time)),issuedAtTime:wa(yh(r.iat)),expirationTime:wa(yh(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function yh(e){return Number(e)*1e3}function Qd(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return Il("JWT malformed, contained fewer than 3 sections"),null;try{const r=mE(n);return r?JSON.parse(r):(Il("Failed to decode base64 JWT payload"),null)}catch(r){return Il("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function gy(e){const t=Qd(e);return G(t,"internal-error"),G(typeof t.exp<"u","internal-error"),G(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ga(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof Fn&&ZR(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function ZR({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wa(this.lastLoginAt),this.creationTime=wa(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pu(e){var t;const n=e.auth,i=await e.getIdToken(),r=await Ga(e,NE(n,{idToken:i}));G(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];e._notifyReloadListener(s);const a=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?DE(s.providerUserInfo):[],l=t2(e.providerData,a),u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(l!=null&&l.length),d=u?h:!1,_={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new wf(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,_)}async function JR(e){const t=ke(e);await pu(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function t2(e,t){return[...e.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function DE(e){return e.map(t=>{var{providerId:n}=t,i=Gd(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e2(e,t){const n=await IE(e,{},async()=>{const i=vo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,a=CE(e,r,"/v1/token",`key=${s}`),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",xE.fetch()(a,{method:"POST",headers:l,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function n2(e,t){return Vi(e,"POST","/v2/accounts:revokeToken",Mi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){G(t.idToken,"internal-error"),G(typeof t.idToken<"u","internal-error"),G(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):gy(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){G(t.length!==0,"internal-error");const n=gy(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(G(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await e2(t,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,a=new Zr;return i&&(G(typeof i=="string","internal-error",{appName:t}),a.refreshToken=i),r&&(G(typeof r=="string","internal-error",{appName:t}),a.accessToken=r),s&&(G(typeof s=="number","internal-error",{appName:t}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Zr,this.toJSON())}_performRefresh(){return In("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(e,t){G(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Cn{constructor(t){var{uid:n,auth:i,stsTokenManager:r}=t,s=Gd(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new WR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new wf(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await Ga(this,this.stsTokenManager.getToken(this.auth,t));return G(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return $R(this,t)}reload(){return JR(this)}_assign(t){this!==t&&(G(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Cn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await pu(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(rn(this.auth.app))return Promise.reject(Mn(this.auth));const t=await this.getIdToken();return await Ga(this,XR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,r,s,a,l,u,h,d;const _=(i=n.displayName)!==null&&i!==void 0?i:void 0,m=(r=n.email)!==null&&r!==void 0?r:void 0,E=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,D=(a=n.photoURL)!==null&&a!==void 0?a:void 0,O=(l=n.tenantId)!==null&&l!==void 0?l:void 0,V=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,b=(h=n.createdAt)!==null&&h!==void 0?h:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:S,emailVerified:x,isAnonymous:k,providerData:j,stsTokenManager:A}=n;G(S&&A,t,"internal-error");const p=Zr.fromJSON(this.name,A);G(typeof S=="string",t,"internal-error"),$n(_,t.name),$n(m,t.name),G(typeof x=="boolean",t,"internal-error"),G(typeof k=="boolean",t,"internal-error"),$n(E,t.name),$n(D,t.name),$n(O,t.name),$n(V,t.name),$n(b,t.name),$n(v,t.name);const T=new Cn({uid:S,auth:t,email:m,emailVerified:x,displayName:_,isAnonymous:k,photoURL:D,phoneNumber:E,tenantId:O,stsTokenManager:p,createdAt:b,lastLoginAt:v});return j&&Array.isArray(j)&&(T.providerData=j.map(w=>Object.assign({},w))),V&&(T._redirectEventId=V),T}static async _fromIdTokenResponse(t,n,i=!1){const r=new Zr;r.updateFromServerResponse(n);const s=new Cn({uid:n.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await pu(s),s}static async _fromGetAccountInfoResponse(t,n,i){const r=n.users[0];G(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?DE(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),l=new Zr;l.updateFromIdToken(i);const u=new Cn({uid:r.localId,auth:t,stsTokenManager:l,isAnonymous:a}),h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new wf(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py=new Map;function Nn(e){zn(e instanceof Function,"Expected a class definition");let t=py.get(e);return t?(zn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,py.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}OE.type="NONE";const yy=OE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(e,t,n){return`firebase:${e}:${t}:${n}`}class Wr{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Cl(this.userKey,r.apiKey,s),this.fullPersistenceKey=Cl("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Cn._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new Wr(Nn(yy),t,i);const r=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=r[0]||Nn(yy);const a=Cl(i,t.config.apiKey,t.name);let l=null;for(const h of n)try{const d=await h._get(a);if(d){const _=Cn._fromJSON(t,d);h!==s&&(l=_),s=h;break}}catch{}const u=r.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Wr(s,t,i):(s=u[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(a)}catch{}})),new Wr(s,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(PE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ME(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(LE(t))return"Blackberry";if(jE(t))return"Webos";if(VE(t))return"Safari";if((t.includes("chrome/")||kE(t))&&!t.includes("edge/"))return"Chrome";if(UE(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function ME(e=de()){return/firefox\//i.test(e)}function VE(e=de()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function kE(e=de()){return/crios\//i.test(e)}function PE(e=de()){return/iemobile/i.test(e)}function UE(e=de()){return/android/i.test(e)}function LE(e=de()){return/blackberry/i.test(e)}function jE(e=de()){return/webos/i.test(e)}function Xd(e=de()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function i2(e=de()){var t;return Xd(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function r2(){return _1()&&document.documentMode===10}function zE(e=de()){return Xd(e)||UE(e)||jE(e)||LE(e)||/windows phone/i.test(e)||PE(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(e,t=[]){let n;switch(e){case"Browser":n=_y(de());break;case"Worker":n=`${_y(de())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${xs}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=s=>new Promise((a,l)=>{try{const u=t(s);a(u)}catch(u){l(u)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a2(e,t={}){return Vi(e,"GET","/v2/passwordPolicy",Mi(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=6;class l2{constructor(t){var n,i,r,s;const a=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:o2,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,i,r,s,a,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,u),this.validatePasswordCharacterOptions(t,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(r=u.containsLowercaseLetter)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),r&&(n.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(t,n,i,r){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vy(this),this.idTokenSubscription=new vy(this),this.beforeStateQueue=new s2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Nn(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await Wr.create(this,t),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await NE(this,{idToken:t}),i=await Cn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(rn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(t);(!a||a===l)&&(u!=null&&u.user)&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return G(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await pu(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=qR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(rn(this.app))return Promise.reject(Mn(this));const n=t?ke(t):null;return n&&G(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&G(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return rn(this.app)?Promise.reject(Mn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return rn(this.app)?Promise.reject(Mn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Nn(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await a2(this),n=new l2(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new _o("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await n2(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Nn(t)||this._popupRedirectResolver;G(n,this,"argument-error"),this.redirectPersistenceManager=await Wr.create(this,[Nn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(G(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,i,r);return()=>{a=!0,u()}}else{const u=t.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=BE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&jR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function dr(e){return ke(e)}class vy{constructor(t){this.auth=t,this.observer=null,this.addObserver=R1(n=>this.observer=n)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function c2(e){Xu=e}function qE(e){return Xu.loadJS(e)}function h2(){return Xu.recaptchaEnterpriseScript}function f2(){return Xu.gapiScript}function d2(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const m2="recaptcha-enterprise",g2="NO_RECAPTCHA";class p2{constructor(t){this.type=m2,this.auth=dr(t)}async verify(t="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,l)=>{QR(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const h=new KR(u);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,a(h.siteKey)}}).catch(u=>{l(u)})})}function r(s,a,l){const u=window.grecaptcha;my(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:t}).then(h=>{a(h)}).catch(()=>{a(g2)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{i(this.auth).then(l=>{if(!n&&my(window.grecaptcha))r(l,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=h2();u.length!==0&&(u+=l),qE(u).then(()=>{r(l,s,a)}).catch(h=>{a(h)})}}).catch(l=>{a(l)})})}}async function Ey(e,t,n,i=!1){const r=new p2(e);let s;try{s=await r.verify(n)}catch{s=await r.verify(n,!0)}const a=Object.assign({},t);return i?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Rf(e,t,n,i){var r;if(!((r=e._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Ey(e,t,n,n==="getOobCode");return i(e,s)}else return i(e,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Ey(e,t,n,n==="getOobCode");return i(e,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(e,t){const n=Fd(e,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(du(s,t??{}))return r;Ze(r,"already-initialized")}return n.initialize({options:t})}function _2(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Nn);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function v2(e,t,n){const i=dr(e);G(i._canInitEmulator,i,"emulator-config-failed"),G(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,s=HE(t),{host:a,port:l}=E2(t),u=l===null?"":`:${l}`;i.config.emulator={url:`${s}//${a}${u}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),T2()}function HE(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function E2(e){const t=HE(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:Ty(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:Ty(a)}}}function Ty(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function T2(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return In("not implemented")}_getIdTokenResponse(t){return In("not implemented")}_linkToIdToken(t,n){return In("not implemented")}_getReauthenticationResolver(t){return In("not implemented")}}async function b2(e,t){return Vi(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A2(e,t){return To(e,"POST","/v1/accounts:signInWithPassword",Mi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S2(e,t){return To(e,"POST","/v1/accounts:signInWithEmailLink",Mi(e,t))}async function w2(e,t){return To(e,"POST","/v1/accounts:signInWithEmailLink",Mi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya extends $d{constructor(t,n,i,r=null){super("password",i),this._email=t,this._password=n,this._tenantId=r}static _fromEmailAndPassword(t,n){return new Ya(t,n,"password")}static _fromEmailAndCode(t,n,i=null){return new Ya(t,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rf(t,n,"signInWithPassword",A2);case"emailLink":return S2(t,{email:this._email,oobCode:this._password});default:Ze(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rf(t,i,"signUpPassword",b2);case"emailLink":return w2(t,{idToken:n,email:this._email,oobCode:this._password});default:Ze(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jr(e,t){return To(e,"POST","/v1/accounts:signInWithIdp",Mi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2="http://localhost";class rr extends $d{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new rr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Ze("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=n,s=Gd(n,["providerId","signInMethod"]);if(!i||!r)return null;const a=new rr(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return Jr(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,Jr(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Jr(t,n)}buildRequest(){const t={requestUri:R2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=vo(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function I2(e){const t=sa(aa(e)).link,n=t?sa(aa(t)).deep_link_id:null,i=sa(aa(e)).deep_link_id;return(i?sa(aa(i)).link:null)||i||n||t||e}class Zd{constructor(t){var n,i,r,s,a,l;const u=sa(aa(t)),h=(n=u.apiKey)!==null&&n!==void 0?n:null,d=(i=u.oobCode)!==null&&i!==void 0?i:null,_=x2((r=u.mode)!==null&&r!==void 0?r:null);G(h&&d&&_,"argument-error"),this.apiKey=h,this.operation=_,this.code=d,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=u.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(t){const n=I2(t);try{return new Zd(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(){this.providerId=Is.PROVIDER_ID}static credential(t,n){return Ya._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const i=Zd.parseLink(n);return G(i,"argument-error"),Ya._fromEmailAndCode(t,i.code,i.tenantId)}}Is.PROVIDER_ID="password";Is.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Is.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo extends FE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri extends bo{constructor(){super("facebook.com")}static credential(t){return rr._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ri.credentialFromTaggedObject(t)}static credentialFromError(t){return ri.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ri.credential(t.oauthAccessToken)}catch{return null}}}ri.FACEBOOK_SIGN_IN_METHOD="facebook.com";ri.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends bo{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return rr._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return si.credentialFromTaggedObject(t)}static credentialFromError(t){return si.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return si.credential(n,i)}catch{return null}}}si.GOOGLE_SIGN_IN_METHOD="google.com";si.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends bo{constructor(){super("github.com")}static credential(t){return rr._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ai.credentialFromTaggedObject(t)}static credentialFromError(t){return ai.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ai.credential(t.oauthAccessToken)}catch{return null}}}ai.GITHUB_SIGN_IN_METHOD="github.com";ai.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends bo{constructor(){super("twitter.com")}static credential(t,n){return rr._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return oi.credentialFromTaggedObject(t)}static credentialFromError(t){return oi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return oi.credential(n,i)}catch{return null}}}oi.TWITTER_SIGN_IN_METHOD="twitter.com";oi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C2(e,t){return To(e,"POST","/v1/accounts:signUp",Mi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,r=!1){const s=await Cn._fromIdTokenResponse(t,i,r),a=by(i);return new sr({user:s,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const r=by(i);return new sr({user:t,providerId:r,_tokenResponse:i,operationType:n})}}function by(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends Fn{constructor(t,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,yu.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,r){return new yu(t,n,i,r)}}function GE(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?yu._fromErrorAndOperation(e,s,t,i):s})}async function N2(e,t,n=!1){const i=await Ga(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return sr._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D2(e,t,n=!1){const{auth:i}=e;if(rn(i.app))return Promise.reject(Mn(i));const r="reauthenticate";try{const s=await Ga(e,GE(i,r,t,e),n);G(s.idToken,i,"internal-error");const a=Qd(s.idToken);G(a,i,"internal-error");const{sub:l}=a;return G(e.uid===l,i,"user-mismatch"),sr._forOperation(e,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ze(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YE(e,t,n=!1){if(rn(e.app))return Promise.reject(Mn(e));const i="signIn",r=await GE(e,i,t),s=await sr._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(s.user),s}async function O2(e,t){return YE(dr(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KE(e){const t=dr(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function M2(e,t,n){if(rn(e.app))return Promise.reject(Mn(e));const i=dr(e),a=await Rf(i,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",C2).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&KE(e),u}),l=await sr._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function V2(e,t,n){return rn(e.app)?Promise.reject(Mn(e)):O2(ke(e),Is.credential(t,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&KE(e),i})}function k2(e,t,n,i){return ke(e).onIdTokenChanged(t,n,i)}function P2(e,t,n){return ke(e).beforeAuthStateChanged(t,n)}function U2(e,t,n,i){return ke(e).onAuthStateChanged(t,n,i)}function L2(e){return ke(e).signOut()}const _u="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_u,"1"),this.storage.removeItem(_u),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=1e3,z2=10;class XE extends QE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&t(n,r,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const i=t.key;n?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);r2()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,z2):r()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},j2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}XE.type="LOCAL";const B2=XE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E extends QE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}$E.type="SESSION";const ZE=$E;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(r=>r.isListeningto(t));if(n)return n;const i=new $u(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:r,data:s}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const l=Array.from(a).map(async h=>h(n.origin,s)),u=await q2(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$u.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((l,u)=>{const h=Wd("",20);r.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(_){const m=_;if(m.data.eventId===h)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(m.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:h,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return window}function F2(e){un().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(){return typeof un().WorkerGlobalScope<"u"&&typeof un().importScripts=="function"}async function G2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Y2(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function K2(){return WE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="firebaseLocalStorageDb",Q2=1,vu="firebaseLocalStorage",tT="fbase_key";class Ao{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zu(e,t){return e.transaction([vu],t?"readwrite":"readonly").objectStore(vu)}function X2(){const e=indexedDB.deleteDatabase(JE);return new Ao(e).toPromise()}function xf(){const e=indexedDB.open(JE,Q2);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(vu,{keyPath:tT})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(vu)?t(i):(i.close(),await X2(),t(await xf()))})})}async function Ay(e,t,n){const i=Zu(e,!0).put({[tT]:t,value:n});return new Ao(i).toPromise()}async function $2(e,t){const n=Zu(e,!1).get(t),i=await new Ao(n).toPromise();return i===void 0?null:i.value}function Sy(e,t){const n=Zu(e,!0).delete(t);return new Ao(n).toPromise()}const Z2=800,W2=3;class eT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xf(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>W2)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$u._getInstance(K2()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await G2(),!this.activeServiceWorker)return;this.sender=new H2(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Y2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await xf();return await Ay(t,_u,"1"),await Sy(t,_u),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Ay(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>$2(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Sy(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const s=Zu(r,!1).getAll();return new Ao(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:s}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Z2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eT.type="LOCAL";const J2=eT;new Eo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(e,t){return t?Nn(t):(G(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd extends $d{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Jr(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Jr(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Jr(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function ex(e){return YE(e.auth,new Jd(e),e.bypassAuthState)}function nx(e){const{auth:t,user:n}=e;return G(n,t,"internal-error"),D2(n,new Jd(e),e.bypassAuthState)}async function ix(e){const{auth:t,user:n}=e;return G(n,t,"internal-error"),N2(n,new Jd(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(t,n,i,r,s=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:a,type:l}=t;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(h){this.reject(h)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return ex;case"linkViaPopup":case"linkViaRedirect":return ix;case"reauthViaPopup":case"reauthViaRedirect":return nx;default:Ze(this.auth,"internal-error")}}resolve(t){zn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){zn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx=new Eo(2e3,1e4);class qr extends nT{constructor(t,n,i,r,s){super(t,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,qr.currentPopupAction&&qr.currentPopupAction.cancel(),qr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return G(t,this.auth,"internal-error"),t}async onExecution(){zn(this.filter.length===1,"Popup operations only handle one event");const t=Wd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ln(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(ln(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qr.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ln(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,rx.get())};t()}}qr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx="pendingRedirect",Nl=new Map;class ax extends nT{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=Nl.get(this.auth._key());if(!t){try{const i=await ox(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}Nl.set(this.auth._key(),t)}return this.bypassAuthState||Nl.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ox(e,t){const n=cx(t),i=ux(e);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function lx(e,t){Nl.set(e._key(),t)}function ux(e){return Nn(e._redirectPersistence)}function cx(e){return Cl(sx,e.config.apiKey,e.name)}async function hx(e,t,n=!1){if(rn(e.app))return Promise.reject(Mn(e));const i=dr(e),r=tx(i,t),a=await new ax(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx=10*60*1e3;class dx{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!mx(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!iT(t)){const r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(ln(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=fx&&this.cachedEventUids.clear(),this.cachedEventUids.has(wy(t))}saveEventToCache(t){this.cachedEventUids.add(wy(t)),this.lastProcessedEventTime=Date.now()}}function wy(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function iT({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function mx(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iT(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gx(e,t={}){return Vi(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yx=/^https?/;async function _x(e){if(e.config.emulator)return;const{authorizedDomains:t}=await gx(e);for(const n of t)try{if(vx(n))return}catch{}Ze(e,"unauthorized-domain")}function vx(e){const t=Sf(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!yx.test(n))return!1;if(px.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex=new Eo(3e4,6e4);function Ry(){const e=un().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function Tx(e){return new Promise((t,n)=>{var i,r,s;function a(){Ry(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ry(),n(ln(e,"network-request-failed"))},timeout:Ex.get()})}if(!((r=(i=un().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((s=un().gapi)===null||s===void 0)&&s.load)a();else{const l=d2("iframefcb");return un()[l]=()=>{gapi.load?a():n(ln(e,"network-request-failed"))},qE(`${f2()}?onload=${l}`).catch(u=>n(u))}}).catch(t=>{throw Dl=null,t})}let Dl=null;function bx(e){return Dl=Dl||Tx(e),Dl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=new Eo(5e3,15e3),Sx="__/auth/iframe",wx="emulator/auth/iframe",Rx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ix(e){const t=e.config;G(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Kd(t,wx):`https://${e.config.authDomain}/${Sx}`,i={apiKey:t.apiKey,appName:e.name,v:xs},r=xx.get(e.config.apiHost);r&&(i.eid=r);const s=e._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${vo(i).slice(1)}`}async function Cx(e){const t=await bx(e),n=un().gapi;return G(n,e,"internal-error"),t.open({where:document.body,url:Ix(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rx,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=ln(e,"network-request-failed"),l=un().setTimeout(()=>{s(a)},Ax.get());function u(){un().clearTimeout(l),r(i)}i.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Dx=500,Ox=600,Mx="_blank",Vx="http://localhost";class xy{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kx(e,t,n,i=Dx,r=Ox){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u=Object.assign(Object.assign({},Nx),{width:i.toString(),height:r.toString(),top:s,left:a}),h=de().toLowerCase();n&&(l=kE(h)?Mx:n),ME(h)&&(t=t||Vx,u.scrollbars="yes");const d=Object.entries(u).reduce((m,[E,D])=>`${m}${E}=${D},`,"");if(i2(h)&&l!=="_self")return Px(t||"",l),new xy(null);const _=window.open(t||"",l,d);G(_,e,"popup-blocked");try{_.focus()}catch{}return new xy(_)}function Px(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux="__/auth/handler",Lx="emulator/auth/handler",jx=encodeURIComponent("fac");async function Iy(e,t,n,i,r,s){G(e.config.authDomain,e,"auth-domain-config-required"),G(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:xs,eventId:r};if(t instanceof FE){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",w1(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,_]of Object.entries({}))a[d]=_}if(t instanceof bo){const d=t.getScopes().filter(_=>_!=="");d.length>0&&(a.scopes=d.join(","))}e.tenantId&&(a.tid=e.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const u=await e._getAppCheckToken(),h=u?`#${jx}=${encodeURIComponent(u)}`:"";return`${zx(e)}?${vo(l).slice(1)}${h}`}function zx({config:e}){return e.emulator?Kd(e,Lx):`https://${e.authDomain}/${Ux}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h="webStorageSupport";class Bx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZE,this._completeRedirectFn=hx,this._overrideRedirectResult=lx}async _openPopup(t,n,i,r){var s;zn((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await Iy(t,n,i,Sf(),r);return kx(t,a,Wd())}async _openRedirect(t,n,i,r){await this._originValidation(t);const s=await Iy(t,n,i,Sf(),r);return F2(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(zn(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await Cx(t),i=new dx(t);return n.register("authEvent",r=>(G(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(_h,{type:_h},r=>{var s;const a=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[_h];a!==void 0&&n(!!a),Ze(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_x(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return zE()||VE()||Xd()}}const qx=Bx;var Cy="@firebase/auth",Ny="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Gx(e){fs(new ir("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;G(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BE(e)},h=new u2(i,r,s,u);return _2(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),fs(new ir("auth-internal",t=>{const n=dr(t.getProvider("auth").getImmediate());return(i=>new Hx(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ai(Cy,Ny,Fx(e)),Ai(Cy,Ny,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx=5*60,Kx=yE("authIdTokenMaxAge")||Yx;let Dy=null;const Qx=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>Kx)return;const r=n==null?void 0:n.token;Dy!==r&&(Dy=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function Xx(e=TE()){const t=Fd(e,"auth");if(t.isInitialized())return t.getImmediate();const n=y2(e,{popupRedirectResolver:qx,persistence:[J2,B2,ZE]}),i=yE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=Qx(s.toString());P2(n,a,()=>a(n.currentUser)),k2(n,l=>a(l))}}const r=gE("auth");return r&&v2(n,`http://${r}`),n}function $x(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}c2({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=r=>{const s=ln("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",$x().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Gx("Browser");var Oy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wi,rT;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(A,p){function T(){}T.prototype=p.prototype,A.D=p.prototype,A.prototype=new T,A.prototype.constructor=A,A.C=function(w,I,C){for(var R=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)R[pt-2]=arguments[pt];return p.prototype[I].apply(w,R)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(A,p,T){T||(T=0);var w=Array(16);if(typeof p=="string")for(var I=0;16>I;++I)w[I]=p.charCodeAt(T++)|p.charCodeAt(T++)<<8|p.charCodeAt(T++)<<16|p.charCodeAt(T++)<<24;else for(I=0;16>I;++I)w[I]=p[T++]|p[T++]<<8|p[T++]<<16|p[T++]<<24;p=A.g[0],T=A.g[1],I=A.g[2];var C=A.g[3],R=p+(C^T&(I^C))+w[0]+3614090360&4294967295;p=T+(R<<7&4294967295|R>>>25),R=C+(I^p&(T^I))+w[1]+3905402710&4294967295,C=p+(R<<12&4294967295|R>>>20),R=I+(T^C&(p^T))+w[2]+606105819&4294967295,I=C+(R<<17&4294967295|R>>>15),R=T+(p^I&(C^p))+w[3]+3250441966&4294967295,T=I+(R<<22&4294967295|R>>>10),R=p+(C^T&(I^C))+w[4]+4118548399&4294967295,p=T+(R<<7&4294967295|R>>>25),R=C+(I^p&(T^I))+w[5]+1200080426&4294967295,C=p+(R<<12&4294967295|R>>>20),R=I+(T^C&(p^T))+w[6]+2821735955&4294967295,I=C+(R<<17&4294967295|R>>>15),R=T+(p^I&(C^p))+w[7]+4249261313&4294967295,T=I+(R<<22&4294967295|R>>>10),R=p+(C^T&(I^C))+w[8]+1770035416&4294967295,p=T+(R<<7&4294967295|R>>>25),R=C+(I^p&(T^I))+w[9]+2336552879&4294967295,C=p+(R<<12&4294967295|R>>>20),R=I+(T^C&(p^T))+w[10]+4294925233&4294967295,I=C+(R<<17&4294967295|R>>>15),R=T+(p^I&(C^p))+w[11]+2304563134&4294967295,T=I+(R<<22&4294967295|R>>>10),R=p+(C^T&(I^C))+w[12]+1804603682&4294967295,p=T+(R<<7&4294967295|R>>>25),R=C+(I^p&(T^I))+w[13]+4254626195&4294967295,C=p+(R<<12&4294967295|R>>>20),R=I+(T^C&(p^T))+w[14]+2792965006&4294967295,I=C+(R<<17&4294967295|R>>>15),R=T+(p^I&(C^p))+w[15]+1236535329&4294967295,T=I+(R<<22&4294967295|R>>>10),R=p+(I^C&(T^I))+w[1]+4129170786&4294967295,p=T+(R<<5&4294967295|R>>>27),R=C+(T^I&(p^T))+w[6]+3225465664&4294967295,C=p+(R<<9&4294967295|R>>>23),R=I+(p^T&(C^p))+w[11]+643717713&4294967295,I=C+(R<<14&4294967295|R>>>18),R=T+(C^p&(I^C))+w[0]+3921069994&4294967295,T=I+(R<<20&4294967295|R>>>12),R=p+(I^C&(T^I))+w[5]+3593408605&4294967295,p=T+(R<<5&4294967295|R>>>27),R=C+(T^I&(p^T))+w[10]+38016083&4294967295,C=p+(R<<9&4294967295|R>>>23),R=I+(p^T&(C^p))+w[15]+3634488961&4294967295,I=C+(R<<14&4294967295|R>>>18),R=T+(C^p&(I^C))+w[4]+3889429448&4294967295,T=I+(R<<20&4294967295|R>>>12),R=p+(I^C&(T^I))+w[9]+568446438&4294967295,p=T+(R<<5&4294967295|R>>>27),R=C+(T^I&(p^T))+w[14]+3275163606&4294967295,C=p+(R<<9&4294967295|R>>>23),R=I+(p^T&(C^p))+w[3]+4107603335&4294967295,I=C+(R<<14&4294967295|R>>>18),R=T+(C^p&(I^C))+w[8]+1163531501&4294967295,T=I+(R<<20&4294967295|R>>>12),R=p+(I^C&(T^I))+w[13]+2850285829&4294967295,p=T+(R<<5&4294967295|R>>>27),R=C+(T^I&(p^T))+w[2]+4243563512&4294967295,C=p+(R<<9&4294967295|R>>>23),R=I+(p^T&(C^p))+w[7]+1735328473&4294967295,I=C+(R<<14&4294967295|R>>>18),R=T+(C^p&(I^C))+w[12]+2368359562&4294967295,T=I+(R<<20&4294967295|R>>>12),R=p+(T^I^C)+w[5]+4294588738&4294967295,p=T+(R<<4&4294967295|R>>>28),R=C+(p^T^I)+w[8]+2272392833&4294967295,C=p+(R<<11&4294967295|R>>>21),R=I+(C^p^T)+w[11]+1839030562&4294967295,I=C+(R<<16&4294967295|R>>>16),R=T+(I^C^p)+w[14]+4259657740&4294967295,T=I+(R<<23&4294967295|R>>>9),R=p+(T^I^C)+w[1]+2763975236&4294967295,p=T+(R<<4&4294967295|R>>>28),R=C+(p^T^I)+w[4]+1272893353&4294967295,C=p+(R<<11&4294967295|R>>>21),R=I+(C^p^T)+w[7]+4139469664&4294967295,I=C+(R<<16&4294967295|R>>>16),R=T+(I^C^p)+w[10]+3200236656&4294967295,T=I+(R<<23&4294967295|R>>>9),R=p+(T^I^C)+w[13]+681279174&4294967295,p=T+(R<<4&4294967295|R>>>28),R=C+(p^T^I)+w[0]+3936430074&4294967295,C=p+(R<<11&4294967295|R>>>21),R=I+(C^p^T)+w[3]+3572445317&4294967295,I=C+(R<<16&4294967295|R>>>16),R=T+(I^C^p)+w[6]+76029189&4294967295,T=I+(R<<23&4294967295|R>>>9),R=p+(T^I^C)+w[9]+3654602809&4294967295,p=T+(R<<4&4294967295|R>>>28),R=C+(p^T^I)+w[12]+3873151461&4294967295,C=p+(R<<11&4294967295|R>>>21),R=I+(C^p^T)+w[15]+530742520&4294967295,I=C+(R<<16&4294967295|R>>>16),R=T+(I^C^p)+w[2]+3299628645&4294967295,T=I+(R<<23&4294967295|R>>>9),R=p+(I^(T|~C))+w[0]+4096336452&4294967295,p=T+(R<<6&4294967295|R>>>26),R=C+(T^(p|~I))+w[7]+1126891415&4294967295,C=p+(R<<10&4294967295|R>>>22),R=I+(p^(C|~T))+w[14]+2878612391&4294967295,I=C+(R<<15&4294967295|R>>>17),R=T+(C^(I|~p))+w[5]+4237533241&4294967295,T=I+(R<<21&4294967295|R>>>11),R=p+(I^(T|~C))+w[12]+1700485571&4294967295,p=T+(R<<6&4294967295|R>>>26),R=C+(T^(p|~I))+w[3]+2399980690&4294967295,C=p+(R<<10&4294967295|R>>>22),R=I+(p^(C|~T))+w[10]+4293915773&4294967295,I=C+(R<<15&4294967295|R>>>17),R=T+(C^(I|~p))+w[1]+2240044497&4294967295,T=I+(R<<21&4294967295|R>>>11),R=p+(I^(T|~C))+w[8]+1873313359&4294967295,p=T+(R<<6&4294967295|R>>>26),R=C+(T^(p|~I))+w[15]+4264355552&4294967295,C=p+(R<<10&4294967295|R>>>22),R=I+(p^(C|~T))+w[6]+2734768916&4294967295,I=C+(R<<15&4294967295|R>>>17),R=T+(C^(I|~p))+w[13]+1309151649&4294967295,T=I+(R<<21&4294967295|R>>>11),R=p+(I^(T|~C))+w[4]+4149444226&4294967295,p=T+(R<<6&4294967295|R>>>26),R=C+(T^(p|~I))+w[11]+3174756917&4294967295,C=p+(R<<10&4294967295|R>>>22),R=I+(p^(C|~T))+w[2]+718787259&4294967295,I=C+(R<<15&4294967295|R>>>17),R=T+(C^(I|~p))+w[9]+3951481745&4294967295,A.g[0]=A.g[0]+p&4294967295,A.g[1]=A.g[1]+(I+(R<<21&4294967295|R>>>11))&4294967295,A.g[2]=A.g[2]+I&4294967295,A.g[3]=A.g[3]+C&4294967295}i.prototype.u=function(A,p){p===void 0&&(p=A.length);for(var T=p-this.blockSize,w=this.B,I=this.h,C=0;C<p;){if(I==0)for(;C<=T;)r(this,A,C),C+=this.blockSize;if(typeof A=="string"){for(;C<p;)if(w[I++]=A.charCodeAt(C++),I==this.blockSize){r(this,w),I=0;break}}else for(;C<p;)if(w[I++]=A[C++],I==this.blockSize){r(this,w),I=0;break}}this.h=I,this.o+=p},i.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var p=1;p<A.length-8;++p)A[p]=0;var T=8*this.o;for(p=A.length-8;p<A.length;++p)A[p]=T&255,T/=256;for(this.u(A),A=Array(16),p=T=0;4>p;++p)for(var w=0;32>w;w+=8)A[T++]=this.g[p]>>>w&255;return A};function s(A,p){var T=l;return Object.prototype.hasOwnProperty.call(T,A)?T[A]:T[A]=p(A)}function a(A,p){this.h=p;for(var T=[],w=!0,I=A.length-1;0<=I;I--){var C=A[I]|0;w&&C==p||(T[I]=C,w=!1)}this.g=T}var l={};function u(A){return-128<=A&&128>A?s(A,function(p){return new a([p|0],0>p?-1:0)}):new a([A|0],0>A?-1:0)}function h(A){if(isNaN(A)||!isFinite(A))return _;if(0>A)return V(h(-A));for(var p=[],T=1,w=0;A>=T;w++)p[w]=A/T|0,T*=4294967296;return new a(p,0)}function d(A,p){if(A.length==0)throw Error("number format error: empty string");if(p=p||10,2>p||36<p)throw Error("radix out of range: "+p);if(A.charAt(0)=="-")return V(d(A.substring(1),p));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=h(Math.pow(p,8)),w=_,I=0;I<A.length;I+=8){var C=Math.min(8,A.length-I),R=parseInt(A.substring(I,I+C),p);8>C?(C=h(Math.pow(p,C)),w=w.j(C).add(h(R))):(w=w.j(T),w=w.add(h(R)))}return w}var _=u(0),m=u(1),E=u(16777216);e=a.prototype,e.m=function(){if(O(this))return-V(this).m();for(var A=0,p=1,T=0;T<this.g.length;T++){var w=this.i(T);A+=(0<=w?w:4294967296+w)*p,p*=4294967296}return A},e.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(D(this))return"0";if(O(this))return"-"+V(this).toString(A);for(var p=h(Math.pow(A,6)),T=this,w="";;){var I=x(T,p).g;T=b(T,I.j(p));var C=((0<T.g.length?T.g[0]:T.h)>>>0).toString(A);if(T=I,D(T))return C+w;for(;6>C.length;)C="0"+C;w=C+w}},e.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function D(A){if(A.h!=0)return!1;for(var p=0;p<A.g.length;p++)if(A.g[p]!=0)return!1;return!0}function O(A){return A.h==-1}e.l=function(A){return A=b(this,A),O(A)?-1:D(A)?0:1};function V(A){for(var p=A.g.length,T=[],w=0;w<p;w++)T[w]=~A.g[w];return new a(T,~A.h).add(m)}e.abs=function(){return O(this)?V(this):this},e.add=function(A){for(var p=Math.max(this.g.length,A.g.length),T=[],w=0,I=0;I<=p;I++){var C=w+(this.i(I)&65535)+(A.i(I)&65535),R=(C>>>16)+(this.i(I)>>>16)+(A.i(I)>>>16);w=R>>>16,C&=65535,R&=65535,T[I]=R<<16|C}return new a(T,T[T.length-1]&-2147483648?-1:0)};function b(A,p){return A.add(V(p))}e.j=function(A){if(D(this)||D(A))return _;if(O(this))return O(A)?V(this).j(V(A)):V(V(this).j(A));if(O(A))return V(this.j(V(A)));if(0>this.l(E)&&0>A.l(E))return h(this.m()*A.m());for(var p=this.g.length+A.g.length,T=[],w=0;w<2*p;w++)T[w]=0;for(w=0;w<this.g.length;w++)for(var I=0;I<A.g.length;I++){var C=this.i(w)>>>16,R=this.i(w)&65535,pt=A.i(I)>>>16,Gt=A.i(I)&65535;T[2*w+2*I]+=R*Gt,v(T,2*w+2*I),T[2*w+2*I+1]+=C*Gt,v(T,2*w+2*I+1),T[2*w+2*I+1]+=R*pt,v(T,2*w+2*I+1),T[2*w+2*I+2]+=C*pt,v(T,2*w+2*I+2)}for(w=0;w<p;w++)T[w]=T[2*w+1]<<16|T[2*w];for(w=p;w<2*p;w++)T[w]=0;return new a(T,0)};function v(A,p){for(;(A[p]&65535)!=A[p];)A[p+1]+=A[p]>>>16,A[p]&=65535,p++}function S(A,p){this.g=A,this.h=p}function x(A,p){if(D(p))throw Error("division by zero");if(D(A))return new S(_,_);if(O(A))return p=x(V(A),p),new S(V(p.g),V(p.h));if(O(p))return p=x(A,V(p)),new S(V(p.g),p.h);if(30<A.g.length){if(O(A)||O(p))throw Error("slowDivide_ only works with positive integers.");for(var T=m,w=p;0>=w.l(A);)T=k(T),w=k(w);var I=j(T,1),C=j(w,1);for(w=j(w,2),T=j(T,2);!D(w);){var R=C.add(w);0>=R.l(A)&&(I=I.add(T),C=R),w=j(w,1),T=j(T,1)}return p=b(A,I.j(p)),new S(I,p)}for(I=_;0<=A.l(p);){for(T=Math.max(1,Math.floor(A.m()/p.m())),w=Math.ceil(Math.log(T)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),C=h(T),R=C.j(p);O(R)||0<R.l(A);)T-=w,C=h(T),R=C.j(p);D(C)&&(C=m),I=I.add(C),A=b(A,R)}return new S(I,A)}e.A=function(A){return x(this,A).h},e.and=function(A){for(var p=Math.max(this.g.length,A.g.length),T=[],w=0;w<p;w++)T[w]=this.i(w)&A.i(w);return new a(T,this.h&A.h)},e.or=function(A){for(var p=Math.max(this.g.length,A.g.length),T=[],w=0;w<p;w++)T[w]=this.i(w)|A.i(w);return new a(T,this.h|A.h)},e.xor=function(A){for(var p=Math.max(this.g.length,A.g.length),T=[],w=0;w<p;w++)T[w]=this.i(w)^A.i(w);return new a(T,this.h^A.h)};function k(A){for(var p=A.g.length+1,T=[],w=0;w<p;w++)T[w]=A.i(w)<<1|A.i(w-1)>>>31;return new a(T,A.h)}function j(A,p){var T=p>>5;p%=32;for(var w=A.g.length-T,I=[],C=0;C<w;C++)I[C]=0<p?A.i(C+T)>>>p|A.i(C+T+1)<<32-p:A.i(C+T);return new a(I,A.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,rT=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=d,Wi=a}).apply(typeof Oy<"u"?Oy:typeof self<"u"?self:typeof window<"u"?window:{});var hl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sT,oa,aT,Ol,If,oT,lT,uT;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,c,f){return o==Array.prototype||o==Object.prototype||(o[c]=f.value),o};function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof hl=="object"&&hl];for(var c=0;c<o.length;++c){var f=o[c];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=n(this);function r(o,c){if(c)t:{var f=i;o=o.split(".");for(var y=0;y<o.length-1;y++){var N=o[y];if(!(N in f))break t;f=f[N]}o=o[o.length-1],y=f[o],c=c(y),c!=y&&c!=null&&t(f,o,{configurable:!0,writable:!0,value:c})}}function s(o,c){o instanceof String&&(o+="");var f=0,y=!1,N={next:function(){if(!y&&f<o.length){var M=f++;return{value:c(M,o[M]),done:!1}}return y=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}r("Array.prototype.values",function(o){return o||function(){return s(this,function(c,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(o){var c=typeof o;return c=c!="object"?c:o?Array.isArray(o)?"array":c:"null",c=="array"||c=="object"&&typeof o.length=="number"}function h(o){var c=typeof o;return c=="object"&&o!=null||c=="function"}function d(o,c,f){return o.call.apply(o.bind,arguments)}function _(o,c,f){if(!o)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,y),o.apply(c,N)}}return function(){return o.apply(c,arguments)}}function m(o,c,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:_,m.apply(null,arguments)}function E(o,c){var f=Array.prototype.slice.call(arguments,1);return function(){var y=f.slice();return y.push.apply(y,arguments),o.apply(this,y)}}function D(o,c){function f(){}f.prototype=c.prototype,o.aa=c.prototype,o.prototype=new f,o.prototype.constructor=o,o.Qb=function(y,N,M){for(var z=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)z[yt-2]=arguments[yt];return c.prototype[N].apply(y,z)}}function O(o){const c=o.length;if(0<c){const f=Array(c);for(let y=0;y<c;y++)f[y]=o[y];return f}return[]}function V(o,c){for(let f=1;f<arguments.length;f++){const y=arguments[f];if(u(y)){const N=o.length||0,M=y.length||0;o.length=N+M;for(let z=0;z<M;z++)o[N+z]=y[z]}else o.push(y)}}class b{constructor(c,f){this.i=c,this.j=f,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function v(o){return/^[\s\xa0]*$/.test(o)}function S(){var o=l.navigator;return o&&(o=o.userAgent)?o:""}function x(o){return x[" "](o),o}x[" "]=function(){};var k=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function j(o,c,f){for(const y in o)c.call(f,o[y],y,o)}function A(o,c){for(const f in o)c.call(void 0,o[f],f,o)}function p(o){const c={};for(const f in o)c[f]=o[f];return c}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(o,c){let f,y;for(let N=1;N<arguments.length;N++){y=arguments[N];for(f in y)o[f]=y[f];for(let M=0;M<T.length;M++)f=T[M],Object.prototype.hasOwnProperty.call(y,f)&&(o[f]=y[f])}}function I(o){var c=1;o=o.split(":");const f=[];for(;0<c&&o.length;)f.push(o.shift()),c--;return o.length&&f.push(o.join(":")),f}function C(o){l.setTimeout(()=>{throw o},0)}function R(){var o=Et;let c=null;return o.g&&(c=o.g,o.g=o.g.next,o.g||(o.h=null),c.next=null),c}class pt{constructor(){this.h=this.g=null}add(c,f){const y=Gt.get();y.set(c,f),this.h?this.h.next=y:this.g=y,this.h=y}}var Gt=new b(()=>new B,o=>o.reset());class B{constructor(){this.next=this.g=this.h=null}set(c,f){this.h=c,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let K,X=!1,Et=new pt,Ot=()=>{const o=l.Promise.resolve(void 0);K=()=>{o.then(pr)}};var pr=()=>{for(var o;o=R();){try{o.h.call(o.g)}catch(f){C(f)}var c=Gt;c.j(o),100>c.h&&(c.h++,o.next=c.g,c.g=o)}X=!1};function Se(){this.s=this.s,this.C=this.C}Se.prototype.s=!1,Se.prototype.ma=function(){this.s||(this.s=!0,this.N())},Se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Pt(o,c){this.type=o,this.g=this.target=c,this.defaultPrevented=!1}Pt.prototype.h=function(){this.defaultPrevented=!0};var pn=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,c=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const f=()=>{};l.addEventListener("test",f,c),l.removeEventListener("test",f,c)}catch{}return o}();function Je(o,c){if(Pt.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var f=this.type=o.type,y=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=c,c=o.relatedTarget){if(k){t:{try{x(c.nodeName);var N=!0;break t}catch{}N=!1}N||(c=null)}}else f=="mouseover"?c=o.fromElement:f=="mouseout"&&(c=o.toElement);this.relatedTarget=c,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:xb[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Je.aa.h.call(this)}}D(Je,Pt);var xb={2:"touch",3:"pen",4:"mouse"};Je.prototype.h=function(){Je.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var No="closure_listenable_"+(1e6*Math.random()|0),Ib=0;function Cb(o,c,f,y,N){this.listener=o,this.proxy=null,this.src=c,this.type=f,this.capture=!!y,this.ha=N,this.key=++Ib,this.da=this.fa=!1}function Do(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Oo(o){this.src=o,this.g={},this.h=0}Oo.prototype.add=function(o,c,f,y,N){var M=o.toString();o=this.g[M],o||(o=this.g[M]=[],this.h++);var z=uc(o,c,y,N);return-1<z?(c=o[z],f||(c.fa=!1)):(c=new Cb(c,this.src,M,!!y,N),c.fa=f,o.push(c)),c};function lc(o,c){var f=c.type;if(f in o.g){var y=o.g[f],N=Array.prototype.indexOf.call(y,c,void 0),M;(M=0<=N)&&Array.prototype.splice.call(y,N,1),M&&(Do(c),o.g[f].length==0&&(delete o.g[f],o.h--))}}function uc(o,c,f,y){for(var N=0;N<o.length;++N){var M=o[N];if(!M.da&&M.listener==c&&M.capture==!!f&&M.ha==y)return N}return-1}var cc="closure_lm_"+(1e6*Math.random()|0),hc={};function Mm(o,c,f,y,N){if(Array.isArray(c)){for(var M=0;M<c.length;M++)Mm(o,c[M],f,y,N);return null}return f=Pm(f),o&&o[No]?o.K(c,f,h(y)?!!y.capture:!1,N):Nb(o,c,f,!1,y,N)}function Nb(o,c,f,y,N,M){if(!c)throw Error("Invalid event type");var z=h(N)?!!N.capture:!!N,yt=dc(o);if(yt||(o[cc]=yt=new Oo(o)),f=yt.add(c,f,y,z,M),f.proxy)return f;if(y=Db(),f.proxy=y,y.src=o,y.listener=f,o.addEventListener)pn||(N=z),N===void 0&&(N=!1),o.addEventListener(c.toString(),y,N);else if(o.attachEvent)o.attachEvent(km(c.toString()),y);else if(o.addListener&&o.removeListener)o.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return f}function Db(){function o(f){return c.call(o.src,o.listener,f)}const c=Ob;return o}function Vm(o,c,f,y,N){if(Array.isArray(c))for(var M=0;M<c.length;M++)Vm(o,c[M],f,y,N);else y=h(y)?!!y.capture:!!y,f=Pm(f),o&&o[No]?(o=o.i,c=String(c).toString(),c in o.g&&(M=o.g[c],f=uc(M,f,y,N),-1<f&&(Do(M[f]),Array.prototype.splice.call(M,f,1),M.length==0&&(delete o.g[c],o.h--)))):o&&(o=dc(o))&&(c=o.g[c.toString()],o=-1,c&&(o=uc(c,f,y,N)),(f=-1<o?c[o]:null)&&fc(f))}function fc(o){if(typeof o!="number"&&o&&!o.da){var c=o.src;if(c&&c[No])lc(c.i,o);else{var f=o.type,y=o.proxy;c.removeEventListener?c.removeEventListener(f,y,o.capture):c.detachEvent?c.detachEvent(km(f),y):c.addListener&&c.removeListener&&c.removeListener(y),(f=dc(c))?(lc(f,o),f.h==0&&(f.src=null,c[cc]=null)):Do(o)}}}function km(o){return o in hc?hc[o]:hc[o]="on"+o}function Ob(o,c){if(o.da)o=!0;else{c=new Je(c,this);var f=o.listener,y=o.ha||o.src;o.fa&&fc(o),o=f.call(y,c)}return o}function dc(o){return o=o[cc],o instanceof Oo?o:null}var mc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pm(o){return typeof o=="function"?o:(o[mc]||(o[mc]=function(c){return o.handleEvent(c)}),o[mc])}function se(){Se.call(this),this.i=new Oo(this),this.M=this,this.F=null}D(se,Se),se.prototype[No]=!0,se.prototype.removeEventListener=function(o,c,f,y){Vm(this,o,c,f,y)};function me(o,c){var f,y=o.F;if(y)for(f=[];y;y=y.F)f.push(y);if(o=o.M,y=c.type||c,typeof c=="string")c=new Pt(c,o);else if(c instanceof Pt)c.target=c.target||o;else{var N=c;c=new Pt(y,o),w(c,N)}if(N=!0,f)for(var M=f.length-1;0<=M;M--){var z=c.g=f[M];N=Mo(z,y,!0,c)&&N}if(z=c.g=o,N=Mo(z,y,!0,c)&&N,N=Mo(z,y,!1,c)&&N,f)for(M=0;M<f.length;M++)z=c.g=f[M],N=Mo(z,y,!1,c)&&N}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var o=this.i,c;for(c in o.g){for(var f=o.g[c],y=0;y<f.length;y++)Do(f[y]);delete o.g[c],o.h--}}this.F=null},se.prototype.K=function(o,c,f,y){return this.i.add(String(o),c,!1,f,y)},se.prototype.L=function(o,c,f,y){return this.i.add(String(o),c,!0,f,y)};function Mo(o,c,f,y){if(c=o.i.g[String(c)],!c)return!0;c=c.concat();for(var N=!0,M=0;M<c.length;++M){var z=c[M];if(z&&!z.da&&z.capture==f){var yt=z.listener,Zt=z.ha||z.src;z.fa&&lc(o.i,z),N=yt.call(Zt,y)!==!1&&N}}return N&&!y.defaultPrevented}function Um(o,c,f){if(typeof o=="function")f&&(o=m(o,f));else if(o&&typeof o.handleEvent=="function")o=m(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:l.setTimeout(o,c||0)}function Lm(o){o.g=Um(()=>{o.g=null,o.i&&(o.i=!1,Lm(o))},o.l);const c=o.h;o.h=null,o.m.apply(null,c)}class Mb extends Se{constructor(c,f){super(),this.m=c,this.l=f,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:Lm(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ms(o){Se.call(this),this.h=o,this.g={}}D(Ms,Se);var jm=[];function zm(o){j(o.g,function(c,f){this.g.hasOwnProperty(f)&&fc(c)},o),o.g={}}Ms.prototype.N=function(){Ms.aa.N.call(this),zm(this)},Ms.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gc=l.JSON.stringify,Vb=l.JSON.parse,kb=class{stringify(o){return l.JSON.stringify(o,void 0)}parse(o){return l.JSON.parse(o,void 0)}};function pc(){}pc.prototype.h=null;function Bm(o){return o.h||(o.h=o.i())}function qm(){}var Vs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yc(){Pt.call(this,"d")}D(yc,Pt);function _c(){Pt.call(this,"c")}D(_c,Pt);var ki={},Hm=null;function Vo(){return Hm=Hm||new se}ki.La="serverreachability";function Fm(o){Pt.call(this,ki.La,o)}D(Fm,Pt);function ks(o){const c=Vo();me(c,new Fm(c))}ki.STAT_EVENT="statevent";function Gm(o,c){Pt.call(this,ki.STAT_EVENT,o),this.stat=c}D(Gm,Pt);function ge(o){const c=Vo();me(c,new Gm(c,o))}ki.Ma="timingevent";function Ym(o,c){Pt.call(this,ki.Ma,o),this.size=c}D(Ym,Pt);function Ps(o,c){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){o()},c)}function Us(){this.g=!0}Us.prototype.xa=function(){this.g=!1};function Pb(o,c,f,y,N,M){o.info(function(){if(o.g)if(M)for(var z="",yt=M.split("&"),Zt=0;Zt<yt.length;Zt++){var ot=yt[Zt].split("=");if(1<ot.length){var ae=ot[0];ot=ot[1];var oe=ae.split("_");z=2<=oe.length&&oe[1]=="type"?z+(ae+"="+ot+"&"):z+(ae+"=redacted&")}}else z=null;else z=M;return"XMLHTTP REQ ("+y+") [attempt "+N+"]: "+c+`
`+f+`
`+z})}function Ub(o,c,f,y,N,M,z){o.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+N+"]: "+c+`
`+f+`
`+M+" "+z})}function yr(o,c,f,y){o.info(function(){return"XMLHTTP TEXT ("+c+"): "+jb(o,f)+(y?" "+y:"")})}function Lb(o,c){o.info(function(){return"TIMEOUT: "+c})}Us.prototype.info=function(){};function jb(o,c){if(!o.g)return c;if(!c)return null;try{var f=JSON.parse(c);if(f){for(o=0;o<f.length;o++)if(Array.isArray(f[o])){var y=f[o];if(!(2>y.length)){var N=y[1];if(Array.isArray(N)&&!(1>N.length)){var M=N[0];if(M!="noop"&&M!="stop"&&M!="close")for(var z=1;z<N.length;z++)N[z]=""}}}}return gc(f)}catch{return c}}var ko={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Km={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vc;function Po(){}D(Po,pc),Po.prototype.g=function(){return new XMLHttpRequest},Po.prototype.i=function(){return{}},vc=new Po;function Gn(o,c,f,y){this.j=o,this.i=c,this.l=f,this.R=y||1,this.U=new Ms(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Qm}function Qm(){this.i=null,this.g="",this.h=!1}var Xm={},Ec={};function Tc(o,c,f){o.L=1,o.v=zo(yn(c)),o.m=f,o.P=!0,$m(o,null)}function $m(o,c){o.F=Date.now(),Uo(o),o.A=yn(o.v);var f=o.A,y=o.R;Array.isArray(y)||(y=[String(y)]),cg(f.i,"t",y),o.C=0,f=o.j.J,o.h=new Qm,o.g=Ig(o.j,f?c:null,!o.m),0<o.O&&(o.M=new Mb(m(o.Y,o,o.g),o.O)),c=o.U,f=o.g,y=o.ca;var N="readystatechange";Array.isArray(N)||(N&&(jm[0]=N.toString()),N=jm);for(var M=0;M<N.length;M++){var z=Mm(f,N[M],y||c.handleEvent,!1,c.h||c);if(!z)break;c.g[z.key]=z}c=o.H?p(o.H):{},o.m?(o.u||(o.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,c)):(o.u="GET",o.g.ea(o.A,o.u,null,c)),ks(),Pb(o.i,o.u,o.A,o.l,o.R,o.m)}Gn.prototype.ca=function(o){o=o.target;const c=this.M;c&&_n(o)==3?c.j():this.Y(o)},Gn.prototype.Y=function(o){try{if(o==this.g)t:{const oe=_n(this.g);var c=this.g.Ba();const Er=this.g.Z();if(!(3>oe)&&(oe!=3||this.g&&(this.h.h||this.g.oa()||yg(this.g)))){this.J||oe!=4||c==7||(c==8||0>=Er?ks(3):ks(2)),bc(this);var f=this.g.Z();this.X=f;e:if(Zm(this)){var y=yg(this.g);o="";var N=y.length,M=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pi(this),Ls(this);var z="";break e}this.h.i=new l.TextDecoder}for(c=0;c<N;c++)this.h.h=!0,o+=this.h.i.decode(y[c],{stream:!(M&&c==N-1)});y.length=0,this.h.g+=o,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=f==200,Ub(this.i,this.u,this.A,this.l,this.R,oe,f),this.o){if(this.T&&!this.K){e:{if(this.g){var yt,Zt=this.g;if((yt=Zt.g?Zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(yt)){var ot=yt;break e}}ot=null}if(f=ot)yr(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ac(this,f);else{this.o=!1,this.s=3,ge(12),Pi(this),Ls(this);break t}}if(this.P){f=!0;let Ke;for(;!this.J&&this.C<z.length;)if(Ke=zb(this,z),Ke==Ec){oe==4&&(this.s=4,ge(14),f=!1),yr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ke==Xm){this.s=4,ge(15),yr(this.i,this.l,z,"[Invalid Chunk]"),f=!1;break}else yr(this.i,this.l,Ke,null),Ac(this,Ke);if(Zm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),oe!=4||z.length!=0||this.h.h||(this.s=1,ge(16),f=!1),this.o=this.o&&f,!f)yr(this.i,this.l,z,"[Invalid Chunked Response]"),Pi(this),Ls(this);else if(0<z.length&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.ba&&!ae.M&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),Cc(ae),ae.M=!0,ge(11))}}else yr(this.i,this.l,z,null),Ac(this,z);oe==4&&Pi(this),this.o&&!this.J&&(oe==4?Sg(this.j,this):(this.o=!1,Uo(this)))}else iA(this.g),f==400&&0<z.indexOf("Unknown SID")?(this.s=3,ge(12)):(this.s=0,ge(13)),Pi(this),Ls(this)}}}catch{}finally{}};function Zm(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function zb(o,c){var f=o.C,y=c.indexOf(`
`,f);return y==-1?Ec:(f=Number(c.substring(f,y)),isNaN(f)?Xm:(y+=1,y+f>c.length?Ec:(c=c.slice(y,y+f),o.C=y+f,c)))}Gn.prototype.cancel=function(){this.J=!0,Pi(this)};function Uo(o){o.S=Date.now()+o.I,Wm(o,o.I)}function Wm(o,c){if(o.B!=null)throw Error("WatchDog timer not null");o.B=Ps(m(o.ba,o),c)}function bc(o){o.B&&(l.clearTimeout(o.B),o.B=null)}Gn.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(Lb(this.i,this.A),this.L!=2&&(ks(),ge(17)),Pi(this),this.s=2,Ls(this)):Wm(this,this.S-o)};function Ls(o){o.j.G==0||o.J||Sg(o.j,o)}function Pi(o){bc(o);var c=o.M;c&&typeof c.ma=="function"&&c.ma(),o.M=null,zm(o.U),o.g&&(c=o.g,o.g=null,c.abort(),c.ma())}function Ac(o,c){try{var f=o.j;if(f.G!=0&&(f.g==o||Sc(f.h,o))){if(!o.K&&Sc(f.h,o)&&f.G==3){try{var y=f.Da.g.parse(c)}catch{y=null}if(Array.isArray(y)&&y.length==3){var N=y;if(N[0]==0){t:if(!f.u){if(f.g)if(f.g.F+3e3<o.F)Yo(f),Fo(f);else break t;Ic(f),ge(18)}}else f.za=N[1],0<f.za-f.T&&37500>N[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ps(m(f.Za,f),6e3));if(1>=eg(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Li(f,11)}else if((o.K||f.g==o)&&Yo(f),!v(c))for(N=f.Da.g.parse(c),c=0;c<N.length;c++){let ot=N[c];if(f.T=ot[0],ot=ot[1],f.G==2)if(ot[0]=="c"){f.K=ot[1],f.ia=ot[2];const ae=ot[3];ae!=null&&(f.la=ae,f.j.info("VER="+f.la));const oe=ot[4];oe!=null&&(f.Aa=oe,f.j.info("SVER="+f.Aa));const Er=ot[5];Er!=null&&typeof Er=="number"&&0<Er&&(y=1.5*Er,f.L=y,f.j.info("backChannelRequestTimeoutMs_="+y)),y=f;const Ke=o.g;if(Ke){const Qo=Ke.g?Ke.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qo){var M=y.h;M.g||Qo.indexOf("spdy")==-1&&Qo.indexOf("quic")==-1&&Qo.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(wc(M,M.h),M.h=null))}if(y.D){const Nc=Ke.g?Ke.g.getResponseHeader("X-HTTP-Session-Id"):null;Nc&&(y.ya=Nc,Tt(y.I,y.D,Nc))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-o.F,f.j.info("Handshake RTT: "+f.R+"ms")),y=f;var z=o;if(y.qa=xg(y,y.J?y.ia:null,y.W),z.K){ng(y.h,z);var yt=z,Zt=y.L;Zt&&(yt.I=Zt),yt.B&&(bc(yt),Uo(yt)),y.g=z}else bg(y);0<f.i.length&&Go(f)}else ot[0]!="stop"&&ot[0]!="close"||Li(f,7);else f.G==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?Li(f,7):xc(f):ot[0]!="noop"&&f.l&&f.l.ta(ot),f.v=0)}}ks(4)}catch{}}var Bb=class{constructor(o,c){this.g=o,this.map=c}};function Jm(o){this.l=o||10,l.PerformanceNavigationTiming?(o=l.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function tg(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function eg(o){return o.h?1:o.g?o.g.size:0}function Sc(o,c){return o.h?o.h==c:o.g?o.g.has(c):!1}function wc(o,c){o.g?o.g.add(c):o.h=c}function ng(o,c){o.h&&o.h==c?o.h=null:o.g&&o.g.has(c)&&o.g.delete(c)}Jm.prototype.cancel=function(){if(this.i=ig(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function ig(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let c=o.i;for(const f of o.g.values())c=c.concat(f.D);return c}return O(o.i)}function qb(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(u(o)){for(var c=[],f=o.length,y=0;y<f;y++)c.push(o[y]);return c}c=[],f=0;for(y in o)c[f++]=o[y];return c}function Hb(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(u(o)||typeof o=="string"){var c=[];o=o.length;for(var f=0;f<o;f++)c.push(f);return c}c=[],f=0;for(const y in o)c[f++]=y;return c}}}function rg(o,c){if(o.forEach&&typeof o.forEach=="function")o.forEach(c,void 0);else if(u(o)||typeof o=="string")Array.prototype.forEach.call(o,c,void 0);else for(var f=Hb(o),y=qb(o),N=y.length,M=0;M<N;M++)c.call(void 0,y[M],f&&f[M],o)}var sg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fb(o,c){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var y=o[f].indexOf("="),N=null;if(0<=y){var M=o[f].substring(0,y);N=o[f].substring(y+1)}else M=o[f];c(M,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function Ui(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof Ui){this.h=o.h,Lo(this,o.j),this.o=o.o,this.g=o.g,jo(this,o.s),this.l=o.l;var c=o.i,f=new Bs;f.i=c.i,c.g&&(f.g=new Map(c.g),f.h=c.h),ag(this,f),this.m=o.m}else o&&(c=String(o).match(sg))?(this.h=!1,Lo(this,c[1]||"",!0),this.o=js(c[2]||""),this.g=js(c[3]||"",!0),jo(this,c[4]),this.l=js(c[5]||"",!0),ag(this,c[6]||"",!0),this.m=js(c[7]||"")):(this.h=!1,this.i=new Bs(null,this.h))}Ui.prototype.toString=function(){var o=[],c=this.j;c&&o.push(zs(c,og,!0),":");var f=this.g;return(f||c=="file")&&(o.push("//"),(c=this.o)&&o.push(zs(c,og,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&o.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&o.push("/"),o.push(zs(f,f.charAt(0)=="/"?Kb:Yb,!0))),(f=this.i.toString())&&o.push("?",f),(f=this.m)&&o.push("#",zs(f,Xb)),o.join("")};function yn(o){return new Ui(o)}function Lo(o,c,f){o.j=f?js(c,!0):c,o.j&&(o.j=o.j.replace(/:$/,""))}function jo(o,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);o.s=c}else o.s=null}function ag(o,c,f){c instanceof Bs?(o.i=c,$b(o.i,o.h)):(f||(c=zs(c,Qb)),o.i=new Bs(c,o.h))}function Tt(o,c,f){o.i.set(c,f)}function zo(o){return Tt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function js(o,c){return o?c?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function zs(o,c,f){return typeof o=="string"?(o=encodeURI(o).replace(c,Gb),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Gb(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var og=/[#\/\?@]/g,Yb=/[#\?:]/g,Kb=/[#\?]/g,Qb=/[#\?@]/g,Xb=/#/g;function Bs(o,c){this.h=this.g=null,this.i=o||null,this.j=!!c}function Yn(o){o.g||(o.g=new Map,o.h=0,o.i&&Fb(o.i,function(c,f){o.add(decodeURIComponent(c.replace(/\+/g," ")),f)}))}e=Bs.prototype,e.add=function(o,c){Yn(this),this.i=null,o=_r(this,o);var f=this.g.get(o);return f||this.g.set(o,f=[]),f.push(c),this.h+=1,this};function lg(o,c){Yn(o),c=_r(o,c),o.g.has(c)&&(o.i=null,o.h-=o.g.get(c).length,o.g.delete(c))}function ug(o,c){return Yn(o),c=_r(o,c),o.g.has(c)}e.forEach=function(o,c){Yn(this),this.g.forEach(function(f,y){f.forEach(function(N){o.call(c,N,y,this)},this)},this)},e.na=function(){Yn(this);const o=Array.from(this.g.values()),c=Array.from(this.g.keys()),f=[];for(let y=0;y<c.length;y++){const N=o[y];for(let M=0;M<N.length;M++)f.push(c[y])}return f},e.V=function(o){Yn(this);let c=[];if(typeof o=="string")ug(this,o)&&(c=c.concat(this.g.get(_r(this,o))));else{o=Array.from(this.g.values());for(let f=0;f<o.length;f++)c=c.concat(o[f])}return c},e.set=function(o,c){return Yn(this),this.i=null,o=_r(this,o),ug(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[c]),this.h+=1,this},e.get=function(o,c){return o?(o=this.V(o),0<o.length?String(o[0]):c):c};function cg(o,c,f){lg(o,c),0<f.length&&(o.i=null,o.g.set(_r(o,c),O(f)),o.h+=f.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],c=Array.from(this.g.keys());for(var f=0;f<c.length;f++){var y=c[f];const M=encodeURIComponent(String(y)),z=this.V(y);for(y=0;y<z.length;y++){var N=M;z[y]!==""&&(N+="="+encodeURIComponent(String(z[y]))),o.push(N)}}return this.i=o.join("&")};function _r(o,c){return c=String(c),o.j&&(c=c.toLowerCase()),c}function $b(o,c){c&&!o.j&&(Yn(o),o.i=null,o.g.forEach(function(f,y){var N=y.toLowerCase();y!=N&&(lg(this,y),cg(this,N,f))},o)),o.j=c}function Zb(o,c){const f=new Us;if(l.Image){const y=new Image;y.onload=E(Kn,f,"TestLoadImage: loaded",!0,c,y),y.onerror=E(Kn,f,"TestLoadImage: error",!1,c,y),y.onabort=E(Kn,f,"TestLoadImage: abort",!1,c,y),y.ontimeout=E(Kn,f,"TestLoadImage: timeout",!1,c,y),l.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=o}else c(!1)}function Wb(o,c){const f=new Us,y=new AbortController,N=setTimeout(()=>{y.abort(),Kn(f,"TestPingServer: timeout",!1,c)},1e4);fetch(o,{signal:y.signal}).then(M=>{clearTimeout(N),M.ok?Kn(f,"TestPingServer: ok",!0,c):Kn(f,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(N),Kn(f,"TestPingServer: error",!1,c)})}function Kn(o,c,f,y,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),y(f)}catch{}}function Jb(){this.g=new kb}function tA(o,c,f){const y=f||"";try{rg(o,function(N,M){let z=N;h(N)&&(z=gc(N)),c.push(y+M+"="+encodeURIComponent(z))})}catch(N){throw c.push(y+"type="+encodeURIComponent("_badmap")),N}}function Bo(o){this.l=o.Ub||null,this.j=o.eb||!1}D(Bo,pc),Bo.prototype.g=function(){return new qo(this.l,this.j)},Bo.prototype.i=function(o){return function(){return o}}({});function qo(o,c){se.call(this),this.D=o,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(qo,se),e=qo.prototype,e.open=function(o,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=c,this.readyState=1,Hs(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(c.body=o),(this.D||l).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qs(this)),this.readyState=0},e.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Hs(this)),this.g&&(this.readyState=3,Hs(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hg(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function hg(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}e.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var c=o.value?o.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!o.done}))&&(this.response=this.responseText+=c)}o.done?qs(this):Hs(this),this.readyState==3&&hg(this)}},e.Ra=function(o){this.g&&(this.response=this.responseText=o,qs(this))},e.Qa=function(o){this.g&&(this.response=o,qs(this))},e.ga=function(){this.g&&qs(this)};function qs(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Hs(o)}e.setRequestHeader=function(o,c){this.u.append(o,c)},e.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],c=this.h.entries();for(var f=c.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=c.next();return o.join(`\r
`)};function Hs(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(qo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function fg(o){let c="";return j(o,function(f,y){c+=y,c+=":",c+=f,c+=`\r
`}),c}function Rc(o,c,f){t:{for(y in f){var y=!1;break t}y=!0}y||(f=fg(f),typeof o=="string"?f!=null&&encodeURIComponent(String(f)):Tt(o,c,f))}function It(o){se.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(It,se);var eA=/^https?$/i,nA=["POST","PUT"];e=It.prototype,e.Ha=function(o){this.J=o},e.ea=function(o,c,f,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);c=c?c.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vc.g(),this.v=this.o?Bm(this.o):Bm(vc),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(c,String(o),!0),this.B=!1}catch(M){dg(this,M);return}if(o=f||"",f=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var N in y)f.set(N,y[N]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const M of y.keys())f.set(M,y.get(M));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(f.keys()).find(M=>M.toLowerCase()=="content-type"),N=l.FormData&&o instanceof l.FormData,!(0<=Array.prototype.indexOf.call(nA,c,void 0))||y||N||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,z]of f)this.g.setRequestHeader(M,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{pg(this),this.u=!0,this.g.send(o),this.u=!1}catch(M){dg(this,M)}};function dg(o,c){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=c,o.m=5,mg(o),Ho(o)}function mg(o){o.A||(o.A=!0,me(o,"complete"),me(o,"error"))}e.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,me(this,"complete"),me(this,"abort"),Ho(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ho(this,!0)),It.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?gg(this):this.bb())},e.bb=function(){gg(this)};function gg(o){if(o.h&&typeof a<"u"&&(!o.v[1]||_n(o)!=4||o.Z()!=2)){if(o.u&&_n(o)==4)Um(o.Ea,0,o);else if(me(o,"readystatechange"),_n(o)==4){o.h=!1;try{const z=o.Z();t:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break t;default:c=!1}var f;if(!(f=c)){var y;if(y=z===0){var N=String(o.D).match(sg)[1]||null;!N&&l.self&&l.self.location&&(N=l.self.location.protocol.slice(0,-1)),y=!eA.test(N?N.toLowerCase():"")}f=y}if(f)me(o,"complete"),me(o,"success");else{o.m=6;try{var M=2<_n(o)?o.g.statusText:""}catch{M=""}o.l=M+" ["+o.Z()+"]",mg(o)}}finally{Ho(o)}}}}function Ho(o,c){if(o.g){pg(o);const f=o.g,y=o.v[0]?()=>{}:null;o.g=null,o.v=null,c||me(o,"ready");try{f.onreadystatechange=y}catch{}}}function pg(o){o.I&&(l.clearTimeout(o.I),o.I=null)}e.isActive=function(){return!!this.g};function _n(o){return o.g?o.g.readyState:0}e.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(o){if(this.g){var c=this.g.responseText;return o&&c.indexOf(o)==0&&(c=c.substring(o.length)),Vb(c)}};function yg(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function iA(o){const c={};o=(o.g&&2<=_n(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<o.length;y++){if(v(o[y]))continue;var f=I(o[y]);const N=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const M=c[N]||[];c[N]=M,M.push(f)}A(c,function(y){return y.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fs(o,c,f){return f&&f.internalChannelParams&&f.internalChannelParams[o]||c}function _g(o){this.Aa=0,this.i=[],this.j=new Us,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fs("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fs("baseRetryDelayMs",5e3,o),this.cb=Fs("retryDelaySeedMs",1e4,o),this.Wa=Fs("forwardChannelMaxRetries",2,o),this.wa=Fs("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Jm(o&&o.concurrentRequestLimit),this.Da=new Jb,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=_g.prototype,e.la=8,e.G=1,e.connect=function(o,c,f,y){ge(0),this.W=o,this.H=c||{},f&&y!==void 0&&(this.H.OSID=f,this.H.OAID=y),this.F=this.X,this.I=xg(this,null,this.W),Go(this)};function xc(o){if(vg(o),o.G==3){var c=o.U++,f=yn(o.I);if(Tt(f,"SID",o.K),Tt(f,"RID",c),Tt(f,"TYPE","terminate"),Gs(o,f),c=new Gn(o,o.j,c),c.L=2,c.v=zo(yn(f)),f=!1,l.navigator&&l.navigator.sendBeacon)try{f=l.navigator.sendBeacon(c.v.toString(),"")}catch{}!f&&l.Image&&(new Image().src=c.v,f=!0),f||(c.g=Ig(c.j,null),c.g.ea(c.v)),c.F=Date.now(),Uo(c)}Rg(o)}function Fo(o){o.g&&(Cc(o),o.g.cancel(),o.g=null)}function vg(o){Fo(o),o.u&&(l.clearTimeout(o.u),o.u=null),Yo(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&l.clearTimeout(o.s),o.s=null)}function Go(o){if(!tg(o.h)&&!o.s){o.s=!0;var c=o.Ga;K||Ot(),X||(K(),X=!0),Et.add(c,o),o.B=0}}function rA(o,c){return eg(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=c.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=Ps(m(o.Ga,o,c),wg(o,o.B)),o.B++,!0)}e.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const N=new Gn(this,this.j,o);let M=this.o;if(this.S&&(M?(M=p(M),w(M,this.S)):M=this.S),this.m!==null||this.O||(N.H=M,M=null),this.P)t:{for(var c=0,f=0;f<this.i.length;f++){e:{var y=this.i[f];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break e}y=void 0}if(y===void 0)break;if(c+=y,4096<c){c=f;break t}if(c===4096||f===this.i.length-1){c=f+1;break t}}c=1e3}else c=1e3;c=Tg(this,N,c),f=yn(this.I),Tt(f,"RID",o),Tt(f,"CVER",22),this.D&&Tt(f,"X-HTTP-Session-Id",this.D),Gs(this,f),M&&(this.O?c="headers="+encodeURIComponent(String(fg(M)))+"&"+c:this.m&&Rc(f,this.m,M)),wc(this.h,N),this.Ua&&Tt(f,"TYPE","init"),this.P?(Tt(f,"$req",c),Tt(f,"SID","null"),N.T=!0,Tc(N,f,null)):Tc(N,f,c),this.G=2}}else this.G==3&&(o?Eg(this,o):this.i.length==0||tg(this.h)||Eg(this))};function Eg(o,c){var f;c?f=c.l:f=o.U++;const y=yn(o.I);Tt(y,"SID",o.K),Tt(y,"RID",f),Tt(y,"AID",o.T),Gs(o,y),o.m&&o.o&&Rc(y,o.m,o.o),f=new Gn(o,o.j,f,o.B+1),o.m===null&&(f.H=o.o),c&&(o.i=c.D.concat(o.i)),c=Tg(o,f,1e3),f.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),wc(o.h,f),Tc(f,y,c)}function Gs(o,c){o.H&&j(o.H,function(f,y){Tt(c,y,f)}),o.l&&rg({},function(f,y){Tt(c,y,f)})}function Tg(o,c,f){f=Math.min(o.i.length,f);var y=o.l?m(o.l.Na,o.l,o):null;t:{var N=o.i;let M=-1;for(;;){const z=["count="+f];M==-1?0<f?(M=N[0].g,z.push("ofs="+M)):M=0:z.push("ofs="+M);let yt=!0;for(let Zt=0;Zt<f;Zt++){let ot=N[Zt].g;const ae=N[Zt].map;if(ot-=M,0>ot)M=Math.max(0,N[Zt].g-100),yt=!1;else try{tA(ae,z,"req"+ot+"_")}catch{y&&y(ae)}}if(yt){y=z.join("&");break t}}}return o=o.i.splice(0,f),c.D=o,y}function bg(o){if(!o.g&&!o.u){o.Y=1;var c=o.Fa;K||Ot(),X||(K(),X=!0),Et.add(c,o),o.v=0}}function Ic(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=Ps(m(o.Fa,o),wg(o,o.v)),o.v++,!0)}e.Fa=function(){if(this.u=null,Ag(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=Ps(m(this.ab,this),o)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ge(10),Fo(this),Ag(this))};function Cc(o){o.A!=null&&(l.clearTimeout(o.A),o.A=null)}function Ag(o){o.g=new Gn(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var c=yn(o.qa);Tt(c,"RID","rpc"),Tt(c,"SID",o.K),Tt(c,"AID",o.T),Tt(c,"CI",o.F?"0":"1"),!o.F&&o.ja&&Tt(c,"TO",o.ja),Tt(c,"TYPE","xmlhttp"),Gs(o,c),o.m&&o.o&&Rc(c,o.m,o.o),o.L&&(o.g.I=o.L);var f=o.g;o=o.ia,f.L=1,f.v=zo(yn(c)),f.m=null,f.P=!0,$m(f,o)}e.Za=function(){this.C!=null&&(this.C=null,Fo(this),Ic(this),ge(19))};function Yo(o){o.C!=null&&(l.clearTimeout(o.C),o.C=null)}function Sg(o,c){var f=null;if(o.g==c){Yo(o),Cc(o),o.g=null;var y=2}else if(Sc(o.h,c))f=c.D,ng(o.h,c),y=1;else return;if(o.G!=0){if(c.o)if(y==1){f=c.m?c.m.length:0,c=Date.now()-c.F;var N=o.B;y=Vo(),me(y,new Ym(y,f)),Go(o)}else bg(o);else if(N=c.s,N==3||N==0&&0<c.X||!(y==1&&rA(o,c)||y==2&&Ic(o)))switch(f&&0<f.length&&(c=o.h,c.i=c.i.concat(f)),N){case 1:Li(o,5);break;case 4:Li(o,10);break;case 3:Li(o,6);break;default:Li(o,2)}}}function wg(o,c){let f=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(f*=2),f*c}function Li(o,c){if(o.j.info("Error code "+c),c==2){var f=m(o.fb,o),y=o.Xa;const N=!y;y=new Ui(y||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Lo(y,"https"),zo(y),N?Zb(y.toString(),f):Wb(y.toString(),f)}else ge(2);o.G=0,o.l&&o.l.sa(c),Rg(o),vg(o)}e.fb=function(o){o?(this.j.info("Successfully pinged google.com"),ge(2)):(this.j.info("Failed to ping google.com"),ge(1))};function Rg(o){if(o.G=0,o.ka=[],o.l){const c=ig(o.h);(c.length!=0||o.i.length!=0)&&(V(o.ka,c),V(o.ka,o.i),o.h.i.length=0,O(o.i),o.i.length=0),o.l.ra()}}function xg(o,c,f){var y=f instanceof Ui?yn(f):new Ui(f);if(y.g!="")c&&(y.g=c+"."+y.g),jo(y,y.s);else{var N=l.location;y=N.protocol,c=c?c+"."+N.hostname:N.hostname,N=+N.port;var M=new Ui(null);y&&Lo(M,y),c&&(M.g=c),N&&jo(M,N),f&&(M.l=f),y=M}return f=o.D,c=o.ya,f&&c&&Tt(y,f,c),Tt(y,"VER",o.la),Gs(o,y),y}function Ig(o,c,f){if(c&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=o.Ca&&!o.pa?new It(new Bo({eb:f})):new It(o.pa),c.Ha(o.J),c}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cg(){}e=Cg.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Ko(){}Ko.prototype.g=function(o,c){return new we(o,c)};function we(o,c){se.call(this),this.g=new _g(c),this.l=o,this.h=c&&c.messageUrlParams||null,o=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(o?o["X-WebChannel-Content-Type"]=c.messageContentType:o={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(o?o["X-WebChannel-Client-Profile"]=c.va:o={"X-WebChannel-Client-Profile":c.va}),this.g.S=o,(o=c&&c.Sb)&&!v(o)&&(this.g.m=o),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!v(c)&&(this.g.D=c,o=this.h,o!==null&&c in o&&(o=this.h,c in o&&delete o[c])),this.j=new vr(this)}D(we,se),we.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},we.prototype.close=function(){xc(this.g)},we.prototype.o=function(o){var c=this.g;if(typeof o=="string"){var f={};f.__data__=o,o=f}else this.u&&(f={},f.__data__=gc(o),o=f);c.i.push(new Bb(c.Ya++,o)),c.G==3&&Go(c)},we.prototype.N=function(){this.g.l=null,delete this.j,xc(this.g),delete this.g,we.aa.N.call(this)};function Ng(o){yc.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var c=o.__sm__;if(c){t:{for(const f in c){o=f;break t}o=void 0}(this.i=o)&&(o=this.i,c=c!==null&&o in c?c[o]:void 0),this.data=c}else this.data=o}D(Ng,yc);function Dg(){_c.call(this),this.status=1}D(Dg,_c);function vr(o){this.g=o}D(vr,Cg),vr.prototype.ua=function(){me(this.g,"a")},vr.prototype.ta=function(o){me(this.g,new Ng(o))},vr.prototype.sa=function(o){me(this.g,new Dg)},vr.prototype.ra=function(){me(this.g,"b")},Ko.prototype.createWebChannel=Ko.prototype.g,we.prototype.send=we.prototype.o,we.prototype.open=we.prototype.m,we.prototype.close=we.prototype.close,uT=function(){return new Ko},lT=function(){return Vo()},oT=ki,If={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ko.NO_ERROR=0,ko.TIMEOUT=8,ko.HTTP_ERROR=6,Ol=ko,Km.COMPLETE="complete",aT=Km,qm.EventType=Vs,Vs.OPEN="a",Vs.CLOSE="b",Vs.ERROR="c",Vs.MESSAGE="d",se.prototype.listen=se.prototype.K,oa=qm,It.prototype.listenOnce=It.prototype.L,It.prototype.getLastError=It.prototype.Ka,It.prototype.getLastErrorCode=It.prototype.Ba,It.prototype.getStatus=It.prototype.Z,It.prototype.getResponseJson=It.prototype.Oa,It.prototype.getResponseText=It.prototype.oa,It.prototype.send=It.prototype.ea,It.prototype.setWithCredentials=It.prototype.Ha,sT=It}).apply(typeof hl<"u"?hl:typeof self<"u"?self:typeof window<"u"?window:{});const My="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ue.UNAUTHENTICATED=new ue(null),ue.GOOGLE_CREDENTIALS=new ue("google-credentials-uid"),ue.FIRST_PARTY=new ue("first-party-uid"),ue.MOCK_USER=new ue("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cs="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar=new qd("@firebase/firestore");function ta(){return ar.logLevel}function q(e,...t){if(ar.logLevel<=rt.DEBUG){const n=t.map(tm);ar.debug(`Firestore (${Cs}): ${e}`,...n)}}function Bn(e,...t){if(ar.logLevel<=rt.ERROR){const n=t.map(tm);ar.error(`Firestore (${Cs}): ${e}`,...n)}}function ds(e,...t){if(ar.logLevel<=rt.WARN){const n=t.map(tm);ar.warn(`Firestore (${Cs}): ${e}`,...n)}}function tm(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(e="Unexpected state"){const t=`FIRESTORE (${Cs}) INTERNAL ASSERTION FAILED: `+e;throw Bn(t),new Error(t)}function dt(e,t){e||Q()}function Z(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends Fn{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Zx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(ue.UNAUTHENTICATED))}shutdown(){}}class Wx{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Jx{constructor(t){this.t=t,this.currentUser=ue.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){dt(this.o===void 0);let i=this.i;const r=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new Si;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Si,t.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},l=u=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Si)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(dt(typeof i.accessToken=="string"),new cT(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return dt(t===null||typeof t=="string"),new ue(t)}}class tI{constructor(t,n,i){this.l=t,this.h=n,this.P=i,this.type="FirstParty",this.user=ue.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class eI{constructor(t,n,i){this.l=t,this.h=n,this.P=i}getToken(){return Promise.resolve(new tI(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(ue.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nI{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iI{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){dt(this.o===void 0);const i=s=>{s.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,q("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(dt(typeof n.token=="string"),this.R=n.token,new nI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=rI(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=t.charAt(r[s]%t.length))}return i}}function lt(e,t){return e<t?-1:e>t?1:0}function ms(e,t,n){return e.length===t.length&&e.every((i,r)=>n(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new H(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new H(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new H(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ht.fromMillis(Date.now())}static fromDate(t){return Ht.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*n));return new Ht(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?lt(this.nanoseconds,t.nanoseconds):lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.timestamp=t}static fromTimestamp(t){return new $(t)}static min(){return new $(new Ht(0,0))}static max(){return new $(new Ht(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(t,n,i){n===void 0?n=0:n>t.length&&Q(),i===void 0?i=t.length-n:i>t.length-n&&Q(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Ka.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ka?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let r=0;r<i;r++){const s=t.get(r),a=n.get(r);if(s<a)return-1;if(s>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Dt extends Ka{construct(t,n,i){return new Dt(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new H(L.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Dt(n)}static emptyPath(){return new Dt([])}}const sI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ee extends Ka{construct(t,n,i){return new ee(t,n,i)}static isValidIdentifier(t){return sI.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ee.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ee(["__name__"])}static fromServerFormat(t){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new H(L.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;r<t.length;){const l=t[r];if(l==="\\"){if(r+1===t.length)throw new H(L.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new H(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(i+=l,r++):(s(),r++)}if(s(),a)throw new H(L.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ee(n)}static emptyPath(){return new ee([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(t){this.path=t}static fromPath(t){return new F(Dt.fromString(t))}static fromName(t){return new F(Dt.fromString(t).popFirst(5))}static empty(){return new F(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Dt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Dt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new F(new Dt(t.slice()))}}function aI(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=$.fromTimestamp(i===1e9?new Ht(n+1,0):new Ht(n,i));return new Ii(r,F.empty(),t)}function oI(e){return new Ii(e.readTime,e.key,-1)}class Ii{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new Ii($.min(),F.empty(),-1)}static max(){return new Ii($.max(),F.empty(),-1)}}function lI(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=F.comparator(e.documentKey,t.documentKey),n!==0?n:lt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(e){if(e.code!==L.FAILED_PRECONDITION||e.message!==uI)throw e;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new U((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):U.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):U.reject(n)}static resolve(t){return new U((n,i)=>{n(t)})}static reject(t){return new U((n,i)=>{i(t)})}static waitFor(t){return new U((n,i)=>{let r=0,s=0,a=!1;t.forEach(l=>{++r,l.next(()=>{++s,a&&s===r&&n()},u=>i(u))}),a=!0,s===r&&n()})}static or(t){let n=U.resolve(!1);for(const i of t)n=n.next(r=>r?U.resolve(r):i());return n}static forEach(t,n){const i=[];return t.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(t,n){return new U((i,r)=>{const s=t.length,a=new Array(s);let l=0;for(let u=0;u<s;u++){const h=u;n(t[h]).next(d=>{a[h]=d,++l,l===s&&i(a)},d=>r(d))}})}static doWhile(t,n){return new U((i,r)=>{const s=()=>{t()===!0?n().next(()=>{s()},r):i()};s()})}}function hI(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wo(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}em.oe=-1;function Wu(e){return e==null}function Eu(e){return e===0&&1/e==-1/0}function fI(e){return typeof e=="number"&&Number.isInteger(e)&&!Eu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ns(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function fT(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(t,n){this.comparator=t,this.root=n||Jt.EMPTY}insert(t,n){return new xt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(t){return new xt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new fl(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new fl(this.root,t,this.comparator,!1)}getReverseIterator(){return new fl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new fl(this.root,t,this.comparator,!0)}}class fl{constructor(t,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?i(t.key,n):1,n&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Jt{constructor(t,n,i,r,s){this.key=t,this.value=n,this.color=i??Jt.RED,this.left=r??Jt.EMPTY,this.right=s??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,r,s){return new Jt(t??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return Jt.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();const t=this.left.check();if(t!==this.right.check())throw Q();return t+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(t,n,i,r,s){return this}insert(t,n,i){return new Jt(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(t){this.comparator=t,this.data=new xt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new ky(this.data.getIterator())}getIteratorFrom(t){return new ky(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof ie)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new ie(this.comparator);return n.data=t,n}}class ky{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t){this.fields=t,t.sort(ee.comparator)}static empty(){return new Xe([])}unionWith(t){let n=new ie(ee.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new Xe(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ms(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new dT("Invalid base64 string: "+s):s}}(t);return new re(n)}static fromUint8Array(t){const n=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(t);return new re(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}re.EMPTY_BYTE_STRING=new re("");const dI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ci(e){if(dt(!!e),typeof e=="string"){let t=0;const n=dI.exec(e);if(dt(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:kt(e.seconds),nanos:kt(e.nanos)}}function kt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function or(e){return typeof e=="string"?re.fromBase64String(e):re.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function im(e){const t=e.mapValue.fields.__previous_value__;return nm(t)?im(t):t}function Qa(e){const t=Ci(e.mapValue.fields.__local_write_time__.timestampValue);return new Ht(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(t,n,i,r,s,a,l,u,h){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h}}class Xa{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Xa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Xa&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl={mapValue:{}};function lr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?nm(e)?4:pI(e)?9007199254740991:gI(e)?10:11:Q()}function fn(e,t){if(e===t)return!0;const n=lr(e);if(n!==lr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Qa(e).isEqual(Qa(t));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=Ci(r.timestampValue),l=Ci(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,s){return or(r.bytesValue).isEqual(or(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,s){return kt(r.geoPointValue.latitude)===kt(s.geoPointValue.latitude)&&kt(r.geoPointValue.longitude)===kt(s.geoPointValue.longitude)}(e,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return kt(r.integerValue)===kt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=kt(r.doubleValue),l=kt(s.doubleValue);return a===l?Eu(a)===Eu(l):isNaN(a)&&isNaN(l)}return!1}(e,t);case 9:return ms(e.arrayValue.values||[],t.arrayValue.values||[],fn);case 10:case 11:return function(r,s){const a=r.mapValue.fields||{},l=s.mapValue.fields||{};if(Vy(a)!==Vy(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!fn(a[u],l[u])))return!1;return!0}(e,t);default:return Q()}}function $a(e,t){return(e.values||[]).find(n=>fn(n,t))!==void 0}function gs(e,t){if(e===t)return 0;const n=lr(e),i=lr(t);if(n!==i)return lt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return lt(e.booleanValue,t.booleanValue);case 2:return function(s,a){const l=kt(s.integerValue||s.doubleValue),u=kt(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(e,t);case 3:return Py(e.timestampValue,t.timestampValue);case 4:return Py(Qa(e),Qa(t));case 5:return lt(e.stringValue,t.stringValue);case 6:return function(s,a){const l=or(s),u=or(a);return l.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(s,a){const l=s.split("/"),u=a.split("/");for(let h=0;h<l.length&&h<u.length;h++){const d=lt(l[h],u[h]);if(d!==0)return d}return lt(l.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,a){const l=lt(kt(s.latitude),kt(a.latitude));return l!==0?l:lt(kt(s.longitude),kt(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Uy(e.arrayValue,t.arrayValue);case 10:return function(s,a){var l,u,h,d;const _=s.fields||{},m=a.fields||{},E=(l=_.value)===null||l===void 0?void 0:l.arrayValue,D=(u=m.value)===null||u===void 0?void 0:u.arrayValue,O=lt(((h=E==null?void 0:E.values)===null||h===void 0?void 0:h.length)||0,((d=D==null?void 0:D.values)===null||d===void 0?void 0:d.length)||0);return O!==0?O:Uy(E,D)}(e.mapValue,t.mapValue);case 11:return function(s,a){if(s===dl.mapValue&&a===dl.mapValue)return 0;if(s===dl.mapValue)return 1;if(a===dl.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),h=a.fields||{},d=Object.keys(h);u.sort(),d.sort();for(let _=0;_<u.length&&_<d.length;++_){const m=lt(u[_],d[_]);if(m!==0)return m;const E=gs(l[u[_]],h[d[_]]);if(E!==0)return E}return lt(u.length,d.length)}(e.mapValue,t.mapValue);default:throw Q()}}function Py(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return lt(e,t);const n=Ci(e),i=Ci(t),r=lt(n.seconds,i.seconds);return r!==0?r:lt(n.nanos,i.nanos)}function Uy(e,t){const n=e.values||[],i=t.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=gs(n[r],i[r]);if(s)return s}return lt(n.length,i.length)}function ps(e){return Cf(e)}function Cf(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=Ci(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return or(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return F.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=Cf(s);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const a of i)s?s=!1:r+=",",r+=`${a}:${Cf(n.fields[a])}`;return r+"}"}(e.mapValue):Q()}function Nf(e){return!!e&&"integerValue"in e}function rm(e){return!!e&&"arrayValue"in e}function Ly(e){return!!e&&"nullValue"in e}function jy(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ml(e){return!!e&&"mapValue"in e}function gI(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ra(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ns(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=Ra(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ra(e.arrayValue.values[n]);return t}return Object.assign({},e)}function pI(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t){this.value=t}static empty(){return new qe({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Ml(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ra(n)}setAll(t){let n=ee.emptyPath(),i={},r=[];t.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,i,r),i={},r=[],n=l.popLast()}a?i[l.lastSegment()]=Ra(a):r.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(t){const n=this.field(t.popLast());Ml(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return fn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=n.mapValue.fields[t.get(i)];Ml(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(t,n,i){Ns(n,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new qe(Ra(this.value))}}function mT(e){const t=[];return Ns(e.fields,(n,i)=>{const r=new ee([n]);if(Ml(i)){const s=mT(i.mapValue).fields;if(s.length===0)t.push(r);else for(const a of s)t.push(r.child(a))}else t.push(r)}),new Xe(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t,n,i,r,s,a,l){this.key=t,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(t){return new ce(t,0,$.min(),$.min(),$.min(),qe.empty(),0)}static newFoundDocument(t,n,i,r){return new ce(t,1,n,$.min(),i,r,0)}static newNoDocument(t,n){return new ce(t,2,n,$.min(),$.min(),qe.empty(),0)}static newUnknownDocument(t,n){return new ce(t,3,n,$.min(),$.min(),qe.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual($.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=qe.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=qe.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ce&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ce(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(t,n){this.position=t,this.inclusive=n}}function zy(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const s=t[r],a=e.position[r];if(s.field.isKeyField()?i=F.comparator(F.fromName(a.referenceValue),n.key):i=gs(a,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function By(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!fn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(t,n="asc"){this.field=t,this.dir=n}}function yI(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{}class qt extends gT{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new vI(t,n,i):n==="array-contains"?new bI(t,i):n==="in"?new AI(t,i):n==="not-in"?new SI(t,i):n==="array-contains-any"?new wI(t,i):new qt(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new EI(t,i):new TI(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(gs(n,this.value)):n!==null&&lr(this.value)===lr(n)&&this.matchesComparison(gs(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dn extends gT{constructor(t,n){super(),this.filters=t,this.op=n,this.ae=null}static create(t,n){return new dn(t,n)}matches(t){return pT(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function pT(e){return e.op==="and"}function yT(e){return _I(e)&&pT(e)}function _I(e){for(const t of e.filters)if(t instanceof dn)return!1;return!0}function Df(e){if(e instanceof qt)return e.field.canonicalString()+e.op.toString()+ps(e.value);if(yT(e))return e.filters.map(t=>Df(t)).join(",");{const t=e.filters.map(n=>Df(n)).join(",");return`${e.op}(${t})`}}function _T(e,t){return e instanceof qt?function(i,r){return r instanceof qt&&i.op===r.op&&i.field.isEqual(r.field)&&fn(i.value,r.value)}(e,t):e instanceof dn?function(i,r){return r instanceof dn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,a,l)=>s&&_T(a,r.filters[l]),!0):!1}(e,t):void Q()}function vT(e){return e instanceof qt?function(n){return`${n.field.canonicalString()} ${n.op} ${ps(n.value)}`}(e):e instanceof dn?function(n){return n.op.toString()+" {"+n.getFilters().map(vT).join(" ,")+"}"}(e):"Filter"}class vI extends qt{constructor(t,n,i){super(t,n,i),this.key=F.fromName(i.referenceValue)}matches(t){const n=F.comparator(t.key,this.key);return this.matchesComparison(n)}}class EI extends qt{constructor(t,n){super(t,"in",n),this.keys=ET("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class TI extends qt{constructor(t,n){super(t,"not-in",n),this.keys=ET("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function ET(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>F.fromName(i.referenceValue))}class bI extends qt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return rm(n)&&$a(n.arrayValue,this.value)}}class AI extends qt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&$a(this.value.arrayValue,n)}}class SI extends qt{constructor(t,n){super(t,"not-in",n)}matches(t){if($a(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!$a(this.value.arrayValue,n)}}class wI extends qt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!rm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>$a(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(t,n=null,i=[],r=[],s=null,a=null,l=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=l,this.ue=null}}function qy(e,t=null,n=[],i=[],r=null,s=null,a=null){return new RI(e,t,n,i,r,s,a)}function sm(e){const t=Z(e);if(t.ue===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>Df(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Wu(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>ps(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>ps(i)).join(",")),t.ue=n}return t.ue}function am(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!yI(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!_T(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!By(e.startAt,t.startAt)&&By(e.endAt,t.endAt)}function Of(e){return F.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(t,n=null,i=[],r=[],s=null,a="F",l=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function xI(e,t,n,i,r,s,a,l){return new Ju(e,t,n,i,r,s,a,l)}function om(e){return new Ju(e)}function Hy(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function II(e){return e.collectionGroup!==null}function xa(e){const t=Z(e);if(t.ce===null){t.ce=[];const n=new Set;for(const s of t.explicitOrderBy)t.ce.push(s),n.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new ie(ee.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.ce.push(new bu(s,i))}),n.has(ee.keyField().canonicalString())||t.ce.push(new bu(ee.keyField(),i))}return t.ce}function cn(e){const t=Z(e);return t.le||(t.le=CI(t,xa(e))),t.le}function CI(e,t){if(e.limitType==="F")return qy(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new bu(r.field,s)});const n=e.endAt?new Tu(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Tu(e.startAt.position,e.startAt.inclusive):null;return qy(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function Mf(e,t,n){return new Ju(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function tc(e,t){return am(cn(e),cn(t))&&e.limitType===t.limitType}function TT(e){return`${sm(cn(e))}|lt:${e.limitType}`}function xr(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>vT(r)).join(", ")}]`),Wu(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>ps(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>ps(r)).join(",")),`Target(${i})`}(cn(e))}; limitType=${e.limitType})`}function ec(e,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):F.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(e,t)&&function(i,r){for(const s of xa(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(e,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(e,t)&&function(i,r){return!(i.startAt&&!function(a,l,u){const h=zy(a,l,u);return a.inclusive?h<=0:h<0}(i.startAt,xa(i),r)||i.endAt&&!function(a,l,u){const h=zy(a,l,u);return a.inclusive?h>=0:h>0}(i.endAt,xa(i),r))}(e,t)}function NI(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function bT(e){return(t,n)=>{let i=!1;for(const r of xa(e)){const s=DI(r,t,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function DI(e,t,n){const i=e.field.isKeyField()?F.comparator(t.key,n.key):function(s,a,l){const u=a.data.field(s),h=l.data.field(s);return u!==null&&h!==null?gs(u,h):Q()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Q()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,n]);r.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Ns(this.inner,(n,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return fT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=new xt(F.comparator);function qn(){return OI}const AT=new xt(F.comparator);function la(...e){let t=AT;for(const n of e)t=t.insert(n.key,n);return t}function ST(e){let t=AT;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function Fi(){return Ia()}function wT(){return Ia()}function Ia(){return new Ds(e=>e.toString(),(e,t)=>e.isEqual(t))}const MI=new xt(F.comparator),VI=new ie(F.comparator);function it(...e){let t=VI;for(const n of e)t=t.add(n);return t}const kI=new ie(lt);function PI(){return kI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eu(t)?"-0":t}}function RT(e){return{integerValue:""+e}}function UI(e,t){return fI(t)?RT(t):lm(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(){this._=void 0}}function LI(e,t,n){return e instanceof Au?function(r,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&nm(s)&&(s=im(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(n,t):e instanceof Za?IT(e,t):e instanceof Wa?CT(e,t):function(r,s){const a=xT(r,s),l=Fy(a)+Fy(r.Pe);return Nf(a)&&Nf(r.Pe)?RT(l):lm(r.serializer,l)}(e,t)}function jI(e,t,n){return e instanceof Za?IT(e,t):e instanceof Wa?CT(e,t):n}function xT(e,t){return e instanceof Su?function(i){return Nf(i)||function(s){return!!s&&"doubleValue"in s}(i)}(t)?t:{integerValue:0}:null}class Au extends nc{}class Za extends nc{constructor(t){super(),this.elements=t}}function IT(e,t){const n=NT(t);for(const i of e.elements)n.some(r=>fn(r,i))||n.push(i);return{arrayValue:{values:n}}}class Wa extends nc{constructor(t){super(),this.elements=t}}function CT(e,t){let n=NT(t);for(const i of e.elements)n=n.filter(r=>!fn(r,i));return{arrayValue:{values:n}}}class Su extends nc{constructor(t,n){super(),this.serializer=t,this.Pe=n}}function Fy(e){return kt(e.integerValue||e.doubleValue)}function NT(e){return rm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function zI(e,t){return e.field.isEqual(t.field)&&function(i,r){return i instanceof Za&&r instanceof Za||i instanceof Wa&&r instanceof Wa?ms(i.elements,r.elements,fn):i instanceof Su&&r instanceof Su?fn(i.Pe,r.Pe):i instanceof Au&&r instanceof Au}(e.transform,t.transform)}class BI{constructor(t,n){this.version=t,this.transformResults=n}}class Vn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Vn}static exists(t){return new Vn(void 0,t)}static updateTime(t){return new Vn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Vl(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class ic{}function DT(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new MT(e.key,Vn.none()):new Ro(e.key,e.data,Vn.none());{const n=e.data,i=qe.empty();let r=new ie(ee.comparator);for(let s of t.fields)if(!r.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new mr(e.key,i,new Xe(r.toArray()),Vn.none())}}function qI(e,t,n){e instanceof Ro?function(r,s,a){const l=r.value.clone(),u=Yy(r.fieldTransforms,s,a.transformResults);l.setAll(u),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(e,t,n):e instanceof mr?function(r,s,a){if(!Vl(r.precondition,s))return void s.convertToUnknownDocument(a.version);const l=Yy(r.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(OT(r)),u.setAll(l),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(e,t,n):function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function Ca(e,t,n,i){return e instanceof Ro?function(s,a,l,u){if(!Vl(s.precondition,a))return l;const h=s.value.clone(),d=Ky(s.fieldTransforms,u,a);return h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(e,t,n,i):e instanceof mr?function(s,a,l,u){if(!Vl(s.precondition,a))return l;const h=Ky(s.fieldTransforms,u,a),d=a.data;return d.setAll(OT(s)),d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(_=>_.field))}(e,t,n,i):function(s,a,l){return Vl(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(e,t,n)}function HI(e,t){let n=null;for(const i of e.fieldTransforms){const r=t.data.field(i.field),s=xT(i.transform,r||null);s!=null&&(n===null&&(n=qe.empty()),n.set(i.field,s))}return n||null}function Gy(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&ms(i,r,(s,a)=>zI(s,a))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ro extends ic{constructor(t,n,i,r=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class mr extends ic{constructor(t,n,i,r,s=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function OT(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function Yy(e,t,n){const i=new Map;dt(e.length===n.length);for(let r=0;r<n.length;r++){const s=e[r],a=s.transform,l=t.data.field(s.field);i.set(s.field,jI(a,l,n[r]))}return i}function Ky(e,t,n){const i=new Map;for(const r of e){const s=r.transform,a=n.data.field(r.field);i.set(r.field,LI(s,a,t))}return i}class MT extends ic{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FI extends ic{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(t,n,i,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&qI(s,t,i[r])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Ca(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Ca(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=wT();return this.mutations.forEach(r=>{const s=t.get(r.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(r.key)?null:l;const u=DT(a,l);u!==null&&i.set(r.key,u),a.isValidDocument()||a.convertToNoDocument($.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),it())}isEqual(t){return this.batchId===t.batchId&&ms(this.mutations,t.mutations,(n,i)=>Gy(n,i))&&ms(this.baseMutations,t.baseMutations,(n,i)=>Gy(n,i))}}class um{constructor(t,n,i,r){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(t,n,i){dt(t.mutations.length===i.length);let r=function(){return MI}();const s=t.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new um(t,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut,st;function QI(e){switch(e){default:return Q();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}function VT(e){if(e===void 0)return Bn("GRPC error has no .code"),L.UNKNOWN;switch(e){case Ut.OK:return L.OK;case Ut.CANCELLED:return L.CANCELLED;case Ut.UNKNOWN:return L.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return L.INTERNAL;case Ut.UNAVAILABLE:return L.UNAVAILABLE;case Ut.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Ut.NOT_FOUND:return L.NOT_FOUND;case Ut.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Ut.ABORTED:return L.ABORTED;case Ut.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Ut.DATA_LOSS:return L.DATA_LOSS;default:return Q()}}(st=Ut||(Ut={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=new Wi([4294967295,4294967295],0);function Qy(e){const t=XI().encode(e),n=new rT;return n.update(t),new Uint8Array(n.digest())}function Xy(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Wi([n,i],0),new Wi([r,s],0)]}class cm{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new ua(`Invalid padding: ${n}`);if(i<0)throw new ua(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new ua(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new ua(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*t.length-n,this.Te=Wi.fromNumber(this.Ie)}Ee(t,n,i){let r=t.add(n.multiply(Wi.fromNumber(i)));return r.compare($I)===1&&(r=new Wi([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const n=Qy(t),[i,r]=Xy(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(i,r,s);if(!this.de(a))return!1}return!0}static create(t,n,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),a=new cm(s,r,n);return i.forEach(l=>a.insert(l)),a}insert(t){if(this.Ie===0)return;const n=Qy(t),[i,r]=Xy(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(i,r,s);this.Ae(a)}}Ae(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class ua extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(t,n,i,r,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const r=new Map;return r.set(t,xo.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new rc($.min(),r,new xt(lt),qn(),it())}}class xo{constructor(t,n,i,r,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new xo(i,n,it(),it(),it())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(t,n,i,r){this.Re=t,this.removedTargetIds=n,this.key=i,this.Ve=r}}class kT{constructor(t,n){this.targetId=t,this.me=n}}class PT{constructor(t,n,i=re.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=r}}class $y{constructor(){this.fe=0,this.ge=Wy(),this.pe=re.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=it(),n=it(),i=it();return this.ge.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Q()}}),new xo(this.pe,this.ye,t,n,i)}Ce(){this.we=!1,this.ge=Wy()}Fe(t,n){this.we=!0,this.ge=this.ge.insert(t,n)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,dt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class ZI{constructor(t){this.Le=t,this.Be=new Map,this.ke=qn(),this.qe=Zy(),this.Qe=new xt(lt)}Ke(t){for(const n of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(n,t.Ve):this.Ue(n,t.key,t.Ve);for(const n of t.removedTargetIds)this.Ue(n,t.key,t.Ve)}We(t){this.forEachTarget(t,n=>{const i=this.Ge(n);switch(t.state){case 0:this.ze(n)&&i.De(t.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(t.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(t.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(t.resumeToken));break;default:Q()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Be.forEach((i,r)=>{this.ze(r)&&n(r)})}He(t){const n=t.targetId,i=t.me.count,r=this.Je(n);if(r){const s=r.target;if(Of(s))if(i===0){const a=new F(s.path);this.Ue(n,a,ce.newNoDocument(a,$.min()))}else dt(i===1);else{const a=this.Ye(n);if(a!==i){const l=this.Ze(t),u=l?this.Xe(l,t,a):1;if(u!==0){this.je(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,h)}}}}}Ze(t){const n=t.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let a,l;try{a=or(i).toUint8Array()}catch(u){if(u instanceof dT)return ds("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new cm(a,r,s)}catch(u){return ds(u instanceof ua?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(t,n,i){return n.me.count===i-this.nt(t,n.targetId)?0:2}nt(t,n){const i=this.Le.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const a=this.Le.tt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;t.mightContain(l)||(this.Ue(n,s,null),r++)}),r}rt(t){const n=new Map;this.Be.forEach((s,a)=>{const l=this.Je(a);if(l){if(s.current&&Of(l.target)){const u=new F(l.target.path);this.ke.get(u)!==null||this.it(a,u)||this.Ue(a,u,ce.newNoDocument(u,t))}s.be&&(n.set(a,s.ve()),s.Ce())}});let i=it();this.qe.forEach((s,a)=>{let l=!0;a.forEachWhile(u=>{const h=this.Je(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(t));const r=new rc(t,n,this.Qe,this.ke,i);return this.ke=qn(),this.qe=Zy(),this.Qe=new xt(lt),r}$e(t,n){if(!this.ze(t))return;const i=this.it(t,n.key)?2:0;this.Ge(t).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(t))}Ue(t,n,i){if(!this.ze(t))return;const r=this.Ge(t);this.it(t,n)?r.Fe(n,1):r.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(t)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(t){this.Be.delete(t)}Ye(t){const n=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let n=this.Be.get(t);return n||(n=new $y,this.Be.set(t,n)),n}st(t){let n=this.qe.get(t);return n||(n=new ie(lt),this.qe=this.qe.insert(t,n)),n}ze(t){const n=this.Je(t)!==null;return n||q("WatchChangeAggregator","Detected inactive target",t),n}Je(t){const n=this.Be.get(t);return n&&n.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new $y),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.Ue(t,n,null)})}it(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function Zy(){return new xt(F.comparator)}function Wy(){return new xt(F.comparator)}const WI={asc:"ASCENDING",desc:"DESCENDING"},JI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tC={and:"AND",or:"OR"};class eC{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Vf(e,t){return e.useProto3Json||Wu(t)?t:{value:t}}function wu(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function UT(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function nC(e,t){return wu(e,t.toTimestamp())}function hn(e){return dt(!!e),$.fromTimestamp(function(n){const i=Ci(n);return new Ht(i.seconds,i.nanos)}(e))}function hm(e,t){return kf(e,t).canonicalString()}function kf(e,t){const n=function(r){return new Dt(["projects",r.projectId,"databases",r.database])}(e).child("documents");return t===void 0?n:n.child(t)}function LT(e){const t=Dt.fromString(e);return dt(HT(t)),t}function Pf(e,t){return hm(e.databaseId,t.path)}function vh(e,t){const n=LT(t);if(n.get(1)!==e.databaseId.projectId)throw new H(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new H(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new F(zT(n))}function jT(e,t){return hm(e.databaseId,t)}function iC(e){const t=LT(e);return t.length===4?Dt.emptyPath():zT(t)}function Uf(e){return new Dt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function zT(e){return dt(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Jy(e,t,n){return{name:Pf(e,t),fields:n.value.mapValue.fields}}function rC(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Q()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(h,d){return h.useProto3Json?(dt(d===void 0||typeof d=="string"),re.fromBase64String(d||"")):(dt(d===void 0||d instanceof Buffer||d instanceof Uint8Array),re.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,l=a&&function(h){const d=h.code===void 0?L.UNKNOWN:VT(h.code);return new H(d,h.message||"")}(a);n=new PT(i,r,s,l||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=vh(e,i.document.name),s=hn(i.document.updateTime),a=i.document.createTime?hn(i.document.createTime):$.min(),l=new qe({mapValue:{fields:i.document.fields}}),u=ce.newFoundDocument(r,s,a,l),h=i.targetIds||[],d=i.removedTargetIds||[];n=new kl(h,d,u.key,u)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=vh(e,i.document),s=i.readTime?hn(i.readTime):$.min(),a=ce.newNoDocument(r,s),l=i.removedTargetIds||[];n=new kl([],l,a.key,a)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=vh(e,i.document),s=i.removedTargetIds||[];n=new kl([],s,r,null)}else{if(!("filter"in t))return Q();{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,a=new KI(r,s),l=i.targetId;n=new kT(l,a)}}return n}function sC(e,t){let n;if(t instanceof Ro)n={update:Jy(e,t.key,t.value)};else if(t instanceof MT)n={delete:Pf(e,t.key)};else if(t instanceof mr)n={update:Jy(e,t.key,t.data),updateMask:mC(t.fieldMask)};else{if(!(t instanceof FI))return Q();n={verify:Pf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(s,a){const l=a.transform;if(l instanceof Au)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Za)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Wa)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Su)return{fieldPath:a.field.canonicalString(),increment:l.Pe};throw Q()}(0,i))),t.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:nC(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Q()}(e,t.precondition)),n}function aC(e,t){return e&&e.length>0?(dt(t!==void 0),e.map(n=>function(r,s){let a=r.updateTime?hn(r.updateTime):hn(s);return a.isEqual($.min())&&(a=hn(s)),new BI(a,r.transformResults||[])}(n,t))):[]}function oC(e,t){return{documents:[jT(e,t.path)]}}function lC(e,t){const n={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=jT(e,r);const s=function(h){if(h.length!==0)return qT(dn.create(h,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(h){if(h.length!==0)return h.map(d=>function(m){return{field:Ir(m.field),direction:hC(m.dir)}}(d))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const l=Vf(e,t.limit);return l!==null&&(n.structuredQuery.limit=l),t.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(t.endAt)),{_t:n,parent:r}}function uC(e){let t=iC(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){dt(i===1);const d=n.from[0];d.allDescendants?r=d.collectionId:t=t.child(d.collectionId)}let s=[];n.where&&(s=function(_){const m=BT(_);return m instanceof dn&&yT(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(_){return _.map(m=>function(D){return new bu(Cr(D.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(_){let m;return m=typeof _=="object"?_.value:_,Wu(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(_){const m=!!_.before,E=_.values||[];return new Tu(E,m)}(n.startAt));let h=null;return n.endAt&&(h=function(_){const m=!_.before,E=_.values||[];return new Tu(E,m)}(n.endAt)),xI(t,r,a,s,l,"F",u,h)}function cC(e,t){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function BT(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Cr(n.unaryFilter.field);return qt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Cr(n.unaryFilter.field);return qt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Cr(n.unaryFilter.field);return qt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Cr(n.unaryFilter.field);return qt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(e):e.fieldFilter!==void 0?function(n){return qt.create(Cr(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return dn.create(n.compositeFilter.filters.map(i=>BT(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Q()}}(n.compositeFilter.op))}(e):Q()}function hC(e){return WI[e]}function fC(e){return JI[e]}function dC(e){return tC[e]}function Ir(e){return{fieldPath:e.canonicalString()}}function Cr(e){return ee.fromServerFormat(e.fieldPath)}function qT(e){return e instanceof qt?function(n){if(n.op==="=="){if(jy(n.value))return{unaryFilter:{field:Ir(n.field),op:"IS_NAN"}};if(Ly(n.value))return{unaryFilter:{field:Ir(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(jy(n.value))return{unaryFilter:{field:Ir(n.field),op:"IS_NOT_NAN"}};if(Ly(n.value))return{unaryFilter:{field:Ir(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ir(n.field),op:fC(n.op),value:n.value}}}(e):e instanceof dn?function(n){const i=n.getFilters().map(r=>qT(r));return i.length===1?i[0]:{compositeFilter:{op:dC(n.op),filters:i}}}(e):Q()}function mC(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function HT(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(t,n,i,r,s=$.min(),a=$.min(),l=re.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(t){return new fi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(t){this.ct=t}}function pC(e){const t=uC({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Mf(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(){this.un=new _C}addToCollectionParentIndex(t,n){return this.un.add(n),U.resolve()}getCollectionParents(t,n){return U.resolve(this.un.getEntries(n))}addFieldIndex(t,n){return U.resolve()}deleteFieldIndex(t,n){return U.resolve()}deleteAllFieldIndexes(t){return U.resolve()}createTargetIndexes(t,n){return U.resolve()}getDocumentsMatchingTarget(t,n){return U.resolve(null)}getIndexType(t,n){return U.resolve(0)}getFieldIndexes(t,n){return U.resolve([])}getNextCollectionGroupToUpdate(t){return U.resolve(null)}getMinOffset(t,n){return U.resolve(Ii.min())}getMinOffsetFromCollectionGroup(t,n){return U.resolve(Ii.min())}updateCollectionGroup(t,n,i){return U.resolve()}updateIndexEntries(t,n){return U.resolve()}}class _C{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n]||new ie(Dt.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(t){return(this.index[t]||new ie(Dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new ys(0)}static kn(){return new ys(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(){this.changes=new Ds(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ce.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?U.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(t,n,i,r){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,n))).next(r=>(i!==null&&Ca(i.mutation,r,Xe.empty(),Ht.now()),r))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,it()).next(()=>i))}getLocalViewOfDocuments(t,n,i=it()){const r=Fi();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,i).next(s=>{let a=la();return s.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const i=Fi();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,it()))}populateOverlays(t,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(t,n,i,r){let s=qn();const a=Ia(),l=function(){return Ia()}();return n.forEach((u,h)=>{const d=i.get(h.key);r.has(h.key)&&(d===void 0||d.mutation instanceof mr)?s=s.insert(h.key,h):d!==void 0?(a.set(h.key,d.mutation.getFieldMask()),Ca(d.mutation,h,d.mutation.getFieldMask(),Ht.now())):a.set(h.key,Xe.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((h,d)=>a.set(h,d)),n.forEach((h,d)=>{var _;return l.set(h,new EC(d,(_=a.get(h))!==null&&_!==void 0?_:null))}),l))}recalculateAndSaveOverlays(t,n){const i=Ia();let r=new xt((a,l)=>a-l),s=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let d=i.get(u)||Xe.empty();d=l.applyToLocalView(h,d),i.set(u,d);const _=(r.get(l.batchId)||it()).add(u);r=r.insert(l.batchId,_)})}).next(()=>{const a=[],l=r.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,d=u.value,_=wT();d.forEach(m=>{if(!s.has(m)){const E=DT(n.get(m),i.get(m));E!==null&&_.set(m,E),s=s.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(t,h,_))}return U.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,r){return function(a){return F.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):II(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,r):this.getDocumentsMatchingCollectionQuery(t,n,i,r)}getNextDocuments(t,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,r-s.size):U.resolve(Fi());let l=-1,u=s;return a.next(h=>U.forEach(h,(d,_)=>(l<_.largestBatchId&&(l=_.largestBatchId),s.get(d)?U.resolve():this.remoteDocumentCache.getEntry(t,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(t,h,s)).next(()=>this.computeViews(t,u,h,it())).next(d=>({batchId:l,changes:ST(d)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new F(n)).next(i=>{let r=la();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,n,i,r){const s=n.collectionGroup;let a=la();return this.indexManager.getCollectionParents(t,s).next(l=>U.forEach(l,u=>{const h=function(_,m){return new Ju(m,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,h,i,r).next(d=>{d.forEach((_,m)=>{a=a.insert(_,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,s,r))).next(a=>{s.forEach((u,h)=>{const d=h.getKey();a.get(d)===null&&(a=a.insert(d,ce.newInvalidDocument(d)))});let l=la();return a.forEach((u,h)=>{const d=s.get(u);d!==void 0&&Ca(d.mutation,h,Xe.empty(),Ht.now()),ec(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,n){return U.resolve(this.hr.get(n))}saveBundleMetadata(t,n){return this.hr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:hn(r.createTime)}}(n)),U.resolve()}getNamedQuery(t,n){return U.resolve(this.Pr.get(n))}saveNamedQuery(t,n){return this.Pr.set(n.name,function(r){return{name:r.name,query:pC(r.bundledQuery),readTime:hn(r.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(){this.overlays=new xt(F.comparator),this.Ir=new Map}getOverlay(t,n){return U.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Fi();return U.forEach(n,r=>this.getOverlay(t,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((r,s)=>{this.ht(t,n,s)}),U.resolve()}removeOverlaysForBatchId(t,n,i){const r=this.Ir.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(i)),U.resolve()}getOverlaysForCollection(t,n,i){const r=Fi(),s=n.length+1,a=new F(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&u.largestBatchId>i&&r.set(u.getKey(),u)}return U.resolve(r)}getOverlaysForCollectionGroup(t,n,i,r){let s=new xt((h,d)=>h-d);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>i){let d=s.get(h.largestBatchId);d===null&&(d=Fi(),s=s.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const l=Fi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,d)=>l.set(h,d)),!(l.size()>=r)););return U.resolve(l)}ht(t,n,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new YI(n,i));let s=this.Ir.get(n);s===void 0&&(s=it(),this.Ir.set(n,s)),this.Ir.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(){this.sessionToken=re.EMPTY_BYTE_STRING}getSessionToken(t){return U.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(){this.Tr=new ie(Yt.Er),this.dr=new ie(Yt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,n){const i=new Yt(t,n);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Vr(new Yt(t,n))}mr(t,n){t.forEach(i=>this.removeReference(i,n))}gr(t){const n=new F(new Dt([])),i=new Yt(n,t),r=new Yt(n,t+1),s=[];return this.dr.forEachInRange([i,r],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const n=new F(new Dt([])),i=new Yt(n,t),r=new Yt(n,t+1);let s=it();return this.dr.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(t){const n=new Yt(t,0),i=this.Tr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class Yt{constructor(t,n){this.key=t,this.wr=n}static Er(t,n){return F.comparator(t.key,n.key)||lt(t.wr,n.wr)}static Ar(t,n){return lt(t.wr,n.wr)||F.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ie(Yt.Er)}checkEmpty(t){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,r){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new GI(s,n,i,r);this.mutationQueue.push(a);for(const l of r)this.br=this.br.add(new Yt(l.key,s)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return U.resolve(a)}lookupMutationBatch(t,n){return U.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,r=this.vr(i),s=r<0?0:r;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new Yt(n,0),r=new Yt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([i,r],a=>{const l=this.Dr(a.wr);s.push(l)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new ie(lt);return n.forEach(r=>{const s=new Yt(r,0),a=new Yt(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],l=>{i=i.add(l.wr)})}),U.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,r=i.length+1;let s=i;F.isDocumentKey(s)||(s=s.child(""));const a=new Yt(new F(s),0);let l=new ie(lt);return this.br.forEachWhile(u=>{const h=u.key.path;return!!i.isPrefixOf(h)&&(h.length===r&&(l=l.add(u.wr)),!0)},a),U.resolve(this.Cr(l))}Cr(t){const n=[];return t.forEach(i=>{const r=this.Dr(i);r!==null&&n.push(r)}),n}removeMutationBatch(t,n){dt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return U.forEach(n.mutations,r=>{const s=new Yt(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.br=i})}On(t){}containsKey(t,n){const i=new Yt(n,0),r=this.br.firstAfterOrEqual(i);return U.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,U.resolve()}Fr(t,n){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const n=this.vr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(t){this.Mr=t,this.docs=function(){return new xt(F.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,a=this.Mr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return U.resolve(i?i.document.mutableCopy():ce.newInvalidDocument(n))}getEntries(t,n){let i=qn();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():ce.newInvalidDocument(r))}),U.resolve(i)}getDocumentsMatchingQuery(t,n,i,r){let s=qn();const a=n.path,l=new F(a.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:d}}=u.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||lI(oI(d),i)<=0||(r.has(d.key)||ec(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(t,n,i,r){Q()}Or(t,n){return U.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new xC(this)}getSize(t){return U.resolve(this.size)}}class xC extends vC{constructor(t){super(),this.cr=t}applyChanges(t){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.cr.addEntry(t,r)):this.cr.removeEntry(i)}),U.waitFor(n)}getFromCache(t,n){return this.cr.getEntry(t,n)}getAllFromCache(t,n){return this.cr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(t){this.persistence=t,this.Nr=new Ds(n=>sm(n),am),this.lastRemoteSnapshotVersion=$.min(),this.highestTargetId=0,this.Lr=0,this.Br=new fm,this.targetCount=0,this.kr=ys.Bn()}forEachTarget(t,n){return this.Nr.forEach((i,r)=>n(r)),U.resolve()}getLastRemoteSnapshotVersion(t){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return U.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Lr&&(this.Lr=n),U.resolve()}Kn(t){this.Nr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.kr=new ys(n),this.highestTargetId=n),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,n){return this.Kn(n),this.targetCount+=1,U.resolve()}updateTargetData(t,n){return this.Kn(n),U.resolve()}removeTargetData(t,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(t,n,i){let r=0;const s=[];return this.Nr.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(t,l.targetId)),r++)}),U.waitFor(s).next(()=>r)}getTargetCount(t){return U.resolve(this.targetCount)}getTargetData(t,n){const i=this.Nr.get(n)||null;return U.resolve(i)}addMatchingKeys(t,n,i){return this.Br.Rr(n,i),U.resolve()}removeMatchingKeys(t,n,i){this.Br.mr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(a=>{s.push(r.markPotentiallyOrphaned(t,a))}),U.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Br.gr(n),U.resolve()}getMatchingKeysForTargetId(t,n){const i=this.Br.yr(n);return U.resolve(i)}containsKey(t,n){return U.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(t,n){this.qr={},this.overlays={},this.Qr=new em(0),this.Kr=!1,this.Kr=!0,this.$r=new SC,this.referenceDelegate=t(this),this.Ur=new IC(this),this.indexManager=new yC,this.remoteDocumentCache=function(r){return new RC(r)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new gC(n),this.Gr=new bC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new AC,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.qr[t.toKey()];return i||(i=new wC(n,this.referenceDelegate),this.qr[t.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,n,i){q("MemoryPersistence","Starting transaction:",t);const r=new NC(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(s=>this.referenceDelegate.jr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Hr(t,n){return U.or(Object.values(this.qr).map(i=>()=>i.containsKey(t,n)))}}class NC extends cI{constructor(t){super(),this.currentSequenceNumber=t}}class dm{constructor(t){this.persistence=t,this.Jr=new fm,this.Yr=null}static Zr(t){return new dm(t)}get Xr(){if(this.Yr)return this.Yr;throw Q()}addReference(t,n,i){return this.Jr.addReference(i,n),this.Xr.delete(i.toString()),U.resolve()}removeReference(t,n,i){return this.Jr.removeReference(i,n),this.Xr.add(i.toString()),U.resolve()}markPotentiallyOrphaned(t,n){return this.Xr.add(n.toString()),U.resolve()}removeTarget(t,n){this.Jr.gr(n.targetId).forEach(r=>this.Xr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(r=>{r.forEach(s=>this.Xr.add(s.toString()))}).next(()=>i.removeTargetData(t,n))}zr(){this.Yr=new Set}jr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Xr,i=>{const r=F.fromPath(i);return this.ei(t,r).next(s=>{s||n.removeEntry(r,$.min())})}).next(()=>(this.Yr=null,n.apply(t)))}updateLimboDocument(t,n){return this.ei(t,n).next(i=>{i?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(t){return 0}ei(t,n){return U.or([()=>U.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Hr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(t,n,i,r){this.targetId=t,this.fromCache=n,this.$i=i,this.Ui=r}static Wi(t,n){let i=it(),r=it();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new mm(t,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return v1()?8:hI(de())>0?6:4}()}initialize(t,n){this.Ji=t,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(t,n,i,r){const s={result:null};return this.Yi(t,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(t,n,r,i).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new DC;return this.Xi(t,n,a).next(l=>{if(s.result=l,this.zi)return this.es(t,n,a,l.size)})}).next(()=>s.result)}es(t,n,i,r){return i.documentReadCount<this.ji?(ta()<=rt.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",xr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),U.resolve()):(ta()<=rt.DEBUG&&q("QueryEngine","Query:",xr(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(ta()<=rt.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",xr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,cn(n))):U.resolve())}Yi(t,n){if(Hy(n))return U.resolve(null);let i=cn(n);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Mf(n,null,"F"),i=cn(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const a=it(...s);return this.Ji.getDocuments(t,a).next(l=>this.indexManager.getMinOffset(t,i).next(u=>{const h=this.ts(n,l);return this.ns(n,h,a,u.readTime)?this.Yi(t,Mf(n,null,"F")):this.rs(t,h,n,u)}))})))}Zi(t,n,i,r){return Hy(n)||r.isEqual($.min())?U.resolve(null):this.Ji.getDocuments(t,i).next(s=>{const a=this.ts(n,s);return this.ns(n,a,i,r)?U.resolve(null):(ta()<=rt.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),xr(n)),this.rs(t,a,n,aI(r,-1)).next(l=>l))})}ts(t,n){let i=new ie(bT(t));return n.forEach((r,s)=>{ec(t,s)&&(i=i.add(s))}),i}ns(t,n,i,r){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Xi(t,n,i){return ta()<=rt.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",xr(n)),this.Ji.getDocumentsMatchingQuery(t,n,Ii.min(),i)}rs(t,n,i,r){return this.Ji.getDocumentsMatchingQuery(t,i,r).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(t,n,i,r){this.persistence=t,this.ss=n,this.serializer=r,this.os=new xt(lt),this._s=new Ds(s=>sm(s),am),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(i)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new TC(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.os))}}function VC(e,t,n,i){return new MC(e,t,n,i)}async function FT(e,t){const n=Z(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.ls(t),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],l=[];let u=it();for(const h of r){a.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}for(const h of s){l.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(i,u).next(h=>({hs:h,removedBatchIds:a,addedBatchIds:l}))})})}function kC(e,t){const n=Z(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,u,h,d){const _=h.batch,m=_.keys();let E=U.resolve();return m.forEach(D=>{E=E.next(()=>d.getEntry(u,D)).next(O=>{const V=h.docVersions.get(D);dt(V!==null),O.version.compareTo(V)<0&&(_.applyToRemoteDocument(O,h),O.isValidDocument()&&(O.setReadTime(h.commitVersion),d.addEntry(O)))})}),E.next(()=>l.mutationQueue.removeMutationBatch(u,_))}(n,i,t,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=it();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(t))).next(()=>n.localDocuments.getDocuments(i,r))})}function GT(e){const t=Z(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ur.getLastRemoteSnapshotVersion(n))}function PC(e,t){const n=Z(e),i=t.snapshotVersion;let r=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});r=n.os;const l=[];t.targetChanges.forEach((d,_)=>{const m=r.get(_);if(!m)return;l.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,_).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,_)));let E=m.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(_)!==null?E=E.withResumeToken(re.EMPTY_BYTE_STRING,$.min()).withLastLimboFreeSnapshotVersion($.min()):d.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(d.resumeToken,i)),r=r.insert(_,E),function(O,V,b){return O.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(m,E,d)&&l.push(n.Ur.updateTargetData(s,E))});let u=qn(),h=it();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),l.push(UC(s,a,t.documentUpdates).next(d=>{u=d.Ps,h=d.Is})),!i.isEqual($.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(_=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,i));l.push(d)}return U.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,h)).next(()=>u)}).then(s=>(n.os=r,s))}function UC(e,t,n){let i=it(),r=it();return n.forEach(s=>i=i.add(s)),t.getEntries(e,i).next(s=>{let a=qn();return n.forEach((l,u)=>{const h=s.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(r=r.add(l)),u.isNoDocument()&&u.version.isEqual($.min())?(t.removeEntry(l,u.readTime),a=a.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(t.addEntry(u),a=a.insert(l,u)):q("LocalStore","Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{Ps:a,Is:r}})}function LC(e,t){const n=Z(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function jC(e,t){const n=Z(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Ur.getTargetData(i,t).next(s=>s?(r=s,U.resolve(r)):n.Ur.allocateTargetId(i).next(a=>(r=new fi(t,a,"TargetPurposeListen",i.currentSequenceNumber),n.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.os.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(i.targetId,i),n._s.set(t,i.targetId)),i})}async function Lf(e,t,n){const i=Z(e),r=i.os.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!wo(a))throw a;q("LocalStore",`Failed to update sequence numbers for target ${t}: ${a}`)}i.os=i.os.remove(t),i._s.delete(r.target)}function t_(e,t,n){const i=Z(e);let r=$.min(),s=it();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,h,d){const _=Z(u),m=_._s.get(d);return m!==void 0?U.resolve(_.os.get(m)):_.Ur.getTargetData(h,d)}(i,a,cn(t)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(a,l.targetId).next(u=>{s=u})}).next(()=>i.ss.getDocumentsMatchingQuery(a,t,n?r:$.min(),n?s:it())).next(l=>(zC(i,NI(t),l),{documents:l,Ts:s})))}function zC(e,t,n){let i=e.us.get(t)||$.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),e.us.set(t,i)}class e_{constructor(){this.activeTargetIds=PI()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class BC{constructor(){this.so=new e_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,n,i){this.oo[t]=n}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new e_,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ml=null;function Eh(){return ml===null?ml=function(){return 268435456+Math.round(2147483648*Math.random())}():ml++,"0x"+ml.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le="WebChannelConnection";class GC extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+n.host,this.vo=`projects/${r}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Fo(){return!1}Mo(n,i,r,s,a){const l=Eh(),u=this.xo(n,i.toUriEncodedString());q("RestConnection",`Sending RPC '${n}' ${l}:`,u,r);const h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,s,a),this.No(n,u,h,r).then(d=>(q("RestConnection",`Received RPC '${n}' ${l}: `,d),d),d=>{throw ds("RestConnection",`RPC '${n}' ${l} failed with error: `,d,"url: ",u,"request:",r),d})}Lo(n,i,r,s,a,l){return this.Mo(n,i,r,s,a)}Oo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Cs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,a)=>n[a]=s),r&&r.headers.forEach((s,a)=>n[a]=s)}xo(n,i){const r=HC[n];return`${this.Do}/v1/${i}:${r}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,n,i,r){const s=Eh();return new Promise((a,l)=>{const u=new sT;u.setWithCredentials(!0),u.listenOnce(aT.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ol.NO_ERROR:const d=u.getResponseJson();q(le,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(d)),a(d);break;case Ol.TIMEOUT:q(le,`RPC '${t}' ${s} timed out`),l(new H(L.DEADLINE_EXCEEDED,"Request time out"));break;case Ol.HTTP_ERROR:const _=u.getStatus();if(q(le,`RPC '${t}' ${s} failed with status:`,_,"response text:",u.getResponseText()),_>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const E=m==null?void 0:m.error;if(E&&E.status&&E.message){const D=function(V){const b=V.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(b)>=0?b:L.UNKNOWN}(E.status);l(new H(D,E.message))}else l(new H(L.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new H(L.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{q(le,`RPC '${t}' ${s} completed.`)}});const h=JSON.stringify(r);q(le,`RPC '${t}' ${s} sending request:`,r),u.send(n,"POST",h,i,15)})}Bo(t,n,i){const r=Eh(),s=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=uT(),l=lT(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const d=s.join("");q(le,`Creating RPC '${t}' stream ${r}: ${d}`,u);const _=a.createWebChannel(d,u);let m=!1,E=!1;const D=new FC({Io:V=>{E?q(le,`Not sending because RPC '${t}' stream ${r} is closed:`,V):(m||(q(le,`Opening RPC '${t}' stream ${r} transport.`),_.open(),m=!0),q(le,`RPC '${t}' stream ${r} sending:`,V),_.send(V))},To:()=>_.close()}),O=(V,b,v)=>{V.listen(b,S=>{try{v(S)}catch(x){setTimeout(()=>{throw x},0)}})};return O(_,oa.EventType.OPEN,()=>{E||(q(le,`RPC '${t}' stream ${r} transport opened.`),D.yo())}),O(_,oa.EventType.CLOSE,()=>{E||(E=!0,q(le,`RPC '${t}' stream ${r} transport closed`),D.So())}),O(_,oa.EventType.ERROR,V=>{E||(E=!0,ds(le,`RPC '${t}' stream ${r} transport errored:`,V),D.So(new H(L.UNAVAILABLE,"The operation could not be completed")))}),O(_,oa.EventType.MESSAGE,V=>{var b;if(!E){const v=V.data[0];dt(!!v);const S=v,x=S.error||((b=S[0])===null||b===void 0?void 0:b.error);if(x){q(le,`RPC '${t}' stream ${r} received error:`,x);const k=x.status;let j=function(T){const w=Ut[T];if(w!==void 0)return VT(w)}(k),A=x.message;j===void 0&&(j=L.INTERNAL,A="Unknown error status: "+k+" with message "+x.message),E=!0,D.So(new H(j,A)),_.close()}else q(le,`RPC '${t}' stream ${r} received:`,v),D.bo(v)}}),O(l,oT.STAT_EVENT,V=>{V.stat===If.PROXY?q(le,`RPC '${t}' stream ${r} detected buffering proxy`):V.stat===If.NOPROXY&&q(le,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{D.wo()},0),D}}function Th(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(e){return new eC(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(t,n,i=1e3,r=1.5,s=6e4){this.ui=t,this.timerId=n,this.ko=i,this.qo=r,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,n-i);r>0&&q("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(t,n,i,r,s,a,l,u){this.ui=t,this.Ho=i,this.Jo=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new YT(t,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(Bn(n.toString()),Bn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(n)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===n&&this.P_(i,r)},i=>{t(()=>{const r=new H(L.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(t,n){const i=this.h_(this.Yo);this.stream=this.T_(t,n),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>++this.e_==1?this.E_(r):this.onNext(r))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(t){return q("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return n=>{this.ui.enqueueAndForget(()=>this.Yo===t?n():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class YC extends KT{constructor(t,n,i,r,s,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}T_(t,n){return this.connection.Bo("Listen",t,n)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const n=rC(this.serializer,t),i=function(s){if(!("targetChange"in s))return $.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?$.min():a.readTime?hn(a.readTime):$.min()}(t);return this.listener.d_(n,i)}A_(t){const n={};n.database=Uf(this.serializer),n.addTarget=function(s,a){let l;const u=a.target;if(l=Of(u)?{documents:oC(s,u)}:{query:lC(s,u)._t},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=UT(s,a.resumeToken);const h=Vf(s,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo($.min())>0){l.readTime=wu(s,a.snapshotVersion.toTimestamp());const h=Vf(s,a.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,t);const i=cC(this.serializer,t);i&&(n.labels=i),this.a_(n)}R_(t){const n={};n.database=Uf(this.serializer),n.removeTarget=t,this.a_(n)}}class KC extends KT{constructor(t,n,i,r,s,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,n){return this.connection.Bo("Write",t,n)}E_(t){return dt(!!t.streamToken),this.lastStreamToken=t.streamToken,dt(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){dt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const n=aC(t.writeResults,t.commitTime),i=hn(t.commitTime);return this.listener.g_(i,n)}p_(){const t={};t.database=Uf(this.serializer),this.a_(t)}m_(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>sC(this.serializer,i))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC extends class{}{constructor(t,n,i,r){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new H(L.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,n,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(t,kf(n,i),r,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(L.UNKNOWN,s.toString())})}Lo(t,n,i,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Lo(t,kf(n,i),r,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new H(L.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class XC{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Bn(n),this.D_=!1):q("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(t,n,i,r,s){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{i.enqueueAndForget(async()=>{gr(this)&&(q("RemoteStore","Restarting streams for network reachability change."),await async function(u){const h=Z(u);h.L_.add(4),await Io(h),h.q_.set("Unknown"),h.L_.delete(4),await ac(h)}(this))})}),this.q_=new XC(i,r)}}async function ac(e){if(gr(e))for(const t of e.B_)await t(!0)}async function Io(e){for(const t of e.B_)await t(!1)}function QT(e,t){const n=Z(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),_m(n)?ym(n):Os(n).r_()&&pm(n,t))}function gm(e,t){const n=Z(e),i=Os(n);n.N_.delete(t),i.r_()&&XT(n,t),n.N_.size===0&&(i.r_()?i.o_():gr(n)&&n.q_.set("Unknown"))}function pm(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo($.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Os(e).A_(t)}function XT(e,t){e.Q_.xe(t),Os(e).R_(t)}function ym(e){e.Q_=new ZI({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),Os(e).start(),e.q_.v_()}function _m(e){return gr(e)&&!Os(e).n_()&&e.N_.size>0}function gr(e){return Z(e).L_.size===0}function $T(e){e.Q_=void 0}async function ZC(e){e.q_.set("Online")}async function WC(e){e.N_.forEach((t,n)=>{pm(e,t)})}async function JC(e,t){$T(e),_m(e)?(e.q_.M_(t),ym(e)):e.q_.set("Unknown")}async function tN(e,t,n){if(e.q_.set("Online"),t instanceof PT&&t.state===2&&t.cause)try{await async function(r,s){const a=s.cause;for(const l of s.targetIds)r.N_.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.N_.delete(l),r.Q_.removeTarget(l))}(e,t)}catch(i){q("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Ru(e,i)}else if(t instanceof kl?e.Q_.Ke(t):t instanceof kT?e.Q_.He(t):e.Q_.We(t),!n.isEqual($.min()))try{const i=await GT(e.localStore);n.compareTo(i)>=0&&await function(s,a){const l=s.Q_.rt(a);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.N_.get(h);d&&s.N_.set(h,d.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,h)=>{const d=s.N_.get(u);if(!d)return;s.N_.set(u,d.withResumeToken(re.EMPTY_BYTE_STRING,d.snapshotVersion)),XT(s,u);const _=new fi(d.target,u,h,d.sequenceNumber);pm(s,_)}),s.remoteSyncer.applyRemoteEvent(l)}(e,n)}catch(i){q("RemoteStore","Failed to raise snapshot:",i),await Ru(e,i)}}async function Ru(e,t,n){if(!wo(t))throw t;e.L_.add(1),await Io(e),e.q_.set("Offline"),n||(n=()=>GT(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{q("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await ac(e)})}function ZT(e,t){return t().catch(n=>Ru(e,n,t))}async function oc(e){const t=Z(e),n=Ni(t);let i=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;eN(t);)try{const r=await LC(t.localStore,i);if(r===null){t.O_.length===0&&n.o_();break}i=r.batchId,nN(t,r)}catch(r){await Ru(t,r)}WT(t)&&JT(t)}function eN(e){return gr(e)&&e.O_.length<10}function nN(e,t){e.O_.push(t);const n=Ni(e);n.r_()&&n.V_&&n.m_(t.mutations)}function WT(e){return gr(e)&&!Ni(e).n_()&&e.O_.length>0}function JT(e){Ni(e).start()}async function iN(e){Ni(e).p_()}async function rN(e){const t=Ni(e);for(const n of e.O_)t.m_(n.mutations)}async function sN(e,t,n){const i=e.O_.shift(),r=um.from(i,t,n);await ZT(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),await oc(e)}async function aN(e,t){t&&Ni(e).V_&&await async function(i,r){if(function(a){return QI(a)&&a!==L.ABORTED}(r.code)){const s=i.O_.shift();Ni(i).s_(),await ZT(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await oc(i)}}(e,t),WT(e)&&JT(e)}async function i_(e,t){const n=Z(e);n.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");const i=gr(n);n.L_.add(3),await Io(n),i&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await ac(n)}async function oN(e,t){const n=Z(e);t?(n.L_.delete(2),await ac(n)):t||(n.L_.add(2),await Io(n),n.q_.set("Unknown"))}function Os(e){return e.K_||(e.K_=function(n,i,r){const s=Z(n);return s.w_(),new YC(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{Eo:ZC.bind(null,e),Ro:WC.bind(null,e),mo:JC.bind(null,e),d_:tN.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),_m(e)?ym(e):e.q_.set("Unknown")):(await e.K_.stop(),$T(e))})),e.K_}function Ni(e){return e.U_||(e.U_=function(n,i,r){const s=Z(n);return s.w_(),new KC(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:iN.bind(null,e),mo:aN.bind(null,e),f_:rN.bind(null,e),g_:sN.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await oc(e)):(await e.U_.stop(),e.O_.length>0&&(q("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))})),e.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(t,n,i,r,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,r,s){const a=Date.now()+i,l=new vm(t,n,a,r,s);return l.start(i),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(L.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Em(e,t){if(Bn("AsyncQueue",`${t}: ${e}`),wo(e))return new H(L.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(t){this.comparator=t?(n,i)=>t(n,i)||F.comparator(n.key,i.key):(n,i)=>F.comparator(n.key,i.key),this.keyedMap=la(),this.sortedSet=new xt(this.comparator)}static emptySet(t){return new ts(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ts)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new ts;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(){this.W_=new xt(F.comparator)}track(t){const n=t.doc.key,i=this.W_.get(n);i?t.type!==0&&i.type===3?this.W_=this.W_.insert(n,t):t.type===3&&i.type!==1?this.W_=this.W_.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.W_=this.W_.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.W_=this.W_.remove(n):t.type===1&&i.type===2?this.W_=this.W_.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):Q():this.W_=this.W_.insert(n,t)}G_(){const t=[];return this.W_.inorderTraversal((n,i)=>{t.push(i)}),t}}class _s{constructor(t,n,i,r,s,a,l,u,h){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(t,n,i,r,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new _s(t,n,ts.emptySet(n),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&tc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class uN{constructor(){this.queries=s_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,i){const r=Z(n),s=r.queries;r.queries=s_(),s.forEach((a,l)=>{for(const u of l.j_)u.onError(i)})})(this,new H(L.ABORTED,"Firestore shutting down"))}}function s_(){return new Ds(e=>TT(e),tc)}async function cN(e,t){const n=Z(e);let i=3;const r=t.query;let s=n.queries.get(r);s?!s.H_()&&t.J_()&&(i=2):(s=new lN,i=t.J_()?0:1);try{switch(i){case 0:s.z_=await n.onListen(r,!0);break;case 1:s.z_=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const l=Em(a,`Initialization of query '${xr(t.query)}' failed`);return void t.onError(l)}n.queries.set(r,s),s.j_.push(t),t.Z_(n.onlineState),s.z_&&t.X_(s.z_)&&Tm(n)}async function hN(e,t){const n=Z(e),i=t.query;let r=3;const s=n.queries.get(i);if(s){const a=s.j_.indexOf(t);a>=0&&(s.j_.splice(a,1),s.j_.length===0?r=t.J_()?0:1:!s.H_()&&t.J_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function fN(e,t){const n=Z(e);let i=!1;for(const r of t){const s=r.query,a=n.queries.get(s);if(a){for(const l of a.j_)l.X_(r)&&(i=!0);a.z_=r}}i&&Tm(n)}function dN(e,t,n){const i=Z(e),r=i.queries.get(t);if(r)for(const s of r.j_)s.onError(n);i.queries.delete(t)}function Tm(e){e.Y_.forEach(t=>{t.next()})}var jf,a_;(a_=jf||(jf={})).ea="default",a_.Cache="cache";class mN{constructor(t,n,i){this.query=t,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new _s(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.na?this.ia(t)&&(this.ta.next(t),n=!0):this.sa(t,this.onlineState)&&(this.oa(t),n=!0),this.ra=t,n}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),n=!0),n}sa(t,n){if(!t.fromCache||!this.J_())return!0;const i=n!=="Offline";return(!this.options._a||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(t){t=_s.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==jf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(t){this.key=t}}class eb{constructor(t){this.key=t}}class gN{constructor(t,n){this.query=t,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=it(),this.mutatedKeys=it(),this.Aa=bT(t),this.Ra=new ts(this.Aa)}get Va(){return this.Ta}ma(t,n){const i=n?n.fa:new r_,r=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,h=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((d,_)=>{const m=r.get(d),E=ec(this.query,_)?_:null,D=!!m&&this.mutatedKeys.has(m.key),O=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let V=!1;m&&E?m.data.isEqual(E.data)?D!==O&&(i.track({type:3,doc:E}),V=!0):this.ga(m,E)||(i.track({type:2,doc:E}),V=!0,(u&&this.Aa(E,u)>0||h&&this.Aa(E,h)<0)&&(l=!0)):!m&&E?(i.track({type:0,doc:E}),V=!0):m&&!E&&(i.track({type:1,doc:m}),V=!0,(u||h)&&(l=!0)),V&&(E?(a=a.add(E),s=O?s.add(d):s.delete(d)):(a=a.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{Ra:a,fa:i,ns:l,mutatedKeys:s}}ga(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,r){const s=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const a=t.fa.G_();a.sort((d,_)=>function(E,D){const O=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return O(E)-O(D)}(d.type,_.type)||this.Aa(d.doc,_.doc)),this.pa(i),r=r!=null&&r;const l=n&&!r?this.ya():[],u=this.da.size===0&&this.current&&!r?1:0,h=u!==this.Ea;return this.Ea=u,a.length!==0||h?{snapshot:new _s(this.query,t.Ra,s,a,t.mutatedKeys,u===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new r_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=it(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const n=[];return t.forEach(i=>{this.da.has(i)||n.push(new eb(i))}),this.da.forEach(i=>{t.has(i)||n.push(new tb(i))}),n}ba(t){this.Ta=t.Ts,this.da=it();const n=this.ma(t.documents);return this.applyChanges(n,!0)}Da(){return _s.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class pN{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class yN{constructor(t){this.key=t,this.va=!1}}class _N{constructor(t,n,i,r,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new Ds(l=>TT(l),tc),this.Ma=new Map,this.xa=new Set,this.Oa=new xt(F.comparator),this.Na=new Map,this.La=new fm,this.Ba={},this.ka=new Map,this.qa=ys.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function vN(e,t,n=!0){const i=ob(e);let r;const s=i.Fa.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Da()):r=await nb(i,t,n,!0),r}async function EN(e,t){const n=ob(e);await nb(n,t,!0,!1)}async function nb(e,t,n,i){const r=await jC(e.localStore,cn(t)),s=r.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let l;return i&&(l=await TN(e,t,s,a==="current",r.resumeToken)),e.isPrimaryClient&&n&&QT(e.remoteStore,r),l}async function TN(e,t,n,i,r){e.Ka=(_,m,E)=>async function(O,V,b,v){let S=V.view.ma(b);S.ns&&(S=await t_(O.localStore,V.query,!1).then(({documents:A})=>V.view.ma(A,S)));const x=v&&v.targetChanges.get(V.targetId),k=v&&v.targetMismatches.get(V.targetId)!=null,j=V.view.applyChanges(S,O.isPrimaryClient,x,k);return l_(O,V.targetId,j.wa),j.snapshot}(e,_,m,E);const s=await t_(e.localStore,t,!0),a=new gN(t,s.Ts),l=a.ma(s.documents),u=xo.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",r),h=a.applyChanges(l,e.isPrimaryClient,u);l_(e,n,h.wa);const d=new pN(t,n,a);return e.Fa.set(t,d),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),h.snapshot}async function bN(e,t,n){const i=Z(e),r=i.Fa.get(t),s=i.Ma.get(r.targetId);if(s.length>1)return i.Ma.set(r.targetId,s.filter(a=>!tc(a,t))),void i.Fa.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Lf(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&gm(i.remoteStore,r.targetId),zf(i,r.targetId)}).catch(So)):(zf(i,r.targetId),await Lf(i.localStore,r.targetId,!0))}async function AN(e,t){const n=Z(e),i=n.Fa.get(t),r=n.Ma.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),gm(n.remoteStore,i.targetId))}async function SN(e,t,n){const i=DN(e);try{const r=await function(a,l){const u=Z(a),h=Ht.now(),d=l.reduce((E,D)=>E.add(D.key),it());let _,m;return u.persistence.runTransaction("Locally write mutations","readwrite",E=>{let D=qn(),O=it();return u.cs.getEntries(E,d).next(V=>{D=V,D.forEach((b,v)=>{v.isValidDocument()||(O=O.add(b))})}).next(()=>u.localDocuments.getOverlayedDocuments(E,D)).next(V=>{_=V;const b=[];for(const v of l){const S=HI(v,_.get(v.key).overlayedDocument);S!=null&&b.push(new mr(v.key,S,mT(S.value.mapValue),Vn.exists(!0)))}return u.mutationQueue.addMutationBatch(E,h,b,l)}).next(V=>{m=V;const b=V.applyToLocalDocumentSet(_,O);return u.documentOverlayCache.saveOverlays(E,V.batchId,b)})}).then(()=>({batchId:m.batchId,changes:ST(_)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(a,l,u){let h=a.Ba[a.currentUser.toKey()];h||(h=new xt(lt)),h=h.insert(l,u),a.Ba[a.currentUser.toKey()]=h}(i,r.batchId,n),await Co(i,r.changes),await oc(i.remoteStore)}catch(r){const s=Em(r,"Failed to persist write");n.reject(s)}}async function ib(e,t){const n=Z(e);try{const i=await PC(n.localStore,t);t.targetChanges.forEach((r,s)=>{const a=n.Na.get(s);a&&(dt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?a.va=!0:r.modifiedDocuments.size>0?dt(a.va):r.removedDocuments.size>0&&(dt(a.va),a.va=!1))}),await Co(n,i,t)}catch(i){await So(i)}}function o_(e,t,n){const i=Z(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Fa.forEach((s,a)=>{const l=a.view.Z_(t);l.snapshot&&r.push(l.snapshot)}),function(a,l){const u=Z(a);u.onlineState=l;let h=!1;u.queries.forEach((d,_)=>{for(const m of _.j_)m.Z_(l)&&(h=!0)}),h&&Tm(u)}(i.eventManager,t),r.length&&i.Ca.d_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function wN(e,t,n){const i=Z(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.Na.get(t),s=r&&r.key;if(s){let a=new xt(F.comparator);a=a.insert(s,ce.newNoDocument(s,$.min()));const l=it().add(s),u=new rc($.min(),new Map,new xt(lt),a,l);await ib(i,u),i.Oa=i.Oa.remove(s),i.Na.delete(t),bm(i)}else await Lf(i.localStore,t,!1).then(()=>zf(i,t,n)).catch(So)}async function RN(e,t){const n=Z(e),i=t.batch.batchId;try{const r=await kC(n.localStore,t);sb(n,i,null),rb(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Co(n,r)}catch(r){await So(r)}}async function xN(e,t,n){const i=Z(e);try{const r=await function(a,l){const u=Z(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return u.mutationQueue.lookupMutationBatch(h,l).next(_=>(dt(_!==null),d=_.keys(),u.mutationQueue.removeMutationBatch(h,_))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>u.localDocuments.getDocuments(h,d))})}(i.localStore,t);sb(i,t,n),rb(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await Co(i,r)}catch(r){await So(r)}}function rb(e,t){(e.ka.get(t)||[]).forEach(n=>{n.resolve()}),e.ka.delete(t)}function sb(e,t,n){const i=Z(e);let r=i.Ba[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(n?s.reject(n):s.resolve(),r=r.remove(t)),i.Ba[i.currentUser.toKey()]=r}}function zf(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Ma.get(t))e.Fa.delete(i),n&&e.Ca.$a(i,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(i=>{e.La.containsKey(i)||ab(e,i)})}function ab(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);n!==null&&(gm(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),bm(e))}function l_(e,t,n){for(const i of n)i instanceof tb?(e.La.addReference(i.key,t),IN(e,i)):i instanceof eb?(q("SyncEngine","Document no longer in limbo: "+i.key),e.La.removeReference(i.key,t),e.La.containsKey(i.key)||ab(e,i.key)):Q()}function IN(e,t){const n=t.key,i=n.path.canonicalString();e.Oa.get(n)||e.xa.has(i)||(q("SyncEngine","New document in limbo: "+n),e.xa.add(i),bm(e))}function bm(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new F(Dt.fromString(t)),i=e.qa.next();e.Na.set(i,new yN(n)),e.Oa=e.Oa.insert(n,i),QT(e.remoteStore,new fi(cn(om(n.path)),i,"TargetPurposeLimboResolution",em.oe))}}async function Co(e,t,n){const i=Z(e),r=[],s=[],a=[];i.Fa.isEmpty()||(i.Fa.forEach((l,u)=>{a.push(i.Ka(u,t,n).then(h=>{var d;if((h||n)&&i.isPrimaryClient){const _=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;i.sharedClientState.updateQueryState(u.targetId,_?"current":"not-current")}if(h){r.push(h);const _=mm.Wi(u.targetId,h);s.push(_)}}))}),await Promise.all(a),i.Ca.d_(r),await async function(u,h){const d=Z(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>U.forEach(h,m=>U.forEach(m.$i,E=>d.persistence.referenceDelegate.addReference(_,m.targetId,E)).next(()=>U.forEach(m.Ui,E=>d.persistence.referenceDelegate.removeReference(_,m.targetId,E)))))}catch(_){if(!wo(_))throw _;q("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of h){const m=_.targetId;if(!_.fromCache){const E=d.os.get(m),D=E.snapshotVersion,O=E.withLastLimboFreeSnapshotVersion(D);d.os=d.os.insert(m,O)}}}(i.localStore,s))}async function CN(e,t){const n=Z(e);if(!n.currentUser.isEqual(t)){q("SyncEngine","User change. New user:",t.toKey());const i=await FT(n.localStore,t);n.currentUser=t,function(s,a){s.ka.forEach(l=>{l.forEach(u=>{u.reject(new H(L.CANCELLED,a))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Co(n,i.hs)}}function NN(e,t){const n=Z(e),i=n.Na.get(t);if(i&&i.va)return it().add(i.key);{let r=it();const s=n.Ma.get(t);if(!s)return r;for(const a of s){const l=n.Fa.get(a);r=r.unionWith(l.view.Va)}return r}}function ob(e){const t=Z(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ib.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=NN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wN.bind(null,t),t.Ca.d_=fN.bind(null,t.eventManager),t.Ca.$a=dN.bind(null,t.eventManager),t}function DN(e){const t=Z(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=RN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=xN.bind(null,t),t}class xu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=sc(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,n){return null}Ha(t,n){return null}za(t){return VC(this.persistence,new OC,t.initialUser,this.serializer)}Ga(t){return new CC(dm.Zr,this.serializer)}Wa(t){return new BC}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xu.provider={build:()=>new xu};class Bf{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>o_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=CN.bind(null,this.syncEngine),await oN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new uN}()}createDatastore(t){const n=sc(t.databaseInfo.databaseId),i=function(s){return new GC(s)}(t.databaseInfo);return function(s,a,l,u){return new QC(s,a,l,u)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,r,s,a,l){return new $C(i,r,s,a,l)}(this.localStore,this.datastore,t.asyncQueue,n=>o_(this.syncEngine,n,0),function(){return n_.D()?new n_:new qC}())}createSyncEngine(t,n){return function(r,s,a,l,u,h,d){const _=new _N(r,s,a,l,u,h);return d&&(_.Qa=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(r){const s=Z(r);q("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Io(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Bf.provider={build:()=>new Bf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):Bn("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(t,n,i,r,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=ue.UNAUTHENTICATED,this.clientId=hT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async a=>{q("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(q("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=Em(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function bh(e,t){e.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async r=>{i.isEqual(r)||(await FT(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function u_(e,t){e.asyncQueue.verifyOperationInProgress();const n=await VN(e);q("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>i_(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,r)=>i_(t.remoteStore,r)),e._onlineComponents=t}async function VN(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){q("FirestoreClient","Using user provided OfflineComponentProvider");try{await bh(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(r){return r.name==="FirebaseError"?r.code===L.FAILED_PRECONDITION||r.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;ds("Error using user provided cache. Falling back to memory cache: "+n),await bh(e,new xu)}}else q("FirestoreClient","Using default OfflineComponentProvider"),await bh(e,new xu);return e._offlineComponents}async function lb(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(q("FirestoreClient","Using user provided OnlineComponentProvider"),await u_(e,e._uninitializedComponentsProvider._online)):(q("FirestoreClient","Using default OnlineComponentProvider"),await u_(e,new Bf))),e._onlineComponents}function kN(e){return lb(e).then(t=>t.syncEngine)}async function PN(e){const t=await lb(e),n=t.eventManager;return n.onListen=vN.bind(null,t.syncEngine),n.onUnlisten=bN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=EN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=AN.bind(null,t.syncEngine),n}function UN(e,t,n={}){const i=new Si;return e.asyncQueue.enqueueAndForget(async()=>function(s,a,l,u,h){const d=new ON({next:m=>{d.Za(),a.enqueueAndForget(()=>hN(s,_));const E=m.docs.has(l);!E&&m.fromCache?h.reject(new H(L.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&m.fromCache&&u&&u.source==="server"?h.reject(new H(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(m)},error:m=>h.reject(m)}),_=new mN(om(l.path),d,{includeMetadataChanges:!0,_a:!0});return cN(s,_)}(await PN(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(e,t,n){if(!n)throw new H(L.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function jN(e,t,n,i){if(t===!0&&i===!0)throw new H(L.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function h_(e){if(!F.isDocumentKey(e))throw new H(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Am(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Q()}function Ja(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new H(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Am(e);throw new H(L.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new H(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new H(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}jN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ub((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new H(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new H(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new H(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Sm{constructor(t,n,i,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new H(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f_(t),t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Zx;switch(i.type){case"firstParty":return new eI(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new H(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=c_.get(n);i&&(q("ComponentProvider","Removing Datastore"),c_.delete(n),i.terminate())}(this),Promise.resolve()}}function zN(e,t,n,i={}){var r;const s=(e=Ja(e,Sm))._getSettings(),a=`${t}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&ds("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),i.mockUserToken){let l,u;if(typeof i.mockUserToken=="string")l=i.mockUserToken,u=ue.MOCK_USER;else{l=f1(i.mockUserToken,(r=e._app)===null||r===void 0?void 0:r.options.projectId);const h=i.mockUserToken.sub||i.mockUserToken.user_id;if(!h)throw new H(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ue(h)}e._authCredentials=new Wx(new cT(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new wm(this.firestore,t,this._query)}}class Fe{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new to(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Fe(this.firestore,t,this._key)}}class to extends wm{constructor(t,n,i){super(t,n,om(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Fe(this.firestore,null,new F(t))}withConverter(t){return new to(this.firestore,t,this._path)}}function Rm(e,t,...n){if(e=ke(e),arguments.length===1&&(t=hT.newId()),LN("doc","path",t),e instanceof Sm){const i=Dt.fromString(t,...n);return h_(i),new Fe(e,null,new F(i))}{if(!(e instanceof Fe||e instanceof to))throw new H(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Dt.fromString(t,...n));return h_(i),new Fe(e.firestore,e instanceof to?e.converter:null,new F(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new YT(this,"async_queue_retry"),this.Vu=()=>{const i=Th();i&&q("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=t;const n=Th();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const n=Th();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Si;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!wo(t))throw t;q("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(t){const n=this.mu.then(()=>(this.du=!0,t().catch(i=>{this.Eu=i,this.du=!1;const r=function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l}(i);throw Bn("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.du=!1,i))));return this.mu=n,n}enqueueAfterDelay(t,n,i){this.fu(),this.Ru.indexOf(t)>-1&&(n=0);const r=vm.createAndSchedule(this,t,n,i,s=>this.yu(s));return this.Tu.push(r),r}fu(){this.Eu&&Q()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const n of this.Tu)if(n.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const n=this.Tu.indexOf(t);this.Tu.splice(n,1)}}class xm extends Sm{constructor(t,n,i,r){super(t,n,i,r),this.type="firestore",this._queue=new d_,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new d_(t),this._firestoreClient=void 0,await t}}}function BN(e,t){const n=typeof e=="object"?e:TE(),i=typeof e=="string"?e:"(default)",r=Fd(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=c1("firestore");s&&zN(r,...s)}return r}function cb(e){if(e._terminated)throw new H(L.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||qN(e),e._firestoreClient}function qN(e){var t,n,i;const r=e._freezeSettings(),s=function(l,u,h,d){return new mI(l,u,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,ub(d.experimentalLongPollingOptions),d.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,r);e._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),e._firestoreClient=new MN(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(t){this._byteString=t}static fromBase64String(t){try{return new vs(re.fromBase64String(t))}catch(n){throw new H(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new vs(re.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new H(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ee(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new H(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new H(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return lt(this._lat,t._lat)||lt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=/^__.*__$/;class FN{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new mr(t,this.data,this.fieldMask,n,this.fieldTransforms):new Ro(t,this.data,n,this.fieldTransforms)}}function fb(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}class Dm{constructor(t,n,i,r,s,a){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new Dm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.Fu({path:i,xu:!1});return r.Ou(t),r}Nu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.Fu({path:i,xu:!1});return r.vu(),r}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return Iu(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if(fb(this.Cu)&&HN.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class GN{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||sc(t)}Qu(t,n,i,r=!1){return new Dm({Cu:t,methodName:n,qu:i,path:ee.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function YN(e){const t=e._freezeSettings(),n=sc(e._databaseId);return new GN(e._databaseId,!!t.ignoreUndefinedProperties,n)}function KN(e,t,n,i,r,s={}){const a=e.Qu(s.merge||s.mergeFields?2:0,t,n,r);pb("Data must be an object, but it was:",a,i);const l=mb(i,a);let u,h;if(s.merge)u=new Xe(a.fieldMask),h=a.fieldTransforms;else if(s.mergeFields){const d=[];for(const _ of s.mergeFields){const m=QN(t,_,n);if(!a.contains(m))throw new H(L.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);$N(d,m)||d.push(m)}u=new Xe(d),h=a.fieldTransforms.filter(_=>u.covers(_.field))}else u=null,h=a.fieldTransforms;return new FN(new qe(l),u,h)}function db(e,t){if(gb(e=ke(e)))return pb("Unsupported field value:",t,e),mb(e,t);if(e instanceof hb)return function(i,r){if(!fb(r.Cu))throw r.Bu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Bu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return function(i,r){const s=[];let a=0;for(const l of i){let u=db(l,r.Lu(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}}(e,t)}return function(i,r){if((i=ke(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return UI(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Ht.fromDate(i);return{timestampValue:wu(r.serializer,s)}}if(i instanceof Ht){const s=new Ht(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:wu(r.serializer,s)}}if(i instanceof Cm)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof vs)return{bytesValue:UT(r.serializer,i._byteString)};if(i instanceof Fe){const s=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw r.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:hm(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Nm)return function(a,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw l.Bu("VectorValues must only contain numeric values.");return lm(l.serializer,u)})}}}}}}(i,r);throw r.Bu(`Unsupported field value: ${Am(i)}`)}(e,t)}function mb(e,t){const n={};return fT(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ns(e,(i,r)=>{const s=db(r,t.Mu(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function gb(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ht||e instanceof Cm||e instanceof vs||e instanceof Fe||e instanceof hb||e instanceof Nm)}function pb(e,t,n){if(!gb(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=Am(n);throw i==="an object"?t.Bu(e+" a custom object"):t.Bu(e+" "+i)}}function QN(e,t,n){if((t=ke(t))instanceof Im)return t._internalPath;if(typeof t=="string")return yb(e,t);throw Iu("Field path arguments must be of type string or ",e,!1,void 0,n)}const XN=new RegExp("[~\\*/\\[\\]]");function yb(e,t,n){if(t.search(XN)>=0)throw Iu(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Im(...t.split("."))._internalPath}catch{throw Iu(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Iu(e,t,n,i,r){const s=i&&!i.isEmpty(),a=r!==void 0;let l=`Function ${t}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${i}`),a&&(u+=` in document ${r}`),u+=")"),new H(L.INVALID_ARGUMENT,l+e+u)}function $N(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(t,n,i,r,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Fe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new ZN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(vb("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ZN extends _b{data(){return super.data()}}function vb(e,t){return typeof t=="string"?yb(e,t):t instanceof Im?t._internalPath:t._delegate._internalPath}class WN{convertValue(t,n="none"){switch(lr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return kt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(or(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Q()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return Ns(t,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(t){var n,i,r;const s=(r=(i=(n=t.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(a=>kt(a.doubleValue));return new Nm(s)}convertGeoPoint(t){return new Cm(kt(t.latitude),kt(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=im(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Qa(t));default:return null}}convertTimestamp(t){const n=Ci(t);return new Ht(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=Dt.fromString(t);dt(HT(i));const r=new Xa(i.get(1),i.get(3)),s=new F(i.popFirst(5));return r.isEqual(n)||Bn(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(e,t,n){let i;return i=e?e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Eb extends _b{constructor(t,n,i,r,s,a){super(t,n,i,r,a),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new eD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(vb("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class eD extends Eb{data(t={}){return super.data(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(e){e=Ja(e,Fe);const t=Ja(e.firestore,xm);return UN(cb(t),e._key).then(n=>sD(t,e,n))}class iD extends WN{constructor(t){super(),this.firestore=t}convertBytes(t){return new vs(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Fe(this.firestore,null,n)}}function Tb(e,t,n){e=Ja(e,Fe);const i=Ja(e.firestore,xm),r=JN(e.converter,t);return rD(i,[KN(YN(i),"setDoc",e._key,r,e.converter!==null,n).toMutation(e._key,Vn.none())])}function rD(e,t){return function(i,r){const s=new Si;return i.asyncQueue.enqueueAndForget(async()=>SN(await kN(i),r,s)),s.promise}(cb(e),t)}function sD(e,t,n){const i=n.docs.get(t._key),r=new iD(e);return new Eb(e,r,t._key,i,new tD(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(r){Cs=r})(xs),fs(new ir("firestore",(i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),l=new xm(new Jx(i.getProvider("auth-internal")),new iI(i.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new H(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xa(h.options.projectId,d)}(a,r),a);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Ai(My,"4.7.3",t),Ai(My,"4.7.3","esm2017")})();const aD={apiKey:"AIzaSyD_t9Kaj9eOjISp33Wqj_k9YqZETb21vBw",authDomain:"trainer-crm-be9ea.firebaseapp.com",projectId:"trainer-crm-be9ea",storageBucket:"trainer-crm-be9ea.firebasestorage.app",messagingSenderId:"499615107271",appId:"1:499615107271:web:370531703a115d4daa96e2",measurementId:"G-1Y9Q2S7GRZ"},bb=EE(aD),Cu=Xx(bb),Om=BN(bb),oD=()=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),lD=()=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),uD=()=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21a6 6 0 00-9-5.197m0 0A5.975 5.975 0 0112 13a5.975 5.975 0 013 1.803M15 21a9 9 0 00-9-5.197"})}),cD=()=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),hD=()=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),fD=()=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),Ab=()=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[g.jsx("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),g.jsx("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"})]}),Sb=()=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})}),wb=()=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),dD=()=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),mD=()=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 transition-transform duration-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),gD=()=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-green-500 absolute top-0.5 right-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2.5",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 1v22M17 5H9.5a3.5 3.5 0 000 7h5m-5 7h5.5a3.5 3.5 0 000-7H9.5"})}),pD=()=>{const[e,t]=et.useState(""),[n,i]=et.useState(""),[r,s]=et.useState(!0),[a,l]=et.useState(""),u=async h=>{h.preventDefault(),l("");try{if(r)await V2(Cu,e,n);else{const _=(await M2(Cu,e,n)).user,m={blocks:[{id:0,name:"Без оплаты",cost:0,trainingCount:0},{id:1,name:"Блок 10 тренировок",cost:25e3,trainingCount:10},{id:2,name:"Блок 8 тренировок",cost:2e4,trainingCount:8},{id:3,name:"Блок 5 тренировок",cost:14e3,trainingCount:5},{id:4,name:"Разовая",cost:3e3,trainingCount:1}],participants:[],attendance:{},rentAmount:5e4};await Tb(Rm(Om,"users",_.uid),m)}}catch(d){l(d.message)}};return g.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-900",children:g.jsxs("div",{className:"w-full max-w-md p-8 space-y-6 bg-gray-800 rounded-lg shadow-lg border border-gray-700",children:[g.jsx("h2",{className:"text-2xl font-bold text-center text-white",children:r?"Вход в VisitFlow":"Регистрация в VisitFlow"}),g.jsxs("form",{onSubmit:u,className:"space-y-6",children:[g.jsx("input",{type:"email",value:e,onChange:h=>t(h.target.value),placeholder:"Email",className:"w-full px-4 py-2 text-gray-300 bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 border border-gray-600",required:!0}),g.jsx("input",{type:"password",value:n,onChange:h=>i(h.target.value),placeholder:"Пароль",className:"w-full px-4 py-2 text-gray-300 bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 border border-gray-600",required:!0}),g.jsx("button",{type:"submit",className:"w-full px-4 py-2 font-bold text-white bg-orange-500 rounded-lg hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-opacity-50 transition-colors",children:r?"Войти":"Зарегистрироваться"}),a&&g.jsx("p",{className:"text-sm text-center text-red-500",children:a})]}),g.jsxs("p",{className:"text-sm text-center text-gray-300",children:[r?"Нет аккаунта?":"Уже есть аккаунт?",g.jsx("button",{onClick:()=>s(!r),className:"ml-1 font-bold text-orange-400 hover:underline",children:r?"Зарегистрироваться":"Войти"})]})]})})},qf=({show:e,onClose:t,title:n,children:i})=>e?g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center",children:g.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-md border border-gray-700",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsx("h3",{className:"text-xl font-semibold text-white",children:n}),g.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white text-2xl",children:"×"})]}),g.jsx("div",{children:i})]})}):null,Rb=({show:e,onClose:t,onConfirm:n,title:i,children:r})=>e?g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center",children:g.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-sm border border-gray-700",children:[g.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:i}),g.jsx("div",{className:"text-gray-300 mb-6",children:r}),g.jsxs("div",{className:"flex justify-end space-x-3",children:[g.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600",children:"Отмена"}),g.jsx("button",{onClick:n,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Удалить"})]})]})}):null,m_=({participants:e,blocks:t,attendance:n,selectedDate:i,rentAmount:r})=>{const s=i.getFullYear(),a=i.getMonth(),l=Object.keys(n).filter(_=>{const m=_.split("-");if(m.length!==4)return!1;const E=parseInt(m[1],10),D=parseInt(m[2],10);return n[_]===!0&&E===s&&D===a}).length,u=typeof r=="number"&&r>0?r:5e4,d=e.reduce((_,m)=>{const D=(m.payments||[]).filter(O=>{const V=new Date(O.paymentDate);return V.getFullYear()===s&&V.getMonth()===a}).reduce((O,V)=>{const b=t.find(v=>v.id===V.blockId);return O+(b?b.cost:0)},0);return _+D},0)-u;return g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-baseline space-x-2 mb-6",children:[g.jsx("h1",{className:"text-3xl font-bold text-white",children:"Дашборд"}),g.jsxs("span",{className:"text-lg text-gray-400",children:["(",i.toLocaleString("ru-RU",{month:"long",year:"numeric"}),")"]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg border border-gray-700 hover:border-teal-500 transition-colors",children:[g.jsx("h2",{className:"text-xl font-semibold text-gray-300",children:"Активные участники"}),g.jsx("p",{className:"text-4xl font-bold text-orange-500 mt-2",children:e.length})]}),g.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg border border-gray-700 hover:border-teal-500 transition-colors",children:[g.jsx("h2",{className:"text-xl font-semibold text-gray-300",children:"Проведено тренировок"}),g.jsx("p",{className:"text-4xl font-bold text-orange-500 mt-2",children:l})]}),g.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg border border-gray-700 hover:border-teal-500 transition-colors",children:[g.jsx("h2",{className:"text-xl font-semibold text-gray-300",children:"Доход (Оплаты)"}),g.jsxs("p",{className:`text-4xl font-bold mt-2 ${d>=0?"text-green-500":"text-red-500"}`,children:[d.toLocaleString("ru-RU")," ₽"]})]})]})]})},yD=({participants:e,blocks:t,attendance:n,setAttendance:i,selectedDate:r,setSelectedDate:s})=>{const[a,l]=et.useState(null),u=new Date(r.getFullYear(),r.getMonth()+1,0).getDate(),h=Array.from({length:u},(b,v)=>v+1),d=["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],m=(new Date(r.getFullYear(),r.getMonth(),1).getDay()+6)%7,E=(b,v)=>{const S=`${b}-${r.getFullYear()}-${r.getMonth()}-${v}`;i(x=>({...x,[S]:!x[S]}))},[D,O]=et.useState([]);et.useEffect(()=>{const b={};Object.keys(n).forEach(S=>{if(!n[S])return;const x=S.split("-");if(x.length!==4)return;const k=x[0];b[k]||(b[k]=[]),b[k].push({year:parseInt(x[1],10),month:parseInt(x[2],10),day:parseInt(x[3],10)})});const v=e.map(S=>{const x=S.payments||[],k=x.reduce((C,R)=>{const pt=t.find(Gt=>Gt.id===R.blockId);return C+(pt?pt.trainingCount:0)},0),j=b[S.id]||[],A=j.length,p=k-A,T=j.filter(C=>C.year===r.getFullYear()&&C.month===r.getMonth()).length,w=x.length>0?x[x.length-1]:null,I=w?t.find(C=>C.id===w.blockId):null;return{...S,blockName:I?I.name:"Блок не назначен",attendedThisMonth:T,remainingSessions:p}});O(v)},[r,e,t,n]);const V=b=>{s(v=>{const S=new Date(v);return b(S),S})};return g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Календарь посещений"}),g.jsxs("div",{className:"flex justify-between items-center mb-6 bg-gray-800 p-4 rounded-xl shadow-lg border border-gray-700",children:[g.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[g.jsx("button",{onClick:()=>V(b=>b.setFullYear(b.getFullYear()-1)),className:"px-2 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 font-bold",children:"«"}),g.jsx("button",{onClick:()=>V(b=>b.setMonth(b.getMonth()-1)),className:"px-3 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600",children:"<"})]}),g.jsx("h2",{className:"text-lg sm:text-2xl font-semibold w-36 sm:w-48 text-center capitalize text-white",children:r.toLocaleString("ru-RU",{month:"long",year:"numeric"})}),g.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[g.jsx("button",{onClick:()=>V(b=>b.setMonth(b.getMonth()+1)),className:"px-3 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600",children:">"}),g.jsx("button",{onClick:()=>V(b=>b.setFullYear(b.getFullYear()+1)),className:"px-2 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 font-bold",children:"»"})]})]}),g.jsx("div",{className:"space-y-4",children:D.map(b=>{const v=a===b.id,S=b.payments||[];return g.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg overflow-hidden border border-gray-700 hover:border-teal-500 transition-colors",children:[g.jsxs("div",{className:"p-4 flex justify-between items-center cursor-pointer",onClick:()=>l(v?null:b.id),children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-bold text-white",children:b.name}),g.jsx("p",{className:"text-sm text-gray-300",children:b.blockName})]}),g.jsxs("div",{className:"text-right",children:[g.jsxs("p",{className:"text-sm font-semibold text-gray-300",children:["Посещений в этом месяце: ",b.attendedThisMonth]}),g.jsxs("p",{className:"text-sm font-bold text-orange-400",children:["Осталось тренировок: ",b.remainingSessions]})]}),g.jsx("div",{className:`ml-4 transition-transform duration-300 text-white ${v?"transform rotate-180":""}`,children:g.jsx(mD,{})})]}),v&&g.jsxs("div",{className:"p-4 border-t border-gray-700 bg-gray-900",children:[g.jsx("div",{className:"grid grid-cols-7 gap-1 text-center text-xs font-bold text-gray-400 mb-2",children:d.map(x=>g.jsx("div",{children:x},x))}),g.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[Array.from({length:m}).map((x,k)=>g.jsx("div",{},`empty-${k}`)),h.map(x=>{const k=`${b.id}-${r.getFullYear()}-${r.getMonth()}-${x}`,j=!!n[k],A=S.some(p=>{const T=new Date(p.paymentDate);return T.getFullYear()===r.getFullYear()&&T.getMonth()===r.getMonth()&&T.getDate()===x});return g.jsxs("div",{className:`relative flex items-center justify-center p-2 rounded-lg cursor-pointer transition-colors ${j?"bg-orange-500 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,onClick:()=>E(b.id,x),children:[A&&g.jsx(gD,{}),g.jsx("span",{className:"font-bold text-sm",children:x})]},x)})]})]})]},b.id)})})]})},_D=({participants:e,setParticipants:t,blocks:n,attendance:i,setAttendance:r})=>{const[s,a]=et.useState(!1),[l,u]=et.useState(!1),[h,d]=et.useState(null),[_,m]=et.useState(null),[E,D]=et.useState({name:""}),[O,V]=et.useState({blockId:"",paymentDate:""}),b=()=>{D({name:""}),a(!0)},v=p=>{var w;d(p);const T=new Date().toISOString().split("T")[0];V({blockId:((w=n[0])==null?void 0:w.id)||"",paymentDate:T}),u(!0)},S=()=>{a(!1),u(!1),d(null)},x=p=>{p.preventDefault(),t(T=>[...T,{...E,id:Date.now(),payments:[]}]),S()},k=p=>{p.preventDefault(),t(T=>T.map(w=>{if(w.id===h.id){const I={...O,blockId:parseInt(O.blockId),paymentId:Date.now()},C=w.payments||[];return{...w,payments:[...C,I]}}return w})),S()},j=p=>m(p),A=()=>{_&&(t(p=>p.filter(T=>T.id!==_)),r(p=>{const T={...p};return Object.keys(T).forEach(w=>{w.startsWith(`${_}-`)&&delete T[w]}),T}),m(null))};return g.jsxs("div",{children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx("h1",{className:"text-3xl font-bold text-white",children:"Управление участниками"}),g.jsx("button",{onClick:b,className:"px-5 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:"Добавить участника"})]}),g.jsx("div",{className:"bg-gray-800 rounded-lg shadow-lg overflow-x-auto border border-gray-700",children:g.jsxs("table",{className:"min-w-full",children:[g.jsx("thead",{className:"bg-gray-900",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"ФИО"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Дата последней оплаты"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Последний блок"}),g.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Действия"})]})}),g.jsx("tbody",{className:"divide-y divide-gray-700",children:e.map(p=>{const T=p.payments&&p.payments.length>0?p.payments[p.payments.length-1]:null,w=T?n.find(I=>I.id===T.blockId):null;return g.jsxs("tr",{className:"hover:bg-gray-700",children:[g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-white",children:p.name}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:T?new Date(T.paymentDate).toLocaleDateString("ru-RU"):"---"}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:w?w.name:"N/A"}),g.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[g.jsx("button",{onClick:()=>v(p),className:"text-orange-400 hover:text-orange-500 mr-4",children:g.jsx(Ab,{})}),g.jsx("button",{onClick:()=>j(p.id),className:"text-red-500 hover:text-red-600",children:g.jsx(Sb,{})})]})]},p.id)})})]})}),g.jsx(qf,{show:s,onClose:S,title:"Добавить участника",children:g.jsxs("form",{onSubmit:x,className:"space-y-4",children:[g.jsx("input",{type:"text",name:"name",value:E.name,onChange:p=>D({name:p.target.value}),placeholder:"ФИО",className:"w-full p-2 border border-gray-600 rounded-lg bg-gray-700 text-gray-300 focus:ring-orange-500 focus:border-orange-500",required:!0}),g.jsxs("div",{className:"flex justify-end space-x-3",children:[g.jsx("button",{type:"button",onClick:S,className:"px-4 py-2 bg-gray-700 rounded-lg",children:"Отмена"}),g.jsx("button",{type:"submit",className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600",children:"Добавить"})]})]})}),g.jsx(qf,{show:l,onClose:S,title:`Добавить оплату для: ${h==null?void 0:h.name}`,children:g.jsxs("form",{onSubmit:k,className:"space-y-4",children:[g.jsxs("select",{name:"blockId",value:O.blockId,onChange:p=>V({...O,blockId:p.target.value}),className:"w-full p-2 border border-gray-600 rounded-lg bg-gray-700 text-gray-300 focus:ring-orange-500 focus:border-orange-500",required:!0,children:[g.jsx("option",{value:"",disabled:!0,children:"Выберите блок"}),n.map(p=>g.jsx("option",{value:p.id,children:p.name},p.id))]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"paymentDate",className:"block text-sm font-medium text-gray-300",children:"Дата оплаты"}),g.jsx("input",{type:"date",id:"paymentDate",name:"paymentDate",value:O.paymentDate,onChange:p=>V({...O,paymentDate:p.target.value}),className:"w-full p-2 border border-gray-600 rounded-lg bg-gray-700 text-gray-300 focus:ring-orange-500 focus:border-orange-500",required:!0})]}),g.jsxs("div",{className:"flex justify-end space-x-3",children:[g.jsx("button",{type:"button",onClick:S,className:"px-4 py-2 bg-gray-700 rounded-lg",children:"Отмена"}),g.jsx("button",{type:"submit",className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600",children:"Добавить оплату"})]})]})}),g.jsx(Rb,{show:_!==null,onClose:()=>m(null),onConfirm:A,title:"Подтвердите удаление",children:"Вы уверены, что хотите удалить этого участника?"})]})},vD=({blocks:e,setBlocks:t,participants:n,setParticipants:i,rentAmount:r,setRentAmount:s})=>{const[a,l]=et.useState(!1),[u,h]=et.useState(null),[d,_]=et.useState(null),[m,E]=et.useState({name:"",cost:"",trainingCount:""}),D=(x=null)=>{h(x),E(x?{...x}:{name:"",cost:"",trainingCount:""}),l(!0)},O=()=>{l(!1),h(null)},V=x=>{const{name:k,value:j}=x.target;E(A=>({...A,[k]:j}))},b=x=>{x.preventDefault();const k={...m,cost:parseFloat(m.cost),trainingCount:parseInt(m.trainingCount,10)};t(u?e.map(j=>j.id===u.id?{...j,...k}:j):[...e,{...k,id:Date.now()}]),O()},v=x=>{x!==0&&_(x)},S=()=>{d&&(i(x=>x.map(k=>{const j=(k.payments||[]).filter(A=>A.blockId!==d);return{...k,payments:j}})),t(x=>x.filter(k=>k.id!==d)),_(null))};return g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold text-white mb-6",children:"Управление блоками"}),g.jsx("div",{className:"flex justify-end items-center mb-6",children:g.jsx("button",{onClick:()=>D(),className:"px-5 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600",children:"Создать блок"})}),g.jsx("div",{className:"bg-gray-800 rounded-lg shadow-lg overflow-x-auto border border-gray-700",children:g.jsxs("table",{className:"min-w-full",children:[g.jsx("thead",{className:"bg-gray-900",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Название блока"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Стоимость"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Кол-во тренировок"}),g.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Действия"})]})}),g.jsx("tbody",{className:"divide-y divide-gray-700",children:e.map(x=>g.jsxs("tr",{className:"hover:bg-gray-700",children:[g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-white",children:x.name}),g.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:[x.cost.toLocaleString("ru-RU")," ₽"]}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:x.trainingCount}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:x.id!==0&&g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:()=>D(x),className:"text-orange-400 hover:text-orange-500 mr-4",children:g.jsx(Ab,{})}),g.jsx("button",{onClick:()=>v(x.id),className:"text-red-500 hover:text-red-600",children:g.jsx(Sb,{})})]})})]},x.id))})]})}),g.jsxs("div",{className:"mt-8 bg-gray-800 p-6 rounded-lg shadow-lg border border-gray-700",children:[g.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Расходы"}),g.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Сумма аренды в месяц"}),g.jsx("input",{type:"number",value:r,onChange:x=>s(parseFloat(x.target.value)||0),className:"mt-1 block w-full p-2 border border-gray-600 rounded-lg bg-gray-700 text-gray-300 focus:ring-orange-500 focus:border-orange-500",placeholder:"Введите сумму аренды"})]}),g.jsx(qf,{show:a,onClose:O,title:u?"Редактировать блок":"Создать блок",children:g.jsxs("form",{onSubmit:b,className:"space-y-4",children:[g.jsx("input",{type:"text",name:"name",value:m.name,onChange:V,placeholder:"Название блока",className:"w-full p-2 border border-gray-600 rounded-lg bg-gray-700 text-gray-300 focus:ring-orange-500 focus:border-orange-500",required:!0}),g.jsx("input",{type:"number",name:"cost",value:m.cost,onChange:V,placeholder:"Стоимость",className:"w-full p-2 border border-gray-600 rounded-lg bg-gray-700 text-gray-300 focus:ring-orange-500 focus:border-orange-500",required:!0}),g.jsx("input",{type:"number",name:"trainingCount",value:m.trainingCount,onChange:V,placeholder:"Количество тренировок",className:"w-full p-2 border border-gray-600 rounded-lg bg-gray-700 text-gray-300 focus:ring-orange-500 focus:border-orange-500",required:!0}),g.jsxs("div",{className:"flex justify-end space-x-3",children:[g.jsx("button",{type:"button",onClick:O,className:"px-4 py-2 bg-gray-700 rounded-lg",children:"Отмена"}),g.jsx("button",{type:"submit",className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600",children:u?"Сохранить":"Добавить"})]})]})}),g.jsx(Rb,{show:d!==null,onClose:()=>_(null),onConfirm:S,title:"Подтвердите удаление",children:"Вы уверены, что хотите удалить этот блок? Все участники, приписанные к этому блоку, будут откреплены."})]})},ED=({onBack:e,detailType:t,reportData:n,totalSales:i,netProfit:r,rentAmount:s,totalTrainings:a,avgTrainingCost:l,reportDate:u,changeDate:h})=>{const d={participantSales:"Отчет: Реализация по участникам",totalSales:"Отчет: Общая прибыль",netProfit:"Отчет: Чистая прибыль",avgCost:"Отчет: Средняя стоимость тренировки"},_=()=>{switch(t){case"participantSales":return g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"min-w-full",children:[g.jsx("thead",{className:"bg-gray-900",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"ФИО Участника"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Блок"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Стоимость 1 тренировки"}),g.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Посещено (месяц)"}),g.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Реализация (месяц)"})]})}),g.jsx("tbody",{className:"bg-gray-800 divide-y divide-gray-700",children:n.map(m=>g.jsxs("tr",{children:[g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-white",children:m.name}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:m.blockName}),g.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:[m.costPerTraining.toFixed(2)," ₽"]}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300 text-center font-bold",children:m.attendedThisMonth}),g.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white text-right font-bold",children:[m.salesThisMonth.toLocaleString("ru-RU",{minimumFractionDigits:2,maximumFractionDigits:2})," ₽"]})]},m.id))})]})});case"totalSales":return g.jsxs("div",{className:"p-8 text-center border border-gray-700 rounded-lg",children:[g.jsx("h3",{className:"text-lg font-medium text-gray-300",children:"Общая прибыль за месяц"}),g.jsxs("p",{className:"mt-2 text-5xl font-bold text-orange-500",children:[i.toLocaleString("ru-RU")," ₽"]})]});case"netProfit":return g.jsx("div",{className:"p-8 border border-gray-700 rounded-lg",children:g.jsxs("dl",{className:"divide-y divide-gray-700",children:[g.jsxs("div",{className:"flex justify-between py-3",children:[g.jsx("dt",{className:"text-lg text-gray-300",children:"Общая прибыль"}),g.jsxs("dd",{className:"text-lg font-medium text-orange-500",children:[i.toLocaleString("ru-RU")," ₽"]})]}),g.jsxs("div",{className:"flex justify-between py-3",children:[g.jsx("dt",{className:"text-lg text-gray-300",children:"Сумма аренды"}),g.jsxs("dd",{className:"text-lg font-medium text-red-500",children:["- ",s.toLocaleString("ru-RU")," ₽"]})]}),g.jsxs("div",{className:"flex justify-between py-4",children:[g.jsx("dt",{className:"text-xl font-bold text-white",children:"Чистая прибыль"}),g.jsxs("dd",{className:`text-xl font-bold ${r>=0?"text-green-500":"text-red-500"}`,children:[r.toLocaleString("ru-RU")," ₽"]})]})]})});case"avgCost":return g.jsx("div",{className:"p-8 border border-gray-700 rounded-lg",children:g.jsxs("dl",{className:"divide-y divide-gray-700",children:[g.jsxs("div",{className:"flex justify-between py-3",children:[g.jsx("dt",{className:"text-lg text-gray-300",children:"Общая прибыль"}),g.jsxs("dd",{className:"text-lg font-medium text-white",children:[i.toLocaleString("ru-RU")," ₽"]})]}),g.jsxs("div",{className:"flex justify-between py-3",children:[g.jsx("dt",{className:"text-lg text-gray-300",children:"Количество тренировок"}),g.jsx("dd",{className:"text-lg font-medium text-white",children:a})]}),g.jsxs("div",{className:"flex justify-between py-4",children:[g.jsx("dt",{className:"text-xl font-bold text-white",children:"Средняя стоимость тренировки"}),g.jsxs("dd",{className:"text-xl font-bold text-teal-500",children:[l.toLocaleString("ru-RU",{minimumFractionDigits:2,maximumFractionDigits:2})," ₽"]})]})]})});default:return null}};return g.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg border border-gray-700",children:[g.jsxs("button",{onClick:e,className:"flex items-center mb-6 px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600",children:[g.jsx(wb,{}),"Назад к отчетам"]}),g.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:d[t]}),g.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[g.jsx("button",{onClick:()=>h(m=>m.setMonth(m.getMonth()-1)),className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600",children:"<"}),g.jsx("h3",{className:"text-xl font-semibold w-48 text-center text-white",children:u.toLocaleString("ru-RU",{month:"long",year:"numeric"})}),g.jsx("button",{onClick:()=>h(m=>m.setMonth(m.getMonth()+1)),className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600",children:">"})]}),_()]})},TD=({participants:e,blocks:t,attendance:n,rentAmount:i,selectedDate:r,setSelectedDate:s})=>{const[a,l]=et.useState("overview"),[u,h]=et.useState(null),d=r.getFullYear(),_=r.getMonth(),m=x=>{s(k=>{const j=new Date(k);return x(j),j})},E=x=>{h(x),l("details")},D=e.map(x=>{const k=x.payments||[];let j=0,A=0;k.forEach(R=>{const pt=t.find(Gt=>Gt.id===R.blockId);pt&&(j+=pt.cost,A+=pt.trainingCount)});const p=A>0?j/A:0,T=Object.keys(n).filter(R=>{const pt=R.split("-");return pt.length===4&&pt[0]===String(x.id)&&n[R]===!0&&parseInt(pt[1],10)===d&&parseInt(pt[2],10)===_}).length,w=p*T,I=k.length>0?k[k.length-1]:null,C=I?t.find(R=>R.id===I.blockId):null;return{...x,blockName:C?C.name:"N/A",costPerTraining:p,attendedThisMonth:T,salesThisMonth:w}}),O=D.reduce((x,k)=>x+k.salesThisMonth,0),V=typeof i=="number"&&i>0?i:5e4,b=O-V,v=D.reduce((x,k)=>x+k.attendedThisMonth,0),S=v>0?O/v:0;return a==="details"?g.jsx(ED,{onBack:()=>l("overview"),detailType:u,reportData:D,totalSales:O,netProfit:b,rentAmount:V,totalTrainings:v,avgTrainingCost:S,reportDate:r,changeDate:m}):g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold text-white mb-6",children:"Отчеты"}),g.jsx("div",{className:"flex items-center space-x-2 mb-6",children:g.jsx("h3",{className:"text-xl font-semibold w-full text-center text-white",children:r.toLocaleString("ru-RU",{month:"long",year:"numeric"})})}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[g.jsxs("div",{onClick:()=>E("totalSales"),className:"bg-gray-800 p-6 rounded-lg shadow-lg border border-gray-700 hover:border-teal-500 transition-colors cursor-pointer",children:[g.jsx("h2",{className:"text-xl font-semibold text-gray-300",children:"Общая прибыль"}),g.jsxs("p",{className:"text-4xl font-bold text-orange-500 mt-2",children:[O.toLocaleString("ru-RU")," ₽"]})]}),g.jsxs("div",{onClick:()=>E("netProfit"),className:"bg-gray-800 p-6 rounded-lg shadow-lg border border-gray-700 hover:border-teal-500 transition-colors cursor-pointer",children:[g.jsx("h2",{className:"text-xl font-semibold text-gray-300",children:"Чистая прибыль"}),g.jsxs("p",{className:`text-4xl font-bold mt-2 ${b>=0?"text-green-500":"text-red-500"}`,children:[b.toLocaleString("ru-RU")," ₽"]})]}),g.jsxs("div",{onClick:()=>E("avgCost"),className:"bg-gray-800 p-6 rounded-lg shadow-lg border border-gray-700 hover:border-teal-500 transition-colors cursor-pointer",children:[g.jsx("h2",{className:"text-xl font-semibold text-gray-300",children:"Средняя стоимость тренировки"}),g.jsxs("p",{className:"text-4xl font-bold text-teal-500 mt-2",children:[S.toLocaleString("ru-RU",{minimumFractionDigits:2,maximumFractionDigits:2})," ₽"]})]}),g.jsxs("div",{onClick:()=>E("participantSales"),className:"bg-gray-800 p-6 rounded-lg shadow-lg border border-gray-700 hover:border-teal-500 transition-colors cursor-pointer",children:[g.jsx("h2",{className:"text-xl font-semibold text-gray-300",children:"Реализация по участникам"}),g.jsx("p",{className:"text-gray-400 mt-2",children:"Нажмите, чтобы посмотреть детали"})]})]})]})},bD=({participants:e,blocks:t,attendance:n,rentAmount:i,selectedDate:r,setSelectedDate:s})=>{const[a,l]=et.useState("overview"),[u,h]=et.useState(""),d=v=>{h(v),l("details")},_=v=>{s(S=>{const x=new Date(S);return v(x),x})},E=(()=>{const v=r.getFullYear();return Array.from({length:12},(S,x)=>{const k=e.reduce((p,T)=>{const w=T.payments||[];let I=0,C=0;w.forEach(Gt=>{const B=t.find(K=>K.id===Gt.blockId);B&&(I+=B.cost,C+=B.trainingCount)});const R=C>0?I/C:0,pt=Object.keys(n).filter(Gt=>{const B=Gt.split("-");return B.length===4&&B[0]===String(T.id)&&n[Gt]&&parseInt(B[1],10)===v&&parseInt(B[2],10)===x}).length;return p+pt*R},0),j=e.reduce((p,T)=>{const w=(T.payments||[]).filter(I=>{const C=new Date(I.paymentDate);return C.getFullYear()===v&&C.getMonth()===x});return p+w.reduce((I,C)=>{const R=t.find(pt=>pt.id===C.blockId);return I+(R?R.cost:0)},0)},0),A=typeof i=="number"&&i>0?i:5e4;return{month:new Date(v,x).toLocaleString("ru-RU",{month:"short"}),income:j-A,netProfit:k-A}})})(),D=E.reduce((v,S)=>S.netProfit>0?v+S.netProfit:v,0),O=E.reduce((v,S)=>S.income>0?v+S.income:v,0),V=Math.max(...E.flatMap(v=>[v.income,v.netProfit]),0),b=Math.min(...E.flatMap(v=>[v.income,v.netProfit]),0);if(a==="details"){const v=u==="netProfitByMonth",S=v?`Чистая прибыль по месяцам за ${r.getFullYear()} год`:`Доход (оплаты) за вычетом аренды за ${r.getFullYear()} год`,x=v?"netProfit":"income",k="Итого (прибыльные месяцы):",j=v?D:O;return g.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg border border-gray-700",children:[g.jsxs("button",{onClick:()=>l("overview"),className:"flex items-center mb-6 px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600",children:[g.jsx(wb,{}),"Назад к графикам"]}),g.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:S}),g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("div",{className:"w-full h-96 p-4 pt-10 border border-gray-700 rounded-lg flex justify-between items-center relative",style:{minWidth:"600px"},children:[g.jsx("div",{className:"absolute top-1/2 left-0 w-full h-px bg-gray-700"}),E.map((A,p)=>{const T=A[x],w=T<0,I=Math.max(Math.abs(b),V,i),C=I===0?0:Math.abs(T)/I*100;return g.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center h-full relative px-1 group",children:[g.jsx("div",{className:`w-full h-1/2 flex flex-col ${w?"justify-start":"justify-end"} items-center`,children:!w&&g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"text-xs font-semibold text-gray-300 mb-1",children:T.toLocaleString("ru-RU")}),g.jsxs("div",{className:"w-5/6 relative transition-transform duration-200 ease-in-out group-hover:-translate-y-1",style:{height:`${C/2}%`},children:[g.jsx("div",{className:"absolute inset-0 bg-green-500 border border-green-600"}),g.jsx("div",{className:"absolute top-0 left-0 w-full h-3 bg-green-600 opacity-70 transform -skew-x-[45deg] -translate-y-1.5"}),g.jsx("div",{className:"absolute top-0 right-0 w-3 h-full bg-green-700 opacity-70 transform -skew-y-[45deg] translate-x-1.5"})]})]})}),g.jsx("div",{className:`w-full h-1/2 flex flex-col ${w?"justify-start":"justify-end"} items-center`,children:w&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"w-5/6 relative transition-transform duration-200 ease-in-out group-hover:translate-y-1",style:{height:`${C/2}%`},children:[g.jsx("div",{className:"absolute inset-0 bg-red-500 border border-red-600"}),g.jsx("div",{className:"absolute bottom-0 left-0 w-full h-3 bg-red-600 opacity-70 transform -skew-x-[45deg] translate-y-1.5"}),g.jsx("div",{className:"absolute top-0 right-0 w-3 h-full bg-red-700 opacity-70 transform -skew-y-[45deg] translate-x-1.5"})]}),g.jsx("span",{className:"text-xs font-semibold text-gray-300 mt-1",children:T.toLocaleString("ru-RU")})]})}),g.jsx("span",{className:"absolute -bottom-1 text-xs text-gray-400",children:A.month.toUpperCase()})]},p)})]})}),g.jsx("div",{className:"mt-6 overflow-x-auto",children:g.jsxs("table",{className:"min-w-full",children:[g.jsx("thead",{className:"bg-gray-900",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Месяц"}),g.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-300 uppercase tracking-wider",children:v?"Чистая прибыль":"Доход (за вычетом аренды)"})]})}),g.jsx("tbody",{className:"bg-gray-800 divide-y divide-gray-700",children:E.map((A,p)=>g.jsxs("tr",{children:[g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-white",children:new Date(r.getFullYear(),p).toLocaleString("ru-RU",{month:"long"})}),g.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm text-right font-bold ${A[x]>=0?"text-green-500":"text-red-500"}`,children:[A[x].toLocaleString("ru-RU")," ₽"]})]},p))}),g.jsx("tfoot",{className:"bg-gray-900",children:g.jsxs("tr",{children:[g.jsx("td",{className:"px-6 py-4 text-right text-sm font-bold text-gray-300 uppercase",children:k}),g.jsxs("td",{className:"px-6 py-4 text-right text-sm font-extrabold text-green-500",children:[j.toLocaleString("ru-RU")," ₽"]})]})})]})})]})}return g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold text-white mb-6",children:"Графики"}),g.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[g.jsx("button",{onClick:()=>_(v=>v.setFullYear(v.getFullYear()-1)),className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600",children:"<"}),g.jsx("h3",{className:"text-xl font-semibold w-48 text-center text-white",children:r.getFullYear()}),g.jsx("button",{onClick:()=>_(v=>v.setFullYear(v.getFullYear()+1)),className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600",children:">"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{onClick:()=>d("incomeByMonth"),className:"bg-gray-800 p-6 rounded-lg shadow-lg border border-gray-700 hover:border-teal-500 transition-colors cursor-pointer",children:[g.jsx("h2",{className:"text-xl font-semibold text-gray-300",children:"Доход (оплаты) по месяцам"}),g.jsx("p",{className:"text-gray-400 mt-2",children:"Динамика дохода (за вычетом аренды) за год"})]}),g.jsxs("div",{onClick:()=>d("netProfitByMonth"),className:"bg-gray-800 p-6 rounded-lg shadow-lg border border-gray-700 hover:border-teal-500 transition-colors cursor-pointer",children:[g.jsx("h2",{className:"text-xl font-semibold text-gray-300",children:"Чистая прибыль (реализация) по месяцам"}),g.jsx("p",{className:"text-gray-400 mt-2",children:"Динамика чистой прибыли за год"})]})]})]})},AD=({user:e,initialData:t})=>{const[n,i]=et.useState("dashboard"),[r,s]=et.useState(new Date),[a,l]=et.useState(!1),[u,h]=et.useState(t.blocks||[]),[d,_]=et.useState(t.participants||[]),[m,E]=et.useState(t.attendance||{}),[D,O]=et.useState(()=>{const S=t==null?void 0:t.rentAmount;return typeof S=="number"&&S>0?S:5e4});et.useEffect(()=>{(typeof D!="number"||D<=0)&&O(5e4)},[D]),et.useEffect(()=>{const S=async()=>{if(e){const k={blocks:u,participants:d,attendance:m,rentAmount:D};await Tb(Rm(Om,"users",e.uid),k)}},x=setTimeout(()=>{S()},1e3);return()=>{clearTimeout(x)}},[u,d,m,D,e]);const V=async()=>{try{await L2(Cu)}catch(S){console.error("Ошибка выхода:",S)}},b=()=>{const S={participants:d,setParticipants:_,blocks:u,setBlocks:h,attendance:m,setAttendance:E,rentAmount:D,setRentAmount:O,selectedDate:r,setSelectedDate:s};switch(n){case"dashboard":return g.jsx(m_,{...S});case"calendar":return g.jsx(yD,{...S});case"participants":return g.jsx(_D,{...S});case"blocks":return g.jsx(vD,{...S});case"reports":return g.jsx(TD,{...S});case"charts":return g.jsx(bD,{...S});default:return g.jsx(m_,{...S})}},v=({page:S,icon:x,children:k})=>g.jsxs("button",{onClick:()=>{i(S),l(!1)},className:`flex items-center space-x-3 px-4 py-3 rounded-lg w-full text-left transition-colors ${n===S?"bg-orange-500 text-white shadow-lg":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[x,g.jsx("span",{className:"font-medium",children:k})]});return g.jsxs("div",{className:"relative min-h-screen md:flex bg-gray-900 font-sans text-gray-300",children:[g.jsxs("div",{className:"md:hidden flex justify-between items-center p-4 bg-gray-800 border-b border-gray-700",children:[g.jsxs("div",{className:"text-2xl font-bold text-white flex items-center space-x-2",children:[g.jsx("span",{children:"✅"}),g.jsx("span",{children:"VisitFlow"})]}),g.jsx("button",{onClick:()=>l(!a),className:"text-gray-300 hover:text-white",children:g.jsx(dD,{})})]}),g.jsxs("aside",{className:`w-64 bg-gray-800 p-4 flex flex-col border-r border-gray-700 fixed inset-y-0 left-0 z-30 transform transition-transform duration-300 ease-in-out md:relative md:translate-x-0 ${a?"translate-x-0":"-translate-x-full"}`,children:[g.jsxs("div",{className:"text-2xl font-bold text-white mb-8 items-center space-x-2 hidden md:flex",children:[g.jsx("span",{children:"✅"}),g.jsx("span",{children:"VisitFlow"})]}),g.jsx("nav",{className:"flex-grow",children:g.jsxs("div",{className:"flex flex-col space-y-2",children:[g.jsx(v,{page:"dashboard",icon:g.jsx(oD,{}),children:"Дашборд"}),g.jsx(v,{page:"calendar",icon:g.jsx(lD,{}),children:"Календарь"}),g.jsx(v,{page:"participants",icon:g.jsx(uD,{}),children:"Участники"}),g.jsx(v,{page:"blocks",icon:g.jsx(cD,{}),children:"Блоки"}),g.jsx(v,{page:"reports",icon:g.jsx(hD,{}),children:"Отчеты"}),g.jsx(v,{page:"charts",icon:g.jsx(fD,{}),children:"Графики"})]})}),g.jsx("div",{className:"mt-auto",children:g.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg bg-gray-900",children:[g.jsx("img",{className:"h-10 w-10 rounded-full",src:`https://placehold.co/100x100/374151/D1D5DB?text=${e.email[0].toUpperCase()}`,alt:"User"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-semibold text-white text-sm truncate",children:e.email}),g.jsx("button",{onClick:V,className:"text-sm text-orange-400 hover:underline",children:"Выйти"})]})]})})]}),g.jsx("main",{className:"flex-1 p-4 sm:p-8 overflow-y-auto",children:b()})]})};function SD(){const[e,t]=et.useState(null),[n,i]=et.useState(!0),[r,s]=et.useState(null);return et.useEffect(()=>{const a=U2(Cu,async l=>{if(l){const u=Rm(Om,"users",l.uid),h=await nD(u);h.exists()?s(h.data()):console.log("No such document for user!"),t(l)}else t(null),s(null);i(!1)});return()=>a()},[]),n||e&&!r?g.jsx("div",{className:"flex justify-center items-center h-screen font-bold text-xl bg-gray-900 text-white",children:"Загрузка..."}):e?g.jsx(AD,{user:e,initialData:r}):g.jsx(pD,{})}n1.createRoot(document.getElementById("root")).render(g.jsx(bA.StrictMode,{children:g.jsx(SD,{})}));
